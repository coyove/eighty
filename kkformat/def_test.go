package kkformat

import (
	"math/rand"
	"strings"
	"testing"
	"time"
)

var table = []string{
	"!", "\"", "#", "$", "%", "&", "'", "(", ")", "*", "+", ",", "-", ".", "/", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9",
	":", ";", "<", "=", ">", "?", "@", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R",
	"S", "T", "U", "V", "W", "X", "Y", "Z", "[", "\\", "]", "^", "_", "`", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k",
	"l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "{", "|", "}", "~", "", "¤", "§", "¨", "°", "±",
	"×", "à", "á", "è", "é", "ê", "ì", "í", "ò", "ó", "÷", "ù", "ú", "ü", "ā", "ē", "ě", "ī", "ō", "ū", "ǎ", "ǐ", "ǒ", "ǔ",
	"ǖ", "ǘ", "ǚ", "ǜ", "ˇ", "ˉ", "Α", "Β", "Γ", "Δ", "Ε", "Ζ", "Η", "Θ", "Ι", "Κ", "Λ", "Μ", "Ν", "Ξ", "Ο", "Π", "Ρ", "Σ", "Τ",
	"Υ", "Φ", "Χ", "Ψ", "Ω", "α", "β", "γ", "δ", "ε", "ζ", "η", "θ", "ι", "κ", "λ", "μ", "ν", "ξ", "ο", "π", "ρ", "σ", "τ", "υ",
	"φ", "χ", "ψ", "ω", "Ё", "А", "Б", "В", "Г", "Д", "Е", "Ж", "З", "И", "Й", "К", "Л", "М", "Н", "О", "П", "Р", "С", "Т", "У",
	"Ф", "Х", "Ц", "Ч", "Ш", "Щ", "Ъ", "Ы", "Ь", "Э", "Ю", "Я", "а", "б", "в", "г", "д", "е", "ж", "з", "и", "й", "к", "л", "м",
	"н", "о", "п", "р", "с", "т", "у", "ф", "х", "ц", "ч", "ш", "щ", "ъ", "ы", "ь", "э", "ю", "я", "ё", "―", "‖", "‘", "’", "“",
	"”", "…", "‰", "′", "″", "※", "℃", "№", "Ⅰ", "Ⅱ", "Ⅲ", "Ⅳ", "Ⅴ", "Ⅵ", "Ⅶ", "Ⅷ", "Ⅸ", "Ⅹ", "Ⅺ", "Ⅻ", "←", "↑", "→",
	"↓", "∈", "∏", "∑", "√", "∝", "∞", "∠", "∥", "∧", "∨", "∩", "∪", "∫", "∮", "∴", "∵", "∶", "∷", "∽", "≈", "≌", "≠", "≡", "≤",
	"≥", "≮", "≯", "⊙", "⊥", "⌒", "①", "②", "③", "④", "⑤", "⑥", "⑦", "⑧", "⑨", "⑩", "⑴", "⑵", "⑶", "⑷", "⑸", "⑹", "⑺", "⑻",
	"⑼", "⑽", "⑾", "⑿", "⒀", "⒁", "⒂", "⒃", "⒄", "⒅", "⒆", "⒇", "⒈", "⒉", "⒊", "⒋", "⒌", "⒍", "⒎", "⒏", "⒐", "⒑",
	"⒒", "⒓", "⒔", "⒕", "⒖", "⒗", "⒘", "⒙", "⒚", "⒛", "─", "━", "│", "┃", "┌", "┍", "┎", "┏", "┐", "┑", "┒", "┓", "└", "┕",
	"┖", "┗", "┘", "┙", "┚", "┛", "├", "┝", "┞", "┟", "┠", "┡", "┢", "┣", "┤", "┥", "┦", "┧", "┨", "┩", "┪", "┫", "┬", "┭", "┮", "┯",
	"┰", "┱", "┲", "┳", "┴", "┵", "┶", "┷", "┸", "┹", "┺", "┻", "┼", "┽", "┾", "┿", "╀", "╁", "╂", "╃", "╄", "╅", "╆", "╇", "╈", "╉",
	"╊", "╋", "■", "□", "▲", "△", "◆", "◇", "○", "◎", "●", "★", "☆", "♀", "♂", "　", "、", "。", "〃", "々", "〈", "〉", "《", "》",
	"「", "」", "『", "』", "【", "】", "〓", "〔", "〕", "〖", "〗", "ぁ", "あ", "ぃ", "い", "ぅ", "う", "ぇ", "え", "ぉ", "お", "か",
	"が", "き", "ぎ", "く", "ぐ", "け", "げ", "こ", "ご", "さ", "ざ", "し", "じ", "す", "ず", "せ", "ぜ", "そ", "ぞ", "た", "だ", "ち",
	"ぢ", "っ", "つ", "づ", "て", "で", "と", "ど", "な", "に", "ぬ", "ね", "の", "は", "ば", "ぱ", "ひ", "び", "ぴ", "ふ", "ぶ", "ぷ",
	"へ", "べ", "ぺ", "ほ", "ぼ", "ぽ", "ま", "み", "む", "め", "も", "ゃ", "や", "ゅ", "ゆ", "ょ", "よ", "ら", "り", "る", "れ", "ろ",
	"ゎ", "わ", "ゐ", "ゑ", "を", "ん", "ァ", "ア", "ィ", "イ", "ゥ", "ウ", "ェ", "エ", "ォ", "オ", "カ", "ガ", "キ", "ギ", "ク", "グ",
	"ケ", "ゲ", "コ", "ゴ", "サ", "ザ", "シ", "ジ", "ス", "ズ", "セ", "ゼ", "ソ", "ゾ", "タ", "ダ", "チ", "ヂ", "ッ", "ツ", "ヅ", "テ",
	"デ", "ト", "ド", "ナ", "ニ", "ヌ", "ネ", "ノ", "ハ", "バ", "パ", "ヒ", "ビ", "ピ", "フ", "ブ", "プ", "ヘ", "ベ", "ペ", "ホ", "ボ",
	"ポ", "マ", "ミ", "ム", "メ", "モ", "ャ", "ヤ", "ュ", "ユ", "ョ", "ヨ", "ラ", "リ", "ル", "レ", "ロ", "ヮ", "ワ", "ヰ", "ヱ", "ヲ",
	"ン", "ヴ", "ヵ", "ヶ", "・", "ㄅ", "ㄆ", "ㄇ", "ㄈ", "ㄉ", "ㄊ", "ㄋ", "ㄌ", "ㄍ", "ㄎ", "ㄏ", "ㄐ", "ㄑ", "ㄒ", "ㄓ", "ㄔ", "ㄕ",
	"ㄖ", "ㄗ", "ㄘ", "ㄙ", "ㄚ", "ㄛ", "ㄜ", "ㄝ", "ㄞ", "ㄟ", "ㄠ", "ㄡ", "ㄢ", "ㄣ", "ㄤ", "ㄥ", "ㄦ", "ㄧ", "ㄨ", "ㄩ", "㈠", "㈡",
	"㈢", "㈣", "㈤", "㈥", "㈦", "㈧", "㈨", "㈩", "一", "丁", "七", "万", "丈", "三", "上", "下", "丌", "不", "与", "丐", "丑", "专",
	"且", "丕", "世", "丘", "丙", "业", "丛", "东", "丝", "丞", "丢", "两", "严", "丧", "个", "丫", "丬", "中", "丰", "串", "临", "丶",
	"丸", "丹", "为", "主", "丽", "举", "丿", "乃", "久", "乇", "么", "义", "之", "乌", "乍", "乎", "乏", "乐", "乒", "乓", "乔", "乖",
	"乘", "乙", "乜", "九", "乞", "也", "习", "乡", "书", "乩", "买", "乱", "乳", "乾", "了", "予", "争", "事", "二", "亍", "于", "亏",
	"云", "互", "亓", "五", "井", "亘", "亚", "些", "亟", "亠", "亡", "亢", "交", "亥", "亦", "产", "亨", "亩", "享", "京", "亭", "亮",
	"亲", "亳", "亵", "人", "亻", "亿", "什", "仁", "仂", "仃", "仄", "仅", "仆", "仇", "仉", "今", "介", "仍", "从", "仑", "仓", "仔",
	"仕", "他", "仗", "付", "仙", "仝", "仞", "仟", "仡", "代", "令", "以", "仨", "仪", "仫", "们", "仰", "仲", "仳", "仵", "件", "价",
	"任", "份", "仿", "企", "伉", "伊", "伍", "伎", "伏", "伐", "休", "众", "优", "伙", "会", "伛", "伞", "伟", "传", "伢", "伤", "伥",
	"伦", "伧", "伪", "伫", "伯", "估", "伲", "伴", "伶", "伸", "伺", "似", "伽", "佃", "但", "位", "低", "住", "佐", "佑", "体", "何",
	"佗", "佘", "余", "佚", "佛", "佝", "佞", "佟", "你", "佣", "佤", "佥", "佧", "佩", "佬", "佯", "佰", "佳", "佴", "佶", "佻", "佼",
	"佾", "使", "侃", "侄", "侈", "侉", "例", "侍", "侏", "侑", "侔", "侗", "供", "依", "侠", "侣", "侥", "侦", "侧", "侨", "侩", "侪",
	"侬", "侮", "侯", "侵", "便", "促", "俄", "俅", "俊", "俎", "俏", "俐", "俑", "俗", "俘", "俚", "俜", "保", "俞", "俟", "信", "俣",
	"俦", "俨", "俩", "俪", "俭", "修", "俯", "俱", "俳", "俸", "俺", "俾", "倌", "倍", "倏", "倒", "倔", "倘", "候", "倚", "倜", "借",
	"倡", "倥", "倦", "倨", "倩", "倪", "倬", "倭", "倮", "债", "值", "倾", "偃", "假", "偈", "偌", "偎", "偏", "偕", "做", "停", "健",
}

func gen() string {
	r := rand.New(rand.NewSource(time.Now().UnixNano()))
	ln := r.Intn(512) + 512
	ret := make([]string, ln)
	for i := 0; i < ln; i++ {
		ret[i] = table[r.Intn(len(table))]
	}

	return strings.Join(ret, "")
}

func TestStringToBytes(t *testing.T) {
	for i := 0; i < 10000; i++ {
		str := gen()
		if BytesToPlane0String(Plane0StringToBytes(str)) != str {
			t.Error(str)
		}
	}
}
