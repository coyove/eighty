<!DOCTYPE html>
<html>
<title>日英併記組版</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1.0, minimum-scale=1.0, maximum-scale=1.0">
<meta charset="utf-8">

<style>*{box-sizing:border-box}body{padding:4px;font-size:14px;margin:0;line-height:1.5}#content{margin:0 auto;overflow:hidden}#content div{padding:1px 0;min-height:1em;margin:0}li,p,ul{display:inline-block;zoom:1;white-space:pre;padding:0;margin:0;font-family:consolas,monospace;text-align:center;text-decoration:none}a li,a p{text-decoration:underline}._mark *{color:black}</style>
<style>li{width:7px}p[a]{width:7px}p[b]{width:14px}p[c]{width:21px}p[d]{width:28px}p[e]{width:35px}p[f]{width:42px}p[g]{width:49px}p[h]{width:56px}p[i]{width:63px}p[j]{width:70px}p[k]{width:77px}p[l]{width:84px}p[m]{width:91px}p[n]{width:98px}p[o]{width:105px}p[p]{width:112px}p[q]{width:119px}p[r]{width:126px}p[s]{width:133px}p[t]{width:140px}p[u]{width:147px}p[v]{width:154px}p[w]{width:161px}p[x]{width:168px}p[y]{width:175px}p[z]{width:182px}p[bb]{width:189px}p[bc]{width:196px}p[bd]{width:203px}p[be]{width:210px}p[bf]{width:217px}p[bg]{width:224px}p[bh]{width:231px}p[bi]{width:238px}p[bj]{width:245px}p[bk]{width:252px}p[bl]{width:259px}p[bm]{width:266px}p[bn]{width:273px}p[bo]{width:280px}p[bp]{width:287px}p[bq]{width:294px}p[br]{width:301px}p[bs]{width:308px}p[bt]{width:315px}p[bu]{width:322px}p[bv]{width:329px}p[bw]{width:336px}p[bx]{width:343px}p[by]{width:350px}p[bz]{width:357px}p[ca]{width:364px}p[cb]{width:371px}p[cc]{width:378px}p[cd]{width:385px}p[ce]{width:392px}p[cf]{width:399px}p[cg]{width:406px}p[ch]{width:413px}p[ci]{width:420px}p[cj]{width:427px}p[ck]{width:434px}p[cl]{width:441px}p[cm]{width:448px}p[cn]{width:455px}p[co]{width:462px}p[cp]{width:469px}p[cq]{width:476px}p[cr]{width:483px}p[cs]{width:490px}p[ct]{width:497px}p[cu]{width:504px}p[cv]{width:511px}p[cw]{width:518px}p[cx]{width:525px}p[cy]{width:532px}p[cz]{width:539px}p[da]{width:546px}p[db]{width:553px}p[dc]{width:560px}</style>


<script type="text/javascript">
    var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;

    

    

    
    if (width < 83 * 14 / 2)
        location.href = location.href.match(/\/([^\/]+?)\.w\.html/)[1] + ".m.html";
    else if (width < 123 * 14 / 2)
        location.href = location.href.match(/\/([^\/]+?)\.w\.html/)[1] + ".html";
    
</script>

<div id="content" style="width: 842px">
<div><a  href='https://coyove.github.io/go80/'><ul><li>h<li>o<li>m<li>e</ul></a><ul><li> <li>|<li> </ul><a target='_blank' href='https://github.com/coyove'><ul><li>g<li>i<li>t<li>h<li>u<li>b</ul></a><ul><li> <li>|<li> </ul><a  href='/about.html'><ul><li>a<li>b<li>o<li>u<li>t</ul></a></div><hr><div><ul><li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> </ul><p l>日英併記組版</p><ul><li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> </ul></div><div><ul><li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li>2<li>0<li>1<li>7<li>-<li>1<li>2<li>-<li>0<li>2<li>T<li>1<li>7<li>:<li>0<li>1<li>:<li>1<li>2<li>+<li>0<li>8<li>:<li>0<li>0<li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> </ul></div><div></div><div class=_toc id=toc1><a  href='#mark1'><ul><li>1<li>.<li> </ul><p b>第</p><ul><li> <li>1<li> </ul><p b>章</p><ul><li> </ul><p l>制御綴の引数</p><ul><li> <li>1<li>1</ul></a></div>
<div class=_toc id=toc2><a  href='#mark2'><ul><li>2<li>.<li> </ul><p b>第</p><ul><li> <li>2<li> </ul><p b>章</p><ul><li> </ul><p v>文字列リスト処理の基礎</p><ul><li> <li>1<li>7</ul></a></div>
<div class=_toc id=toc3><a  href='#mark3'><ul><li>3<li>.<li> </ul><p b>第</p><ul><li> <li>3<li> </ul><p b>章</p><ul><li> <li>T<li>E<li>X<li> </ul><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>1</ul></a></div>
<div class=_toc id=toc4><a  href='#mark4'><ul><li>4<li>.<li> </ul><p b>第</p><ul><li> <li>4<li> </ul><p b>章</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>5</ul></a></div>
<div class=_toc id=toc5><a  href='#mark5'><ul><li>5<li>.<li> </ul><p b>第</p><ul><li> <li>5<li> </ul><p b>章</p><ul><li> </ul><p d>練習</p><ul><li> </ul><p d>その</p><ul><li> <li>1<li> <li>3<li>1</ul></a></div>
<div class=_toc id=toc6><a  href='#mark6'><ul><li>6<li>.<li> </ul><p b>第</p><ul><li> <li>6<li> </ul><p b>章</p><ul><li> </ul><p h>カウンタ</p><p b>ー</p><p x>の親子関係と一括リセット</p><ul><li> <li>3<li>5</ul></a></div>
<div class=_toc id=toc7><a  href='#mark7'><ul><li>7<li>.<li> </ul><p b>第</p><ul><li> <li>7<li> </ul><p b>章</p><ul><li> </ul><p h>カウンタ</p><p b>ー</p><p p>の親子関係の削除</p><ul><li> <li>4<li>1</ul></a></div>
<div class=_toc id=toc8><a  href='#mark8'><ul><li>8<li>.<li> </ul><p b>第</p><ul><li> <li>8<li> </ul><p b>章</p><ul><li> </ul><p z>相互参照とリスト処理の応用</p><ul><li> <li>4<li>7</ul></a></div>
<div class=_toc id=toc9><a  href='#mark9'><ul><li>9<li>.<li> </ul><p b>第</p><ul><li> <li>9<li> </ul><p b>章</p><ul><li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>1<li>)<li> <li>5<li>3</ul></a></div>
<div class=_toc id=toc10><a  href='#mark10'><ul><li>1<li>0<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>0<li> </ul><p b>章</p><ul><li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>2<li>)<li> <li>5<li>7</ul></a></div>
<div class=_toc id=toc11><a  href='#mark11'><ul><li>1<li>1<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>1<li> </ul><p b>章</p><ul><li> </ul><p z>スタイルファイルの仕立て方</p><ul><li> <li>6<li>1</ul></a></div>
<div class=_toc id=toc12><a  href='#mark12'><ul><li>1<li>2<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>2<li> </ul><p b>章</p><ul><li> </ul><p b>ペ</p><p b>ー</p><p p>ジごとの脚注番号</p><ul><li> <li>6<li>5</ul></a></div>
<div class=_toc id=toc13><a  href='#mark13'><ul><li>1<li>3<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li> </ul><p r>中間ファイルの新設</p><ul><li> <li>6<li>9</ul></a></div>
<div class=_toc id=toc14><a  href='#mark14'><ul><li>1<li>4<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>4<li> </ul><p b>章</p><ul><li> </ul><p t>目次用の中間ファイル</p><ul><li> <li>7<li>7</ul></a></div>
<div class=_toc id=toc15><a  href='#mark15'><ul><li>1<li>5<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>5<li> </ul><p b>章</p><ul><li> </ul><p n>目次項目の追加</p><ul><li> <li>8<li>1</ul></a></div>
<div class=_toc id=toc16><a  href='#mark16'><ul><li>1<li>6<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>6<li> </ul><p b>章</p><ul><li> </ul><p p>目次の体裁の変更</p><ul><li> <li>8<li>5</ul></a></div>
<div class=_toc id=toc17><a  href='#mark17'><ul><li>1<li>7<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>7<li> </ul><p b>章</p><ul><li> </ul><p r>章立て命令の種々相</p><ul><li> <li>8<li>9</ul></a></div>
<div class=_toc id=toc18><a  href='#mark18'><ul><li>1<li>8<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>8<li> </ul><p b>章</p><ul><li> </ul><p r>罫線を利用した数学</p><p b>・</p><p h>化学記号</p><ul><li> <li>9<li>5</ul></a></div>
<div class=_toc id=toc19><a  href='#mark19'><ul><li>1<li>9<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>9<li> </ul><p b>章</p><ul><li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p f>のロゴ</p><ul><li> <li>9<li>9</ul></a></div>
<div class=_toc id=toc20><a  href='#mark20'><ul><li>2<li>0<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>0<li> </ul><p b>章</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p j>のロゴ細見</p><ul><li> <li>1<li>0<li>3</ul></a></div>
<div class=_toc id=toc21><a  href='#mark21'><ul><li>2<li>1<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>1<li> </ul><p b>章</p><ul><li> </ul><p l>文字列の長さ</p><ul><li> <li>1<li>0<li>7</ul></a></div>
<div class=_toc id=toc22><a  href='#mark22'><ul><li>2<li>2<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>3</ul></a></div>
<div class=_toc id=toc23><a  href='#mark23'><ul><li>2<li>3<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>3<li> </ul><p b>章</p><ul><li> </ul><p p>文字列の折り返し</p><ul><li> <li>1<li>2<li>1</ul></a></div>
<div class=_toc id=toc24><a  href='#mark24'><ul><li>2<li>4<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>4<li> </ul><p b>章</p><ul><li> </ul><p h>練習その</p><ul><li> <li>2<li> <li>1<li>2<li>5</ul></a></div>
<div class=_toc id=toc25><a  href='#mark25'><ul><li>2<li>5<li>.<li> </ul><p b>第</p><ul><li> <li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p l>制御綴の引数</p><ul><li> <li>1<li>5</ul></a></div>
<div class=_toc id=toc26><a  href='#mark26'><ul><li>2<li>6<li>.<li> </ul><p b>第</p><ul><li> <li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p v>文字列リスト処理の基礎</p><ul><li> <li>1<li>9</ul></a></div>
<div class=_toc id=toc27><a  href='#mark27'><ul><li>2<li>7<li>.<li> </ul><p b>第</p><ul><li> <li>3<li> </ul><p b>章</p><ul><li>.<li> <li>T<li>E<li>X<li> </ul><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>3</ul></a></div>
<div class=_toc id=toc28><a  href='#mark28'><ul><li>2<li>8<li>.<li> </ul><p b>第</p><ul><li> <li>4<li> </ul><p b>章</p><ul><li>.<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>7</ul></a></div>
<div class=_toc id=toc29><a  href='#mark29'><ul><li>2<li>9<li>.<li> </ul><p b>第</p><ul><li> <li>4<li> </ul><p b>章</p><ul><li>.<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>9</ul></a></div>
<div class=_toc id=toc30><a  href='#mark30'><ul><li>3<li>0<li>.<li> </ul><p b>第</p><ul><li> <li>5<li> </ul><p b>章</p><ul><li>.<li> </ul><p d>練習</p><ul><li> </ul><p d>その</p><ul><li> <li>1<li> <li>3<li>3</ul></a></div>
<div class=_toc id=toc31><a  href='#mark31'><ul><li>3<li>1<li>.<li> </ul><p b>第</p><ul><li> <li>6<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p x>の親子関係と一括リセット</p><ul><li> <li>3<li>7</ul></a></div>
<div class=_toc id=toc32><a  href='#mark32'><ul><li>3<li>2<li>.<li> </ul><p b>第</p><ul><li> <li>6<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p x>の親子関係と一括リセット</p><ul><li> <li>3<li>9</ul></a></div>
<div class=_toc id=toc33><a  href='#mark33'><ul><li>3<li>3<li>.<li> </ul><p b>第</p><ul><li> <li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p p>の親子関係の削除</p><ul><li> <li>4<li>3</ul></a></div>
<div class=_toc id=toc34><a  href='#mark34'><ul><li>3<li>4<li>.<li> </ul><p b>第</p><ul><li> <li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p p>の親子関係の削除</p><ul><li> <li>4<li>5</ul></a></div>
<div class=_toc id=toc35><a  href='#mark35'><ul><li>3<li>5<li>.<li> </ul><p b>第</p><ul><li> <li>8<li> </ul><p b>章</p><ul><li>.<li> </ul><p z>相互参照とリスト処理の応用</p><ul><li> <li>4<li>9</ul></a></div>
<div class=_toc id=toc36><a  href='#mark36'><ul><li>3<li>6<li>.<li> </ul><p b>第</p><ul><li> <li>8<li> </ul><p b>章</p><ul><li>.<li> </ul><p z>相互参照とリスト処理の応用</p><ul><li> <li>5<li>1</ul></a></div>
<div class=_toc id=toc37><a  href='#mark37'><ul><li>3<li>7<li>.<li> </ul><p b>第</p><ul><li> <li>9<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>1<li>)<li> <li>5<li>5</ul></a></div>
<div class=_toc id=toc38><a  href='#mark38'><ul><li>3<li>8<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>0<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>2<li>)<li> <li>5<li>9</ul></a></div>
<div class=_toc id=toc39><a  href='#mark39'><ul><li>3<li>9<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p z>スタイルファイルの仕立て方</p><ul><li> <li>6<li>3</ul></a></div>
<div class=_toc id=toc40><a  href='#mark40'><ul><li>4<li>0<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p b>ペ</p><p b>ー</p><p p>ジごとの脚注番号</p><ul><li> <li>6<li>7</ul></a></div>
<div class=_toc id=toc41><a  href='#mark41'><ul><li>4<li>1<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>中間ファイルの新設</p><ul><li> <li>7<li>1</ul></a></div>
<div class=_toc id=toc42><a  href='#mark42'><ul><li>4<li>2<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>中間ファイルの新設</p><ul><li> <li>7<li>3</ul></a></div>
<div class=_toc id=toc43><a  href='#mark43'><ul><li>4<li>3<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>中間ファイルの新設</p><ul><li> <li>7<li>5</ul></a></div>
<div class=_toc id=toc44><a  href='#mark44'><ul><li>4<li>4<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>4<li> </ul><p b>章</p><ul><li>.<li> </ul><p t>目次用の中間ファイル</p><ul><li> <li>7<li>9</ul></a></div>
<div class=_toc id=toc45><a  href='#mark45'><ul><li>4<li>5<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>5<li> </ul><p b>章</p><ul><li>.<li> </ul><p n>目次項目の追加</p><ul><li> <li>8<li>3</ul></a></div>
<div class=_toc id=toc46><a  href='#mark46'><ul><li>4<li>6<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>6<li> </ul><p b>章</p><ul><li>.<li> </ul><p p>目次の体裁の変更</p><ul><li> <li>8<li>7</ul></a></div>
<div class=_toc id=toc47><a  href='#mark47'><ul><li>4<li>7<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>章立て命令の種々相</p><ul><li> <li>9<li>1</ul></a></div>
<div class=_toc id=toc48><a  href='#mark48'><ul><li>4<li>8<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>章立て命令の種々相</p><ul><li> <li>9<li>3</ul></a></div>
<div class=_toc id=toc49><a  href='#mark49'><ul><li>4<li>9<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>8<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>罫線を利用した数学</p><p b>・</p><p h>化学記号</p><ul><li> <li>9<li>7</ul></a></div>
<div class=_toc id=toc50><a  href='#mark50'><ul><li>5<li>0<li>.<li> </ul><p b>第</p><ul><li> <li>1<li>9<li> </ul><p b>章</p><ul><li>.<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p f>のロゴ</p><ul><li> <li>1<li>0<li>1</ul></a></div>
<div class=_toc id=toc51><a  href='#mark51'><ul><li>5<li>1<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>0<li> </ul><p b>章</p><ul><li>.<li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p j>のロゴ細見</p><ul><li> <li>1<li>0<li>5</ul></a></div>
<div class=_toc id=toc52><a  href='#mark52'><ul><li>5<li>2<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p l>文字列の長さ</p><ul><li> <li>1<li>0<li>9</ul></a></div>
<div class=_toc id=toc53><a  href='#mark53'><ul><li>5<li>3<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p l>文字列の長さ</p><ul><li> <li>1<li>1<li>1</ul></a></div>
<div class=_toc id=toc54><a  href='#mark54'><ul><li>5<li>4<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>5</ul></a></div>
<div class=_toc id=toc55><a  href='#mark55'><ul><li>5<li>5<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>7</ul></a></div>
<div class=_toc id=toc56><a  href='#mark56'><ul><li>5<li>6<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>9</ul></a></div>
<div class=_toc id=toc57><a  href='#mark57'><ul><li>5<li>7<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p p>文字列の折り返し</p><ul><li> <li>1<li>2<li>3</ul></a></div>
<div class=_toc id=toc58><a  href='#mark58'><ul><li>5<li>8<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>4<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>練習その</p><ul><li> <li>2<li> <li>1<li>2<li>7</ul></a></div>
<div class=_toc id=toc59><a  href='#mark59'><ul><li>5<li>9<li>.<li> </ul><p b>第</p><ul><li> <li>2<li>4<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>練習その</p><ul><li> <li>2<li> <li>1<li>2<li>9</ul></a></div>
<div></div>

<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>まくろの八衢藤田</p><ul><li> </ul><p bm>眞作京都工芸繊維大学工芸学部物質工学科</p></div>
<div><ul><li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0</ul></div>
<div><ul><li>(</ul><p b>第</p><ul><li> <li>1<li> </ul><p b>版</p><ul><li>)</ul></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><ul><li> <li>c<li> <li>(<li>1<li>9<li>9<li>5<li>,<li> <li>2<li>0<li>0<li>4<li>)<li> </ul><p d>藤田</p><ul><li> </ul><p bo>眞作営利を目的とする転載はご遠慮ください</p><p b>．</p><p v>非営利の転載については</p><p b>，</p></div>
<div><ul><li>1<li>.<li> </ul><p n>改変しないこと</p></div>
<div><ul><li>2<li> <li>.<li> </ul><p x>各ファイルやディレクトリ</p><p b>ー</p><p bc>内容を分割しないことを条件に</p><p b>，</p><p v>原則として自由とします</p><p b>．</p><p f>ただし</p><p b>，</p><p n>転載した場合は</p><p b>，</p><p f>転載者</p><p b>，</p><p d>転載</p></div>
<div><p b>先</p><ul><li> <li>(</ul><p h>できれば</p><p b>，</p><p j>転載先のサ</p><p b>ー</p></div>
<div><p r>ビス範囲などの情報</p><ul><li>)<li> </ul><p b>，</p><p l>転載目的など</p><p b>，</p><p v>できる限りの情報ををメ</p><p b>ー</p><p t>ルでお知らせください</p><p b>．</p><p bm>このドキュメントの内容の誤りなどによっ</p></div>
<div><p v>て起こった損害に対して</p><p b>，</p><p bc>著者は一切の責任を負いません</p><p b>．</p></div>
<div><ul><li>3</ul></div>
<div><p bm>はしぶみ本オンラインマニュアルの旧版は</p><p b>，</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p l>まくろの八衢</p><p b>」</p><ul><li>(</ul><p b>第</p><ul><li> <li>1<li>.<li>0<li>0<li> </ul><p b>版</p><ul><li>)<li> </ul><p f>として</p><p b>，</p><ul><li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> </ul><p b>に</p><p b>，</p><p j>オンライン</p><ul><li> <li>(<li>@<li>n<li>i<li>f<li>t<li>y<li> <li>(</ul><p b>当</p></div>
<div><p b>時</p><ul><li> <li>N<li>I<li>F<li>T<li>Y<li> <li>S<li>e<li>r<li>v<li>e<li>)<li> </ul><p b>の</p><ul><li> <li>F<li>P<li>R<li>I<li>N<li>T<li>)<li> </ul><p r>で公表したものです</p><p b>．</p><p h>そのころ</p><p b>，</p><p f>著者は</p><p b>，</p><p p>富士写真フイルム</p></div>
<div><ul><li>(</ul><p b>株</p><ul><li>)<li> </ul><p x>足柄研究所に勤務しており</p><p b>，</p><p p>論文執筆のために</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p bw>の利用を本格的におこないはじめた時期にあたります</p><p b>．</p><ul><li>T<li>E<li>X<li>/<li>L<li>A<li>T<li>E<li>X<li> </ul><p f>の発展</p></div>
<div><p p>史に沿っていえば</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li>2<li> <li>.<li>0<li>9<li> </ul><p l>の時代であり</p><p b>，</p><p bg>当然旧版もこれに準拠していました</p><p b>．</p><p f>その後</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p t>が主流となりましたが</p><p b>，</p><p d>本マ</p></div>
<div><p r>ニュアルはもともと</p><ul><li> <li>T<li>E<li>X<li> <li> </ul><p bg>の命令を中心に記述していますので</p><p b>，</p><p bm>大部分の記述はそのままで十分有効でした</p><p b>．</p><p v>著者の怠慢もありますが</p></div>
<div><p b>，</p><p bu>これが旧版をそのままにしておいた第一の理由です</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p l>の時代になり</p><p b>，</p><p p>さらに日本語版の</p><ul><li> <li>p<li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>が発表されたあとは</p><p b>，</p><p h>本邦でも</p><ul><li> <li>T<li>E<li>X<li>/<li>L<li>A<li>T<li>E<li>X<li> </ul><p be>が広く使われるようになってきま</p></div>
<div><p d>した</p><p b>．</p><p p>この状況をうけて</p><p b>，</p><p v>マクロの作成に関しても</p><p b>，</p><p bg>たくさんの良書が刊行されています</p><p b>．</p><ul><li>1<li> </ul><p n>本マニュアルが</p><p b>，</p><p t>その中で少しでも役に</p></div>
<div><p be>立つためものでありつづけるには</p><p b>，</p><p f>最低限</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bw>に準拠するものに書き換える必要を感じはじめました</p><p b>．</p><p f>しかし</p><p b>，</p><p n>必要性を感じつ</p></div>
<div><p d>つも</p><p b>，</p><ul><li>1<li>9<li>9<li>7<li> <li> </ul><p h>年に現職</p><ul><li> <li>(</ul><p p>京都工芸繊維大学</p><ul><li>)<li> </ul><p p>に転職したために</p><p b>，</p><p x>なかなか時間の余裕がなく</p><p b>，</p><p bk>ここまで放置することになってしまいま</p></div>
<div><p d>した</p><p b>．</p></div>
<div><p h>初出より</p><ul><li> <li>9<li> <li> </ul><p j>年を経過し</p><p b>，</p><p p>さらには世の中も</p><ul><li> <li>2<li>0<li> </ul><p h>世紀から</p><ul><li> <li>2<li>1<li> </ul><p j>世紀に移り</p><p b>，</p><p bo>これ以上放置できないところにきましたので</p><p b>，</p><p j>夏休みを利</p></div>
<div><p l>用して旧版を</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>準拠に書き換え</p><p b>，</p><p bc>改訂をおこなうことにしました</p><p b>．</p><p ca>改訂により大部になって読みにくくなってはもとも子もな</p></div>
<div><p f>いので</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bg>準拠にすることを第一義としました</p><p b>．</p></div>
<div><p h>このため</p><p b>，</p><p n>内容については</p><p b>，</p><p be>旧版の大部分をそのまま受け継ぎ</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p ca>の仕様に基づいて最小限の変更をおこなったものになって</p></div>
<div><p f>います</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2<li> </ul><p b>ε</p><p l>の出現により</p><p b>，</p><p be>本マニュアルの旧版で取り上げた</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li>2<li> <li>.<li> <li>0<li>9<li> <li> </ul><p bo>の不十分であったところが改良されています</p><p b>．</p><p f>とくに</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>p<li>a<li>r<li>b<li>o<li>x<li> <li> </ul><p h>の定義が</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p v>で変更されたことにより</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p bg>のロゴの出力異常がなくなったため</p><p b>，</p><p be>ロゴの改良マクロ自体の意味はな</p></div>
<div><p t>くなってしまいました</p><p b>．</p><p f>しかし</p><p b>，</p><p bs>フォントに関する記述は歴史的な意味もあるので</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p bi>の現状に即した形に書き直して残して</p></div>
<div><p h>あります</p><p b>．</p><p f>ただし</p><p b>，</p><p x>フォントの選択に関しては</p><ul><li>,<li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>が</p><ul><li> <li>N<li>F<li>S<li>S<li> <li>(<li>N<li>e<li>w<li> <li>F<li>o<li>n<li>t<li> <li>S<li>e<li>l<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>S<li>c<li>h<li>e<li>m<li>e<li>)<li> </ul><p t>を採用したことに伴い</p><p b>，</p><p j>もうすこし</p></div>
<div><p h>厳密な説</p></div>
<div><ul><li>1</ul><p bq>著者自身も次のような解説書を刊行しています</p><p b>．</p><p be>参考にしていただければ幸いです</p><ul><li>.</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><p f>化学者</p><p b>・</p><p p>生化学者のための</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p b>—</p><p bc>パソコンによる論文作成の手引</p><p b>”</p><p b>，</p><p l>東京化学同人</p><ul><li> <li>(<li>1<li>9<li>9<li>3<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p l>まくろの八衢</p><p b>”</p><p b>，</p><p h>アジソン</p><p b>・</p><p j>ウェスレイ</p><ul><li> <li>(<li>1<li>9<li>9<li>5<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p n>本づくりの八衢</p><p b>”</p><p b>，</p><p h>アジソン</p><p b>・</p><p j>ウェスレイ</p><ul><li> <li>(<li>1<li>9<li>9<li>6<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>階梯</p><p b>”</p><ul><li>,<li> </ul><p h>アジソン</p><p b>・</p><p j>ウェスレイ</p><ul><li> <li>(<li>1<li>9<li>9<li>6<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X</ul><p b>—</p><ul><li>T<li>y<li>p<li>e<li>s<li>e<li>t<li>t<li>i<li>n<li>g<li> <li>C<li>h<li>e<li>m<li>i<li>c<li>a<li>l<li> <li>S<li>t<li>r<li>u<li>c<li>t<li>u<li>r<li>e<li>a<li>l<li> <li>F<li>o<li>r<li>m<li>u<li>l<li>a<li>s</ul><p b>”</p><ul><li>,<li> </ul><p h>アジソン</p><p b>・</p><p j>ウェスレイ</p><ul><li> <li>(<li>1<li>9<li>9<li>7<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><p b>続</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>階梯</p><p b>・</p><p f>縦組編</p><p b>”</p><ul><li>,<li> </ul><p h>アジソン</p><p b>・</p><p j>ウェスレイ</p><ul><li> <li>(<li>1<li>9<li>9<li>8<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><ul><li>p<li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>入門</p><p b>・</p><p j>縦横文書術</p><p b>”</p><ul><li>,<li> </ul><p p>ピアソンエデュケ</p><p b>ー</p><p f>ション</p><ul><li> <li>(<li>2<li>0<li>0<li>0<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>階梯</p><ul><li> <li>(</ul><p b>第</p><ul><li> <li>2<li> </ul><p b>版</p><ul><li>)</ul><p b>”</p><ul><li>,<li> </ul><p h>ピアソン</p><p b>・</p><p h>エデュケ</p><p b>ー</p><p f>ション</p><ul><li> <li>(<li>2<li>0<li>0<li>0<li>)</ul></div>
<div><p h>藤田眞作</p><ul><li> </ul><p b>“</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>コマンドブック</p><p b>”</p><ul><li>,<li> </ul><p l>ソフトバンク</p><ul><li> <li>(<li>2<li>0<li>0<li>3<li>)</ul></div>
<div><p t>上記の著書はもちろん</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li> <li>(<li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><ul><li>)<li> </ul><p r>で組版したものです</p><p b>．</p><p d>また</p><p b>，</p><p l>専門領域でも</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>(<li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><ul><li>)<li> </ul><p v>で組版した著書を刊行し</p></div>
<div><p h>ています</p><p b>．</p><p x>とくに最後にあげたものは</p><p b>，</p><p bq>おびただしい数の化学構造式を含んでいますが</p><p b>，</p><p f>すべて</p><ul><li> <li>X<li> </ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p r>で組版したものです</p><p b>．</p><p b>ホ</p><p b>ー</p></div>
<div><p d>ムペ</p><p b>ー</p><p bu>ジのアドレスをあげておきましたのでご覧ください</p><p b>．</p></div>
<div><ul><li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> </ul><p b>“</p><ul><li>S<li>y<li>m<li>m<li>e<li>t<li>r<li>y<li> <li>a<li>n<li>d<li> <li>C<li>o<li>m<li>b<li>i<li>n<li>a<li>t<li>o<li>r<li>i<li>a<li>l<li> <li>E<li>n<li>u<li>m<li>e<li>r<li>a<li>t<li>i<li>o<li>n<li> <li>i<li>n<li> <li>C<li>h<li>e<li>m<li>i<li>s<li>t<li>r<li>y</ul><p b>”</p><ul><li>,<li> <li>S<li>p<li>r<li>i<li>n<li>g<li>e<li>r<li>-<li>V<li>e<li>r<li>l<li>a<li>g<li> <li>(<li>1<li>9<li>9<li>1<li>)</ul></div>
<div><ul><li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> </ul><p b>“</p><ul><li>C<li>o<li>m<li>p<li>u<li>t<li>e<li>r<li>-<li>O<li>r<li>i<li>e<li>n<li>t<li>e<li>d<li> <li>R<li>e<li>p<li>r<li>e<li>s<li>e<li>n<li>t<li>a<li>t<li>i<li>o<li>n<li> <li>o<li>f<li> <li>O<li>r<li>g<li>a<li>n<li>i<li>c<li> <li>R<li>e<li>a<li>c<li>t<li>i<li>o<li>n<li>s</ul><p b>”</p><ul><li>,<li> <li>Y<li>o<li>s<li>h<li>i<li>o<li>k<li>a<li> <li>S<li>h<li>o<li>t<li>e<li>n<li> <li>(<li>2<li>0<li>0<li>1<li>)</ul></div>
<div><ul><li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> </ul><p b>“</p><ul><li>O<li>r<li>g<li>a<li>n<li>i<li>c<li> <li>C<li>h<li>e<li>m<li>i<li>s<li>t<li>r<li>y<li> <li>o<li>f<li> <li>P<li>h<li>o<li>t<li>o<li>g<li>r<li>a<li>p<li>h<li>y</ul><p b>”</p><ul><li>,<li> <li>S<li>p<li>r<li>i<li>n<li>g<li>e<li>r<li>-<li>V<li>e<li>r<li>l<li>a<li>g<li> <li>(<li>2<li>0<li>0<li>4<li>)</ul></div>
<div><p b>ホ</p><p b>ー</p><p d>ムペ</p><p b>ー</p><p b>ジ</p><ul><li> </ul><a target='_blank' href='http://imt.chem.kit.ac.jp/fujita/fujitas/fujita.html'><ul><li>h<li>t<li>t<li>p<li>:<li>/<li>/<li>i<li>m<li>t<li>.<li>c<li>h<li>e<li>m<li>.<li>k<li>i<li>t<li>.<li>a<li>c<li>.<li>j<li>p<li>/<li>f<li>u<li>j<li>i<li>t<li>a<li>/<li>f<li>u<li>j<li>i<li>t<li>a<li>s<li>/<li>f<li>u<li>j<li>i<li>t<li>a<li>.<li>h<li>t<li>m<li>l</ul></a></div>
<div><ul><li>4</ul></div>
<div><p v>明が必要だとおもいます</p><p b>．</p><p f>これは</p><p b>，</p><p bc>将来の課題として残っています</p><p b>．</p></div>
<div><p r>改訂を機会に書名の</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p b>を</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p f>に改め</p><p b>，</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(</ul><p b>第</p><ul><li> <li>1<li> </ul><p b>版</p><ul><li>)<li> </ul><p j>としました</p><p b>．</p><p b>「</p><p d>八衢</p><p b>」</p><p b>は</p></div>
<div><p b>「</p><p h>やちまた</p><p b>」</p><p l>と読みますが</p><p b>，</p><p n>旧版の公表以後</p><p b>，</p><p z>むずかしすぎると不評でした</p><p b>．</p><p f>しかし</p><p b>，</p><p bc>著者の思い入れもありますので</p><p b>，</p><p l>新版でも残し</p></div>
<div><p f>ました</p><p b>．</p></div>
<div><ul><li>2<li>0<li>0<li>4<li>/<li>7<li>/<li>3<li>0<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p></div>
<div><ul><li>5</ul></div>
<div><p n>旧版のはしぶみ</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p b>は</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p h>の制御綴</p><ul><li> <li>(<li>c<li>o<li>n<li>t<li>r<li>o<li>l<li> <li>s<li>e<li>q<li>u<li>e<li>n<li>c<li>e<li>)<li> </ul><p z>を組み合わせたマクロ集です</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p j>の範囲内で</p><p b>，</p><p be>文書を書くのはきわめて簡単です</p><p b>．</p></div>
<div><ul><li>(<li> <li>j<li>)<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>,<li> <li>(<li>j<li>)<li>b<li>o<li>o<li>k<li>,<li> <li>(<li>j<li>)<li>r<li>e<li>p<li>o<li>r<li>t<li> </ul><p be>などのスタイルファイルを使えば</p><p b>，</p><p f>大抵は</p><p b>，</p><p bc>満足できる仕上がりになります</p><p b>．</p><p f>しかし</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p d>を長</p></div>
<div><p j>く使う人で</p><p b>，</p><p bo>この段階で留まる人は少ないように思います</p><p b>．</p><p p>これは推測ですが</p><p b>，</p><p t>この段階で留まる人は</p><p b>，</p><p h>最初から</p><p b>「</p><p l>見たまま方式</p><p b>」</p><p b>の</p></div>
<div><p b>ワ</p><p b>ー</p><p l>ドプロセッサ</p><p b>ー</p><p z>に走るのではないでしょうか</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p t>の命令に慣れてくると</p><p b>，</p><p b>「</p><p x>レイアウトを変えて見たい</p><p b>」</p><p b>，</p><p b>「</p><p x>こんな命令はないだろうか</p><p b>」</p><p v>などの希望がでてきます</p><p b>．</p><p f>しかし</p><p b>，</p><p b>ち</p></div>
<div><p by>ょっとしたレイアウトが気に入らないようなときでさえ</p><p b>，</p><p z>すぐに対処できるかというと</p><p b>，</p><p bg>必ずしも簡単にゆくとは限りません</p><p b>．</p><p f>こんな</p></div>
<div><p d>とき</p><p b>，</p><p h>多くのユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p b>は</p><p b>，</p><p by>広く出まわっているスタイルファイルを猟渉し始めます</p><p b>．</p><p b>「</p><p v>こんな機能がないかなあ</p><p b>」</p><p r>と思うようなときに</p></div>
<div><p b>は</p><p b>，</p><ul><li>N<li>I<li>F<li>T<li>Y<li>-<li>S<li>e<li>r<li>v<li>e<li> </ul><p z>などの会議室で質問を出せば</p><p b>，</p><p ck>すでに便利なスタイルファイルがあると教えてもらうことができます</p><p b>．</p></div>
<div><ul><li>N<li>I<li>F<li>T<li>Y<li> <li>-<li>S<li>e<li>r<li>v<li>e<li> </ul><p b>の</p><ul><li> <li>F<li>S<li>N<li>O<li>T<li>E</ul><p b>，</p><ul><li>F<li>P<li>R<li>I<li>N<li>T<li>,<li> <li>F<li>L<li>A<li>B<li>O<li>,<li> <li>F<li>E<li>X<li>T<li> </ul><p p>などのライブラリ</p><p b>ー</p><p d>には</p><p b>，</p><p ca>このようなスタイルファイルがたくさん蓄積されています</p></div>
<div><p b>．</p><p bu>論文などを書く道具としての使い方に徹する場合は</p><p b>，</p><p ci>既存のスタイルファイルを上手に利用するという他力本願の姿勢は</p><p b>，</p><p h>まったく</p></div>
<div><p l>正しい姿です</p><p b>．</p><p bg>そんなに凝ったことを望まなければ</p><p b>，</p><p bq>この段階で大抵のことは済んでしまうでしょう</p><p b>．</p></div>
<div><p h>ところが</p><p b>，</p><p bc>完成品のマクロを使うだけでは</p><p b>，</p><p be>そのうちに満足できなくなります</p><p b>．</p><p d>また</p><p b>，</p><p bo>まとまった学位論文や書籍などを書く場合や</p><p b>，</p></div>
<div><p de>投稿規定に特殊な様式が定められたものに投稿しなければならない場合などにも遭遇します</p><p b>．</p><p bk>既存のスタイルファイルやマクロがない</p></div>
<div><p d>限り</p><p b>，</p><p bq>自分で作成しなければならない事態になります</p><p b>．</p><ul><li>N<li>I<li>F<li>T<li>Y<li>-<li>S<li>e<li>r<li>v<li>e<li> </ul><p z>などの会議室で質問を出せば</p><p b>，</p><p j>親切な方が</p><p b>，</p><p r>目的に合ったマクロ</p></div>
<div><p bc>を作ってくれることもあります</p><p b>．</p></div>
<div><p r>そうこうするうちに</p><p b>，</p><p bm>マクロの完成品を使うだけでは気がすまず</p><p b>．</p><p ci>いろいろな便利なマクロがどうしてこのような機能をもっているの</p></div>
<div><p bg>だろうかという疑問がわいてきます</p><p b>．</p><p f>そして</p><p b>，</p><p be>簡単なマクロを作るのから始めて</p><p b>，</p><p t>マクロ作成に凝りだし</p><p b>，</p><p x>既存のスタイルファイルを</p></div>
<div><p bs>自分用にカスタマイズして楽しむようになります</p><p b>．</p></div>
<div><p bo>この他力本願から自力本願への変わり目のユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p d>には</p><p b>，</p><p bi>適当な参考書が少ないように思います</p><p b>．</p><ul><li>T<li>E<li>X<li>b<li>o<li>o<li>k</ul></div>
<div><p p>を読みこなすのは</p><p b>，</p><p p>大変むずかしいし</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> </ul><p d>のソ</p><p b>ー</p><p n>スリストである</p><ul><li> <li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li> </ul><p p>のオンライン解説</p><ul><li> <li>(</ul><p d>英語</p><ul><li>)<li> </ul><p v>を読むのも面倒なもので</p></div>
<div><p b>す</p><p b>．</p><p j>まずもって</p><p b>，</p><p cu>どこから取り付いたらよいのやらわからないというのが実情ではないでしょうか</p><p b>．</p></div>
<div><p z>マクロの作り方という面では</p><p b>，</p><p x>奥村本や磯崎本が有名です</p><p b>．</p><p l>かくいう私も</p><p b>，</p><p b>「</p><p f>化学者</p><p b>・</p><p p>生化学者のための</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X</ul><p b>」</p><ul><li>(</ul><p l>東京化学同人</p><p b>，</p><ul><li>1<li>9<li>9<li>3<li>)<li> </ul><p z>というのを出版していますが</p><p b>，</p><p v>マクロの作り方について</p><p b>，</p><p l>かなりのスペ</p><p b>ー</p><p v>スをとって説明しました</p><p b>．</p><p b>あ</p></div>
<div><p cg>らゆるレベルの読者を満足させる本というのはないでしょうから</p><p b>，</p><p be>できるだけ多様な参考書があれば</p><p b>，</p><p bc>それだけ読者の選択肢が増える</p></div>
<div><p l>と思われます</p><p b>．</p><p l>そんなわけで</p><p b>，</p><p bo>この他力本願から自力本願への変わり目のユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p j>に贈るのが</p><p b>，</p><p d>この</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p l>まくろの八衢</p><ul><li> </ul><p b>」</p><ul><li>(</ul><p f>らてふ</p></div>
<div><p b>・</p><p p>まくろのやちまた</p><ul><li>)<li> </ul><p d>です</p><p b>．</p></div>
<div><p be>ここにとりあげた章のいくつかは</p><p b>，</p><ul><li>N<li>I<li>F<li>T<li>Y<li> <li>-<li>S<li>e<li>r<li>v<li>e<li> </ul><p b>の</p><ul><li> <li>F<li>P<li>R<li>I<li>N<li>T<li> <li>N<li>o<li>.<li> <li>1<li>2<li> </ul><p cc>の会議室にアップした同名の連載に少し手を入れたものです</p><p b>．</p><p b>そ</p></div>
<div><p h>のほかに</p><p b>，</p><ul><li>N<li>I<li>F<li>T<li>Y<li> <li>-<li>S<li>e<li>r<li>v<li>e<li> </ul><p b>の</p><ul><li> <li>T<li>E<li>X<li> </ul><p cu>関係の会議室に出てきた質疑からヒントを得て書き下ろしたものが数章あります</p><p b>．</p><p p>この部分について</p></div>
<div><p b>は</p><p b>，</p><p p>著作権の関係から</p><p b>，</p><p ca>私が書き入れたコメントを中心にして説明してありますが</p><p b>，</p><p bo>これが必ずしも最良の解決策とは限りません</p><p b>．</p><p b>ぜ</p></div>
<div><p b>ひ</p><p b>，</p><p l>批判的精神で</p><p b>，</p></div>
<div><ul><li>6</ul></div>
<div><p ce>もっとよい解決方法があるという目で読んでくださいますよう</p><p b>．</p><p v>昨今の会議室の質疑では</p><p b>，</p><p bm>単なるマクロの作成の範囲で済むというも</p></div>
<div><p n>のばかりでなく</p><p b>，</p><p cs>中間ファイルの取扱いに慣れたほうがよいとおもわれる事例がかなりあります</p><p b>．</p><p bg>この理由から中間ファイルの利用の</p></div>
<div><p t>テクニックについては</p><p b>，</p><p z>とくに詳しく述べてあります</p><p b>．</p><p n>これに関しては</p><p b>，</p><p bs>ほかによい参考書がないようにおもわれますので</p><p b>，</p><p h>本書の特</p></div>
<div><p z>徴として強調できるでしょう</p><p b>．</p><p p>のこりの幾許かは</p><p b>，</p><p x>上記拙著を書いたときにペ</p><p b>ー</p><p bs>ジ数の関係で削除したものを補筆して載せました</p><p b>．</p><p b>こ</p></div>
<div><p d>れは</p><p b>，</p><p co>拙著の該当のところを読まれてからのほうが理解しやすいかも知れません</p><p b>．</p></div>
<div><p n>このタイトルは</p><p b>，</p><p t>本居春庭の有名な著書</p><p b>「</p><p h>詞の八衢</p><p b>」</p><ul><li>(</ul><p p>ことばのやちまた</p><ul><li>)<li> </ul><p l>のもじりです</p><p b>．</p><p b>「</p><p h>はしぶみ</p><p b>」</p><ul><li>(</ul><p b>序</p><ul><li>)</ul></div>
<div><p bg>というのもこの著書からとりました</p><p b>．</p><p h>八衢とは</p><p b>，</p><p x>ちまたの数のおおいところ</p><p b>，</p><p bi>大勢の人のあつまる巷ということです</p><p b>．</p><p n>パソコン通信の</p></div>
<div><p bk>会議室には実にふさわしいことばなので</p><p b>，</p><p v>借用させてもらいました</p><p b>．</p></div>
<div><ul><li>1<li>9<li>9<li>5<li>/<li>5<li>/<li>2<li>7<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p></div>
<div><ul><li>7</ul></div>
<div><p b>目</p><ul><li> </ul><p b>次</p></div>
<div class=_mark id=mark1><a  href='#toc1'><p b>第</p><ul><li> <li>1<li> </ul><p b>章</p><ul><li> </ul><p l>制御綴の引数</p><ul><li> <li>1<li>1</ul></a></div>
<div><ul><li>1<li>.<li>1<li> </ul><p n>置き換えマクロ</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1</ul></div>
<div><ul><li>1<li>.<li>2<li> </ul><p x>引数一つのマクロの種々相</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2</ul></div>
<div><ul><li>1<li>.<li>2<li>.<li>1<li> </ul><p n>文字列を引数に</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2</ul></div>
<div><ul><li>1<li>.<li>2<li>.<li>2<li> </ul><p n>制御綴を引数に</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2</ul></div>
<div><ul><li>1<li>.<li>2<li>.<li>3<li> </ul><p p>引数の範囲の明示</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>3</ul></div>
<div><ul><li>1<li>.<li>2<li>.<li>4<li> </ul><p t>特殊な引数範囲の指示</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>3</ul></div>
<div><ul><li>1<li>.<li>3<li> </ul><p l>複数個の引数</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>4</ul></div>
<div><ul><li>1<li>.<li>3<li>.<li>1<li> </ul><p l>通常の使い方</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>4</ul></div>
<div><ul><li>1<li>.<li>3<li>.<li>2<li> </ul><p p>引数の範囲の明示</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>5</ul></div>
<div><ul><li>1<li>.<li>4<li> </ul><p x>置き換えマクロの追加説明</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>5</ul></div>
<div class=_mark id=mark2><a  href='#toc2'><p b>第</p><ul><li> <li>2<li> </ul><p b>章</p><ul><li> </ul><p v>文字列リスト処理の基礎</p><ul><li> <li>1<li>7</ul></a></div>
<div><ul><li>2<li>.<li>1<li> </ul><p p>部分文字列の抽出</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>7</ul></div>
<div class=_mark id=mark3><a  href='#toc3'><p b>第</p><ul><li> <li>3<li> </ul><p b>章</p><ul><li> <li>T<li>E<li>X<li> </ul><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>1</ul></a></div>
<div><ul><li>3<li>.<li>1<li> </ul><p h>カウンタ</p><p b>ー</p><p h>と足し算</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>2<li>1</ul></div>
<div><ul><li>3<li>.<li>2<li> </ul><p h>カウンタ</p><p b>ー</p><p t>の大小による分岐処理</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>2<li>3</ul></div>
<div class=_mark id=mark4><a  href='#toc4'><p b>第</p><ul><li> <li>4<li> </ul><p b>章</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>5</ul></a></div>
<div><ul><li>4<li>.<li>1<li> </ul><p h>カウンタ</p><p b>ー</p><p h>と足し算</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>2<li>5</ul></div>
<div><ul><li>4<li>.<li>2<li> <li>T<li>E<li>X<li> </ul><p j>流カウンタ</p><p b>ー</p><p h>との違い</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>2<li>7</ul></div>
<div><ul><li>4<li>.<li>3<li> </ul><p h>カウンタ</p><p b>ー</p><p t>の大小による分岐処理</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>2<li>8</ul></div>
<div class=_mark id=mark5><a  href='#toc5'><p b>第</p><ul><li> <li>5<li> </ul><p b>章</p><ul><li> </ul><p d>練習</p><ul><li> </ul><p d>その</p><ul><li> <li>1<li> <li>3<li>1</ul></a></div>
<div><ul><li>5<li>.<li>1<li> </ul><p p>部分文字列の取得</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3<li>1</ul></div>
<div><ul><li>5<li>.<li>2<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3<li>3</ul></div>
<div class=_mark id=mark6><a  href='#toc6'><p b>第</p><ul><li> <li>6<li> </ul><p b>章</p><ul><li> </ul><p h>カウンタ</p><p b>ー</p><p x>の親子関係と一括リセット</p><ul><li> <li>3<li>5</ul></a></div>
<div><ul><li>6<li>.<li>1<li> </ul><p h>カウンタ</p><p b>ー</p><p z>値の参照と一括リセット命令</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3<li>5</ul></div>
<div><ul><li>6<li>.<li>2<li> </ul><p t>一括リセットの仕組み</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3<li>7</ul></div>
<div><ul><li>6<li>.<li>2<li>.<li>1<li> </ul><p t>可変命令を含むリスト</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3<li>7</ul></div>
<div><ul><li>6<li>.<li>2<li>.<li>2<li> </ul><p p>リストの作成命令</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3<li>8</ul></div>
<div><ul><li>6<li>.<li>3<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>カウンタ</p><p b>ー</p><p f>リスト</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3<li>8</ul></div>
<div><ul><li>6<li>.<li>4<li> </ul><p j>余計なこと</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>0</ul></div>
<div><ul><li>8</ul></div>
<div class=_mark id=mark7><a  href='#toc7'><p b>第</p><ul><li> <li>7<li> </ul><p b>章</p><ul><li> </ul><p h>カウンタ</p><p b>ー</p><p p>の親子関係の削除</p><ul><li> <li>4<li>1</ul></a></div>
<div><ul><li>7<li>.<li>1<li> </ul><p b>ソ</p><p b>ー</p><p h>スリスト</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>1</ul></div>
<div><ul><li>7<li>.<li>2<li> </ul><p l>機能と使い方</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>2</ul></div>
<div><ul><li>7<li>.<li>3<li> </ul><p j>マクロ解説</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>4</ul></div>
<div><ul><li>7<li>.<li>3<li>.<li>1<li> </ul><p j>全体の方針</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>4</ul></div>
<div><ul><li>7<li>.<li>3<li>.<li>2<li> </ul><p l>リストの作成</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>5</ul></div>
<div><ul><li>7<li>.<li>3<li>.<li>3<li> </ul><p t>リセット命令の再定義</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>5</ul></div>
<div class=_mark id=mark8><a  href='#toc8'><p b>第</p><ul><li> <li>8<li> </ul><p b>章</p><ul><li> </ul><p z>相互参照とリスト処理の応用</p><ul><li> <li>4<li>7</ul></a></div>
<div><ul><li>8<li>.<li>1<li> </ul><p j>例題マクロ</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>7</ul></div>
<div><ul><li>8<li>.<li>2<li> </ul><p p>部分文字列の取得</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4<li>9</ul></div>
<div><ul><li>8<li>.<li>3<li> </ul><p f>参照キ</p><p b>ー</p><p t>と参照番号の受け渡し</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>0</ul></div>
<div><ul><li>8<li>.<li>4<li> </ul><p f>その他</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>1</ul></div>
<div class=_mark id=mark9><a  href='#toc9'><p b>第</p><ul><li> <li>9<li> </ul><p b>章</p><ul><li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>1<li>)<li> <li>5<li>3</ul></a></div>
<div><ul><li>9<li>.<li>1<li> </ul><p x>補助ファイルへの書き込み</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>3</ul></div>
<div><ul><li>9<li>.<li>2<li> </ul><p be>補助ファイルに書き込まれた命令</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>4</ul></div>
<div class=_mark id=mark10><a  href='#toc10'><p b>第</p><ul><li> <li>1<li>0<li> </ul><p b>章</p><ul><li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>2<li>)<li> <li>5<li>7</ul></a></div>
<div><ul><li>1<li>0<li>.<li>1<li> </ul><p b>ペ</p><p b>ー</p><p l>ジ番号の工夫</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>7</ul></div>
<div><ul><li>1<li>0<li>.<li>1<li>.<li>1<li> </ul><p f>第一案</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>7</ul></div>
<div><ul><li>1<li>0<li>.<li>1<li>.<li>2<li> </ul><p f>第二案</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>8</ul></div>
<div><ul><li>1<li>0<li>.<li>1<li>.<li>3<li> </ul><p n>そのほかの方法</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>0</ul></div>
<div class=_mark id=mark11><a  href='#toc11'><p b>第</p><ul><li> <li>1<li>1<li> </ul><p b>章</p><ul><li> </ul><p z>スタイルファイルの仕立て方</p><ul><li> <li>6<li>1</ul></a></div>
<div><ul><li>1<li>1<li>.<li>1<li> </ul><p bc>スタイルファイルの登録と使用</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>1</ul></div>
<div><ul><li>1<li>1<li>.<li>1<li>.<li>1<li> </ul><p h>登録手順</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>1</ul></div>
<div><ul><li>1<li>1<li>.<li>1<li>.<li>2<li> </ul><p bc>自作のスタイルファイルの使用</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>2</ul></div>
<div><ul><li>1<li>1<li>.<li>2<li> </ul><p h>複雑な例</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>3</ul></div>
<div class=_mark id=mark12><a  href='#toc12'><p b>第</p><ul><li> <li>1<li>2<li> </ul><p b>章</p><ul><li> </ul><p b>ペ</p><p b>ー</p><p p>ジごとの脚注番号</p><ul><li> <li>6<li>5</ul></a></div>
<div><ul><li>1<li>2<li>.<li>1<li> </ul><p n>親子関係の更改</p><p b>—</p><p f>不十分</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>5</ul></div>
<div><ul><li>1<li>2<li>.<li>2<li> <li>a<li>u<li>x<li> </ul><p n>ファイルの活用</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>6</ul></div>
<div class=_mark id=mark13><a  href='#toc13'><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li> </ul><p r>中間ファイルの新設</p><ul><li> <li>6<li>9</ul></a></div>
<div><ul><li>1<li>3<li>.<li>1<li> </ul><p b>ソ</p><p b>ー</p><p h>スリスト</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>6<li>9</ul></div>
<div><ul><li>1<li>3<li>.<li>2<li> </ul><p l>機能と使い方</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>0</ul></div>
<div><ul><li>1<li>3<li>.<li>3<li> </ul><p j>マクロ解説</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>3</ul></div>
<div><ul><li>1<li>3<li>.<li>3<li>.<li>1<li> </ul><p j>全体の方針</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>3</ul></div>
<div><ul><li>1<li>3<li>.<li>3<li>.<li>2<li> </ul><p p>中間ファイルのオ</p><p b>ー</p><p j>プンとクロ</p><p b>ー</p><p b>ズ</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>3</ul></div>
<div><ul><li>1<li>3<li>.<li>3<li>.<li>3<li> </ul><p t>中間ファイルへの出力</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>4</ul></div>
<div><ul><li>1<li>3<li>.<li>3<li>.<li>4<li> </ul><p v>中間ファイルの読み込み</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>5</ul></div>
<div><ul><li>1<li>3<li>.<li>3<li>.<li>5<li> </ul><p h>環境新設</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>5</ul></div>
<div><ul><li>1<li>3<li>.<li>4<li> </ul><p l>その他の方法</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>5</ul></div>
<div><ul><li>9</ul></div>
<div class=_mark id=mark14><a  href='#toc14'><p b>第</p><ul><li> <li>1<li>4<li> </ul><p b>章</p><ul><li> </ul><p t>目次用の中間ファイル</p><ul><li> <li>7<li>7</ul></a></div>
<div><ul><li>1<li>4<li>.<li>1<li> <li>t<li>o<li>c<li> </ul><p be>ファイルへの書き出し命令の作成</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>7</ul></div>
<div><ul><li>1<li>4<li>.<li>2<li> </ul><p r>目次の出力の仕組み</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>8</ul></div>
<div><ul><li>1<li>4<li>.<li>2<li>.<li>1<li> <li>a<li>u<li>x<li> </ul><p t>ファイルへの書き出し</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>8</ul></div>
<div><ul><li>1<li>4<li>.<li>2<li>.<li>2<li> <li>a<li>u<li>x<li> </ul><p n>ファイルへから</p><ul><li> <li>t<li>o<li>c<li> </ul><p j>ファイルへ</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>9</ul></div>
<div><ul><li>1<li>4<li>.<li>2<li>.<li>3<li> <li>t<li>o<li>c<li> </ul><p t>ファイルの内容を出力</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>7<li>9</ul></div>
<div class=_mark id=mark15><a  href='#toc15'><p b>第</p><ul><li> <li>1<li>5<li> </ul><p b>章</p><ul><li> </ul><p n>目次項目の追加</p><ul><li> <li>8<li>1</ul></a></div>
<div><ul><li>1<li>5<li>.<li>1<li> </ul><p t>引数に関する注意事項</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>8<li>1</ul></div>
<div><ul><li>1<li>5<li>.<li>2<li> </ul><p p>目次への項目追加</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>8<li>3</ul></div>
<div><ul><li>1<li>5<li>.<li>3<li> </ul><p l>別立ての目次</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>8<li>3</ul></div>
<div class=_mark id=mark16><a  href='#toc16'><p b>第</p><ul><li> <li>1<li>6<li> </ul><p b>章</p><ul><li> </ul><p p>目次の体裁の変更</p><ul><li> <li>8<li>5</ul></a></div>
<div><ul><li>1<li>6<li>.<li>1<li> </ul><p p>指定できるパラメ</p><p b>ー</p><p b>タ</p><p b>ー</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>8<li>5</ul></div>
<div><ul><li>1<li>6<li>.<li>2<li> </ul><p b>リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>8<li>6</ul></div>
<div><ul><li>1<li>6<li>.<li>3<li> </ul><p n>和書用の目次リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>8<li>7</ul></div>
<div class=_mark id=mark17><a  href='#toc17'><p b>第</p><ul><li> <li>1<li>7<li> </ul><p b>章</p><ul><li> </ul><p r>章立て命令の種々相</p><ul><li> <li>8<li>9</ul></a></div>
<div><ul><li>1<li>7<li>.<li>1<li> </ul><p v>浅いレベルでできること</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>8<li>9</ul></div>
<div><ul><li>1<li>7<li>.<li>2<li> </ul><p n>内部マクロ細見</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>9<li>1</ul></div>
<div class=_mark id=mark18><a  href='#toc18'><p b>第</p><ul><li> <li>1<li>8<li> </ul><p b>章</p><ul><li> </ul><p r>罫線を利用した数学</p><p b>・</p><p h>化学記号</p><ul><li> <li>9<li>5</ul></a></div>
<div><ul><li>1<li>8<li>.<li>1<li> </ul><p t>標準をあらわす添え字</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>9<li>5</ul></div>
<div><ul><li>1<li>8<li>.<li>2<li> </ul><p f>不等号</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>9<li>6</ul></div>
<div class=_mark id=mark19><a  href='#toc19'><p b>第</p><ul><li> <li>1<li>9<li> </ul><p b>章</p><ul><li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p f>のロゴ</p><ul><li> <li>9<li>9</ul></a></div>
<div><ul><li>1<li>9<li>.<li>1<li> <li>T<li>E<li>X<li> </ul><p l>のロゴの定義</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>9<li>9</ul></div>
<div><ul><li>1<li>9<li>.<li>2<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p l>のロゴの定義</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>9<li>9</ul></div>
<div><ul><li>1<li>9<li>.<li>2<li>.<li>1<li> </ul><p j>ロゴの由来</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>9<li>9</ul></div>
<div><ul><li>1<li>9<li>.<li>2<li>.<li>2<li> </ul><p f>第一法</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>0</ul></div>
<div><ul><li>1<li>9<li>.<li>2<li>.<li>3<li> </ul><p f>第二法</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>1</ul></div>
<div class=_mark id=mark20><a  href='#toc20'><p b>第</p><ul><li> <li>2<li>0<li> </ul><p b>章</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p j>のロゴ細見</p><ul><li> <li>1<li>0<li>3</ul></a></div>
<div><ul><li>2<li>0<li>.<li>1<li> </ul><p p>オリジナルの定義</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>3</ul></div>
<div><ul><li>2<li>0<li>.<li>2<li> </ul><p f>改良版</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>4</ul></div>
<div><ul><li>2<li>0<li>.<li>3<li> </ul><p j>さらに改良</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>5</ul></div>
<div><ul><li>2<li>0<li>.<li>4<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>における定義</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>6</ul></div>
<div class=_mark id=mark21><a  href='#toc21'><p b>第</p><ul><li> <li>2<li>1<li> </ul><p b>章</p><ul><li> </ul><p l>文字列の長さ</p><ul><li> <li>1<li>0<li>7</ul></a></div>
<div><ul><li>2<li>1<li>.<li>1<li> </ul><p r>文字列の長さの測定</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>7</ul></div>
<div><ul><li>2<li>1<li>.<li>1<li>.<li>1<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>流測量術</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>7</ul></div>
<div><ul><li>2<li>1<li>.<li>1<li>.<li>2<li> <li>T<li>E<li>X<li> </ul><p h>流測量術</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>8</ul></div>
<div><ul><li>2<li>1<li>.<li>2<li> </ul><p r>文字の間隔と均等割</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>8</ul></div>
<div><ul><li>2<li>1<li>.<li>3<li> </ul><p j>自動均等割</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>0<li>9</ul></div>
<div><ul><li>1<li>0</ul></div>
<div><ul><li>2<li>1<li>.<li>4<li> </ul><p v>内部マクロの作成と利用</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>0</ul></div>
<div class=_mark id=mark22><a  href='#toc22'><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>3</ul></a></div>
<div><ul><li>2<li>2<li>.<li>1<li> </ul><p r>箇条書環境への応用</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>3</ul></div>
<div><ul><li>2<li>2<li>.<li>2<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p l>環境の使い方</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>5</ul></div>
<div><ul><li>2<li>2<li>.<li>3<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p l>環境の使い方</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>6</ul></div>
<div><ul><li>2<li>2<li>.<li>4<li> </ul><p l>マクロの説明</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>7</ul></div>
<div><ul><li>2<li>2<li>.<li>4<li>.<li>1<li> </ul><p x>ラベル出力のマクロの解説</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>7</ul></div>
<div><ul><li>2<li>2<li>.<li>4<li>.<li>2<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p r>環境のマクロの解説</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>8</ul></div>
<div><ul><li>2<li>2<li>.<li>4<li>.<li>3<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p r>環境のマクロの解説</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>8</ul></div>
<div><ul><li>2<li>2<li>.<li>5<li> </ul><p t>節見出しの自動均等割</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>1<li>8</ul></div>
<div class=_mark id=mark23><a  href='#toc23'><p b>第</p><ul><li> <li>2<li>3<li> </ul><p b>章</p><ul><li> </ul><p p>文字列の折り返し</p><ul><li> <li>1<li>2<li>1</ul></a></div>
<div><ul><li>2<li>3<li>.<li>1<li> </ul><p l>文字列の抽出</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2<li>1</ul></div>
<div><ul><li>2<li>3<li>.<li>2<li> </ul><p p>文字列の折り返し</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2<li>2</ul></div>
<div><ul><li>2<li>3<li>.<li>3<li> </ul><p l>文字数の半分</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2<li>2</ul></div>
<div><ul><li>2<li>3<li>.<li>4<li> </ul><p l>読みのマクロ</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2<li>3</ul></div>
<div class=_mark id=mark24><a  href='#toc24'><p b>第</p><ul><li> <li>2<li>4<li> </ul><p b>章</p><ul><li> </ul><p h>練習その</p><ul><li> <li>2<li> <li>1<li>2<li>5</ul></a></div>
<div><ul><li>2<li>4<li>.<li>1<li> </ul><p r>文字列の長さの測定</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2<li>5</ul></div>
<div><ul><li>2<li>4<li>.<li>2<li> </ul><p l>文字数の勘定</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1<li>2<li>6</ul></div>
<div><ul><li>1<li>1</ul></div>
<div><p b>第</p><ul><li>1</ul><p b>章</p><ul><li> </ul><p t>制御綴の引数文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li>1</ul></div>
<div><ul><li>T<li>E<li>X<li> <li>(<li>L<li>A<li>T<li>E<li>X<li>)<li> </ul><p d>では</p><p b>，</p><ul><li>\<li>d<li>e<li>f<li> </ul><p l>という制御綴</p><ul><li> <li>(<li>c<li>o<li>n<li>t<li>r<li>o<li>l<li> <li>s<li>e<li>q<li>u<li>e<li>n<li>c<li>e<li>)<li>2</ul><p n>を定義する命令</p><ul><li> <li>(</ul><p l>これも制御綴</p><ul><li>)<li> </ul><p j>があります</p><p b>．</p></div>
<div><p ca>この命令で作成した制御綴は引数を取ることができますが</p><p b>，</p><p bu>引数がどのように処理されるかを調べてみましょう</p><p b>．</p><p d>なお</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p d>には</p><p b>，</p></div>
<div><p l>同様の目的で</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li> </ul><p t>が用意されていますが</p><p b>，</p><p p>ここでは触れずに</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p b>の</p><ul><li>\<li>d<li>e<li>f<li> </ul><p t>を中心に話を進めます</p><p b>．</p></div>
<div><ul><li>1<li>.<li>1<li> </ul><p n>置き換えマクロ</p></div>
<div><ul><li>\<li>d<li>e<li>f<li> </ul><p x>のもっとも簡単な使い方は</p><p b>，</p><p x>置き換えマクロの作成です</p><p b>．</p><ul><li>c<li>o<li>n<li>t<li>r<li>o<li>l<li> <li>s<li>e<li>q<li>u<li>e<li>n<li>c<li>e<li> </ul><p v>という言葉の訳語として</p><p b>，</p><p b>「</p><p f>制御綴</p><p b>」</p><p l>を採用した場</p></div>
<div><p b>合</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>c<li>o<li>n<li>s<li>e<li>q<li>{</ul><p f>制御綴</p><ul><li>}</ul></div>
<div><p p>と定義しておけば</p><p b>，</p><p h>それ以後</p><p b>「</p><ul><li>\<li> <li>c<li>o<li>n<li>s<li>e<li>q<li>{<li>}</ul><p b>」</p><p l>と入力すれば</p><p b>，</p><p b>「</p><p f>制御綴</p><p b>」</p><p z>と出力されるようになります</p><p b>．</p><p h>この場合</p><p b>，</p><p r>作成したマクロは引</p></div>
<div><p n>数を取りません</p><p b>．</p><p f>末尾の</p><ul><li>{<li>}</ul><p b>は</p><p b>，</p><p bm>命令と地の文を区別するためにいれました</p><p b>．</p></div>
<div><p l>定義の中には</p><p b>，</p><p d>命令</p><ul><li> <li>(</ul><p f>制御綴</p><ul><li>)<li> </ul><p x>を含ませることができます</p><p b>．</p><p h>たとえば</p><p b>，</p><p n>下線を引く命令</p><ul><li>\<li>u<li>n<li>d<li>e<li>r<li>l<li>i<li>n<li>e<li> </ul><p h>を使って</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>o<li>n<li>s<li>e<li>q<li>{<li>\<li>u<li>n<li>d<li>e<li>r<li>l<li>i<li>n<li>e<li>{</ul><p f>制御綴</p><ul><li>}<li>}</ul></div>
<div><p p>と定義しておけば</p><p b>，</p><p h>それ以後</p><p b>「</p><ul><li>\<li>C<li>o<li>n<li>s<li>e<li>q<li>{<li>}</ul><p b>」</p><p l>と入力すれば</p><p b>，</p><p b>「</p><p f>制御綴</p><p b>」</p><p z>と出力されるようになります</p><p b>．</p><p v>次のように一度定義した</p><ul><li>\<li>c<li>o<li>n<li>s<li>e<li>q</ul></div>
<div><ul><li> </ul><p be>を定義の中で使うこともできます</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>o<li>n<li>S<li>e<li>q<li>{<li>$<li>\<li>o<li>v<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>\<li>m<li>b<li>o<li>x<li>{<li>\<li>c<li>o<li>n<li>s<li>e<li>q<li>}<li>}<li>$<li>}</ul></div>
<div><p p>と定義しておけば</p><p b>，</p><p h>それ以後</p><p b>「</p><ul><li>\<li>C<li>o<li>n<li>S<li>e<li>q<li>{<li>}</ul><p b>」</p><p l>と入力すれば</p><p b>，</p><p b>「</p><p f>制御綴</p><p b>」</p><p z>と出力されるようになります</p><p b>．</p></div>
<div><p j>この場合は</p><p b>，</p><p x>多少便利なことがあります</p><p b>．</p><p f>それは</p><p b>，</p><ul><li>\<li>c<li>o<li>n<li>s<li>e<li>q<li> </ul><p bk>の定義を変更することができることです</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><ul><li>\<li>C<li>o<li>n<li>S<li>e<li>q<li>{<li>}<li>;</ul></div>
<div><ul><li>{<li>\<li>d<li>e<li>f<li>\<li>c<li>o<li>n<li>s<li>e<li>q<li>{</ul><p h>コントロ</p><p b>ー</p><p b>ル</p><p b>・</p><p b>シ</p><p b>ー</p><p h>クェンス</p><ul><li>}<li>\<li>C<li>o<li>n<li>S<li>e<li>q<li>{<li>}<li>}<li>;</ul></div>
<div><ul><li>\<li>C<li>o<li>n<li>S<li>e<li>q<li>{<li>}</ul></div>
<div><ul><li>1<li> <li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><p b>．</p><ul><li> <li>(<li>0<li>0<li>)<li> </ul><p b>「</p><p p>まくろのやちまた</p><p b>」</p><p j>と読みます</p><p b>．</p><ul><li> <li>2</ul><p b>「</p><p n>せいぎょつづり</p><p b>」</p><p j>と読みます</p><p b>．</p><p j>文脈によっ</p></div>
<div><p b>て</p><p b>，</p><p j>同じものを</p><p b>「</p><p d>命令</p><p b>」</p><p j>といったり</p><p b>，</p><p b>「</p><p h>コマンド</p><p b>」</p><p r>といったりしますが</p><p b>，</p><p ca>必ずしも明確な方針で使い分けているわけではありません</p><p b>．</p></div>
<div></div>
<div></div>
<div></div>
<div class=_mark id=mark25><a  href='#toc25'><p b>第</p><ul><li> <li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p l>制御綴の引数</p><ul><li> <li>1<li>5</ul></a></div>
<div><p l>してください</p><p b>．</p><p d>また</p><p b>，</p><ul><li>\<li> <li>T<li>r<li>i<li>k<li>a<li>e<li> </ul><p l>の定義の中で</p><ul><li>\<li>r<li>e<li>l<li>a<li>x<li> </ul><p n>を削除してみて</p><p b>，</p><p ce>同じ入力でどんなものがえられるかを調べるのもおもしろいで</p></div>
<div><p f>しょう</p><p b>．</p></div>
<div><p f>さらに</p><p b>，</p><ul><li>\<li>d<li>e<li>f<li>\<li>A<li>t<li>o<li>F<li>{<li>{<li>A<li>B<li>C<li>}<li>{<li>D<li>E<li>F<li>}<li>}</ul><p t>で定義された制御綴を</p><p b>，</p><ul><li>\<li>T<li>r<li>i<li>k<li>a<li>e<li> </ul><p bk>の引数として与えた場合を考えてみます</p><p b>．</p><p j>この場合は</p><p b>，</p><p b>「</p><ul><li>\<li>T<li>r<li>i<li>k<li>a<li>e<li>{<li>\</ul></div>
<div><ul><li>A<li>t<li>o<li>F<li> <li>}</ul><p b>」</p><p h>とすると</p><p b>，</p><p b>「</p><ul><li>A<li>B<li>C<li>D<li>E<li>F</ul><p b>」</p><p p>のようになります</p><p b>．</p><p cq>せっかく中括弧で二重に区切ってもその効果がでていないことがわかります</p><p b>．</p><p d>この</p></div>
<div><p f>理由は</p><p b>，</p><p f>制御綴</p><ul><li>\<li> <li>A<li>t<li>o<li>F<li> </ul><p bi>が展開されていないためだというのは</p><p b>，</p><p b>第</p><ul><li> <li>1<li>.<li>2<li>.<li>2<li> </ul><p l>項の説明から</p><p b>，</p><p p>すぐにわかります</p><p b>．</p><p f>そこで</p><p b>，</p><p n>このような場合</p></div>
<div><p t>にも対処できるように</p><p b>，</p><p p>定義を変更します</p><p b>．</p><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li> </ul><p t>命令を内部で使います</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>r<li>i<li>k<li>a<li>e<li>#<li>1<li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>t<li>r<li>i<li>k<li>a<li>e<li>#<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><p h>その上で</p></div>
<div><ul><li>\<li>T<li>r<li>i<li>k<li>a<li>e<li>{<li>A<li>}<li>,<li> <li>\<li>T<li>r<li>i<li>k<li>a<li>e<li>{<li>A<li>B<li>C<li>D<li>E<li>F<li>}<li>,<li> <li>\<li>T<li>r<li>i<li>k<li>a<li>e<li>{<li>{<li>A<li>B<li>C<li>}<li>{<li>D<li>E<li>F<li>}<li>}<li> <li>a<li>n<li>d<li> <li>\<li>T<li>r<li>i<li>k<li>a<li>e<li>{<li>\<li>A<li>t<li>o<li>F<li>}</ul></div>
<div><p v>と入力することによって</p><p b>，</p><p z>次のような出力がえられます</p><p b>．</p><p f>今度は</p><p b>，</p><p bm>中括弧で二重に区切った効果がでています</p><p b>．</p></div>
<div><ul><li>A<li>,<li> <li>B<li>A<li>C<li>D<li>E<li>F<li>,<li> <li>D<li>E<li>F<li>A<li>B<li>C<li> <li>a<li>n<li>d<li> <li>D<li>E<li>F<li>A<li>B<li>C</ul></div>
<div><ul><li>1<li>.<li>3<li>.<li>2<li> </ul><p bq>引数の範囲の明示引数の範囲を限定するために</p><p b>，</p><p bg>区切り記号を用いることもできます</p><p b>．</p><p p>次のような定義で</p><p b>，</p><p f>マクロ</p><ul><li>\<li>N<li>e<li>n<li>g<li>a<li>p<li>p<li>i</ul></div>
<div><p l>を作成します</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>N<li>e<li>n<li>g<li>a<li>p<li>p<li>i<li>#<li>1<li>/<li>#<li>2<li>/<li>#<li>3<li>/<li>{<li>#<li>1<li> </ul><p b>年</p><ul><li>#<li>2<li> </ul><p b>月</p><ul><li>#<li>3<li> </ul><p b>日</p><ul><li>}</ul></div>
<div><p h>その上で</p><p b>，</p><ul><li>\<li> <li>N<li>e<li>n<li>g<li>a<li>p<li>p<li>i<li>1<li>9<li>9<li>5<li>/<li>5<li> <li>/<li>1<li>7<li>/<li> <li> </ul><p l>と入力すると</p><p b>，</p><ul><li>1<li>9<li>9<li>5<li> </ul><p b>年</p><ul><li> <li>5<li> </ul><p b>月</p><ul><li> <li>1<li>7<li> <li> </ul><p n>日がえられます</p><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p h>内部では</p><p b>，</p><p h>現在の年</p><p b>・</p><p b>月</p><p b>・</p><p d>日が</p><ul><li>\<li>y<li>e<li>a<li>r</ul><p b>，</p><ul><li>\</ul></div>
<div><ul><li>m<li>o<li>n<li>t<li>h</ul><p b>，</p><ul><li>\<li>d<li>a<li>y<li> </ul><p v>に保存されていますので</p><p b>，</p></div>
<div><ul><li>\<li>N<li>e<li>n<li>g<li>a<li>p<li>p<li>i<li>\<li>t<li>h<li>e<li>\<li>y<li>e<li>a<li>r<li>/<li>\<li>t<li>h<li>e<li>\<li>m<li>o<li>n<li>t<li>h<li>/<li>\<li>t<li>h<li>e<li>\<li>d<li>a<li>y<li>/<li>.</ul></div>
<div><p v>と入力することによって</p><p b>，</p><p bi>次のように本日の日付が出力されます</p><p b>．</p><p h>すなわち</p><p b>，</p><ul><li>2<li>0<li>0<li>4<li> </ul><p b>年</p><ul><li> <li>7<li> </ul><p b>月</p><ul><li> <li>2<li>0<li> </ul><p b>日</p><ul><li>.</ul></div>
<div><p h>ちなみに</p><p b>，</p><ul><li>p<li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><ul><li>\<li>t<li>o<li>d<li>a<li>y<li> </ul><p be>という命令が用意されているので</p><p b>，</p><p b>「</p><ul><li>\<li>t<li>o<li>d<li>a<li>y</ul><p b>」</p><p l>と入力すると</p><p b>，</p><p b>「</p><p d>平成</p></div>
<div><ul><li>1<li>6<li> <li> </ul><p b>年</p><ul><li> <li>7<li> </ul><p b>月</p><ul><li> <li>2<li>0<li> </ul><p b>日</p><p b>」</p><p n>と出力されます</p><p b>．</p><p bc>元号表示を西暦表示にするには</p><p b>，</p><p b>「</p><ul><li>\</ul><p d>西暦</p><ul><li>\<li> <li>t<li>o<li>d<li>a<li>y</ul><p b>」</p><p l>と入力します</p><p b>．</p><p h>たしかに</p><p b>「</p><ul><li>2<li>0<li>0<li>4<li> </ul><p b>年</p><ul><li> <li>7<li> </ul><p b>月</p><ul><li> <li>2<li>0</ul></div>
<div><p b>日</p><p b>」</p><p j>となります</p><p b>．</p><ul><li>\</ul><p f>西暦は</p><p b>，</p><p by>元号表示を西暦表示に変更するスイッチになっています</p><p b>．</p><p j>したがって</p><p b>，</p><ul><li>\</ul><p p>西暦の宣言以降は</p><p b>，</p><p l>すべて西暦表</p></div>
<div><p l>示になります</p><p b>．</p><p z>もとに戻す必要がある場合は</p><p b>，</p><p b>「</p><ul><li>\</ul><p d>和暦</p></div>
<div><ul><li>\<li>t<li>o<li>d<li>a<li>y</ul><p b>」</p><p l>と入力すると</p><p b>，</p><p b>「</p><p d>平成</p><ul><li> <li>1<li>6<li> </ul><p b>年</p><ul><li> <li>7<li> </ul><p b>月</p><ul><li> <li>2<li>0<li> </ul><p b>日</p><p b>」</p><p x>と変更することができます</p><p b>．</p><ul><li>\</ul><p f>和暦は</p><p b>，</p><p bm>西暦表示を元号表示に変更するスイッチで</p></div>
<div><p b>す</p><p b>．</p></div>
<div><ul><li>1<li>.<li>4<li> </ul><p x>置き換えマクロの追加説明</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li> </ul><p l>の引数として</p><ul><li> <li>j<li>b<li>o<li>o<li>k<li> </ul><p l>を指定すると</p><p b>，</p><p r>文献リストの標題は</p><p b>，</p><p b>「</p><p h>関連図書</p><p b>」</p><p n>と出力されます</p><p b>．</p></div>
<div><p f>これは</p><p b>，</p><ul><li>j<li>b<li>o<li>o<li>k<li>.<li>c<li>l<li>s<li> </ul><p f>の中で</p><p b>，</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>b<li>i<li>b<li>n<li>a<li>m<li>e<li>}<li>{</ul><p h>関連図書</p><ul><li>}<li> </ul><p v>と定義してあるためです</p><p b>．</p><p f>本書は</p><p b>，</p><ul><li>j<li>b<li>o<li>o<li>k</ul></div>
<div><p x>クラスを使っていますので</p><p b>，</p><p f>ここで</p><p b>「</p><ul><li>\<li>b<li>i<li>b<li>n<li>a<li>m<li>e</ul><p b>」</p><p l>と入力すると</p><p b>，</p><p h>たしかに</p><p b>「</p><p h>関連図書</p><p b>」</p><p n>と出力されます</p><p b>．</p><p f>これを</p><p b>，</p><p b>「</p><p h>参考文献</p><p b>」</p><p f>と変更</p></div>
<div><p l>したい場合は</p><p b>，</p><p p>文書の先頭などに</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>b<li>i<li>b<li>n<li>a<li>m<li>e<li>{</ul><p h>参考文献</p><ul><li>}</ul></div>
<div><ul><li>1<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bm>まくろの八衢と書けば目的が達せられます</p><p b>．</p><p f>ここで</p><p b>，</p><p b>「</p><ul><li>\<li>b<li>i<li>b<li>n<li>a<li>m<li>e</ul><p b>」</p><p t>と入力するとたしかに</p><p b>「</p><p h>参考文献</p><p b>」</p><p f>と出力</p></div>
<div><p h>されます</p><p b>．</p></div>
<div><p x>この種の置き換えマクロは</p><p b>，</p><p bg>文書クラスごとに用意されています</p><p b>．</p><p l>変更するには</p><p b>，</p><p n>ここで説明した</p><ul><li>\<li>d<li>e<li>f</ul></div>
<div><p h>を使うか</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>に従って</p><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li> </ul><p j>を使います</p><p b>．</p></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>p<li>o<li>s<li>t<li>p<li>a<li>r<li>t<li>n<li>a<li>m<li>e<li>}<li>{</ul><p b>部</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>n<li>a<li>m<li>e<li>}<li>{</ul><p d>目次</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>l<li>i<li>s<li>t<li>f<li>i<li>g<li>u<li>r<li>e<li>n<li>a<li>m<li>e<li>}<li>{</ul><p f>図目次</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>l<li>i<li>s<li>t<li>t<li>a<li>b<li>l<li>e<li>n<li>a<li>m<li>e<li>}<li>{</ul><p f>表目次</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>r<li>e<li>f<li>n<li>a<li>m<li>e<li>}<li>{</ul><p h>参考文献</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>i<li>n<li>d<li>e<li>x<li>n<li>a<li>m<li>e<li>}<li>{</ul><p d>索引</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>f<li>i<li>g<li>u<li>r<li>e<li>n<li>a<li>m<li>e<li>}<li>{</ul><p b>図</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>t<li>a<li>b<li>l<li>e<li>n<li>a<li>m<li>e<li>}<li>{</ul><p b>表</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>a<li>p<li>p<li>e<li>n<li>d<li>i<li>x<li>n<li>a<li>m<li>e<li>}<li>{</ul><p b>付</p><ul><li> </ul><p b>録</p><ul><li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>a<li>b<li>s<li>t<li>r<li>a<li>c<li>t<li>n<li>a<li>m<li>e<li>}<li>{</ul><p b>概</p><ul><li> </ul><p b>要</p><ul><li>}</ul></div>
<div><ul><li>1<li>7</ul></div>
<div><p b>第</p><ul><li>2</ul><p b>章</p><ul><li> </ul><p be>文字列リスト処理の基礎文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li>1</ul></div>
<div><p f>今回は</p><p b>，</p><p bc>文字列やそのリストを分解して</p><p b>，</p><p ck>部分文字列を取り出すにはどうすればよいかをかんがえてみましょう</p><p b>．</p><p f>とくに</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p></div>
<div><p b>の</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p b>と</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p t>の使い方を紹介します</p><p b>．</p></div>
<div><ul><li>2<li>.<li>1<li> </ul><p p>部分文字列の抽出</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p b>は</p><p b>，</p><ul><li>T<li>E<li>X<li> <li> </ul><p h>の制御綴</p><ul><li> <li>(<li>c<li>o<li>n<li>t<li>r<li>o<li>l<li> <li>s<li>e<li>q<li>u<li>e<li>n<li>c<li>e<li> <li>)<li> </ul><p z>を組み合わせたマクロ集です</p><p b>．</p><p b>ユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p bi>が使うことのできる制御綴については</p><p b>，</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p bs>などの使用説明書などに詳しく説明されています</p><p b>．</p><p t>通常の文書を書くには</p><p b>，</p><p bo>これでほとんどの場合用が足りてしまいます</p><p b>．</p></div>
<div><p f>しかし</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2<li> </ul><p b>ε</p><p j>の内部には</p><p b>，</p><p cc>マクロ集を作り上げるための多くの制御綴が隠されています</p><p b>．</p><p r>これらの内部制御綴</p><ul><li> <li>(</ul><p l>隠しコマンド</p><ul><li>)</ul></div>
<div><p b>は</p><p b>，</p><p z>自分でマクロを作り始めたユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p h>にとって</p><p b>，</p><p v>きわめて便利なものです</p><p b>．</p><p n>今回とりあげる</p><ul><li>\<li>@<li> <li>f<li>o<li>r<li> </ul><p b>と</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p b>は</p><p b>，</p><p p>そうした隠しコマ</p></div>
<div><p v>ンドの代表的なものです</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bm>の文書ファイルの冒頭の決まり文句として</p><p b>，</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>1<li>2<li>p<li>t<li>,<li>d<li>r<li>a<li>f<li>t<li>]<li>{<li>j<li>b<li>o<li>o<li>k<li>}</ul></div>
<div><p p>などと書くことは</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>ユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p t>にはおなじみでしょう</p><p b>．</p><p ci>角括弧のなかにはオプションをコンマで区切って記入してゆきます</p><p b>．</p><p b>コ</p></div>
<div><p n>ンマで区切れば</p><p b>，</p><p ci>指定するオプションの数は必要なだけ増やしてゆくことができます</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><p z>このようなコンマで区切った</p></div>
<div><p bc>文字列リストを処理するために</p><p b>，</p><p j>内部制御綴</p><ul><li> <li>(</ul><p l>隠しコマンド</p><ul><li>)<li>\<li>@<li> <li>f<li>o<li>r<li> </ul><p r>が用意されています</p><p b>．</p><p d>また</p><p b>，</p><p bg>文字列の一文字ずつを分離して処理</p></div>
<div><p j>するための</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p v>という制御綴もあります</p><p b>．</p><p x>実際にためしてみましょう</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p bs>のように文書ファイルを作って処理してください</p><p b>．</p><ul><li>:<li>=<li> </ul><p b>と</p><ul><li>\<li>d<li>o<li> </ul><p n>とにはさまれた</p><ul><li> <li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li> </ul><p t>が処理べき文字列です</p><p b>．</p><p h>同じ文字</p></div>
<div><p d>列を</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p b>と</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p v>を用いて処理しています</p><p b>．</p><p n>この例文からは</p><p b>，</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><p b>．</p><ul><li>(<li>0<li>1<li>)<li> </ul><p b>「</p><p p>まくろのやちまた</p><p b>」</p><p j>と読みます</p><p b>．</p></div>
<div><ul><li>1<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>o<li>r<li>a<li>n<li>g<li>e<li>-<li>a<li>p<li>p<li>l<li>e<li>-<li>b<li>a<li>n<li>a<li>n<li>a<li>o<li>-<li>r<li>-<li>a<li>-<li>n<li>-<li>g<li>-<li>e<li>-<li>,<li>-<li>a<li>-<li>p<li>-<li>p<li>-<li>l<li>-<li>e<li>-<li>,<li>-<li>b<li>-<li>a<li>-<li>n<li>-<li>a<li>-<li>n<li>-<li>a<li>-</ul></div>
<div><p x>のような出力が得られます</p><p b>．</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p n>を使った例では</p><p b>，</p><p bm>コンマで区切られた部分文字列を取得して</p><p b>，</p><p l>その文字列を</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p l>という制御綴</p></div>
<div><p l>に代入します</p><p b>．</p><p h>もちろん</p><p b>，</p><p z>この制御綴の名前は任意です</p><p b>．</p><p f>ついで</p><p b>，</p><p n>取得した文字列</p><ul><li> <li>(<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p f>に保存</p><ul><li>)<li> </ul><p h>を用いて</p><p b>，</p><ul><li>\<li>d<li>o<li> </ul><p n>に続く中括弧の</p></div>
<div><p x>中に書いた処理を行います</p><p b>．</p><p j>この例では</p><p b>，</p><p j>簡単のため</p></div>
<div><p b>「</p><p bm>文字列を出力して末尾にハイフンを付ける</p><p b>」</p><ul><li>(</ul><p l>ハイフン分割</p><ul><li>)<li> </ul><p t>という処理を行います</p><p b>．</p><ul><li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}</ul><p bc>のように書けばよいことはおわ</p></div>
<div><p l>かりでしょう</p><p b>．</p></div>
<div><p d>一方</p><p b>，</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p n>を使った例では</p><p b>，</p><p bm>一文字ずつを取り出して処理してゆきます</p><p b>．</p><p f>ついで</p><p b>，</p><p n>取得した文字列</p></div>
<div><ul><li>(<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p f>に保存</p><ul><li>)<li> </ul><p h>を用いて</p><p b>，</p><ul><li>\<li>d<li>o<li> </ul><p bw>に続く中括弧の中に書いた処理を行うことは同じです</p><p b>．</p><p h>ここでは</p><p b>，</p><p f>同様に</p></div>
<div><p b>「</p><p bm>文字列を出力して末尾にハイフンを付ける</p><p b>」</p><ul><li>(<li> </ul><p l>ハイフン分割</p><ul><li>)<li> </ul><p z>という処理を行っていますが</p><p b>，</p><p bi>一文字ずつハイフンで区切られること</p></div>
<div><p j>になります</p><p b>．</p><p d>また</p><p b>，</p><p bm>コンマも一文字として取り扱われています</p><p b>．</p></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p b>や</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p t>を有効に使うためには</p><p b>，</p><p bq>文字列を直接に代入するのでは限界があります</p><p b>．</p><p f>そこで</p><p b>，</p><p v>いったん文字列を制御綴</p><ul><li>\<li>F<li>r<li>u<li>i<li>t<li> </ul><p b>に</p></div>
<div><p x>収めることを考えましょう</p><p b>．</p><p j>次のように</p><p b>，</p><ul><li>\<li>d<li>e<li>f<li> </ul><p j>を使います</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>F<li>r<li>u<li>i<li>t<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>}</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>\<li>F<li>r<li>u<li>i<li>t<li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>\<li>F<li>r<li>u<li>i<li>t<li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p r>出力を次に示します</p><p b>．</p><ul><li>\<li>@<li> <li>f<li>o<li>r<li> </ul><p l>の処理結果は</p><p b>，</p><p n>前と同じですが</p><p b>，</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p l>の処理結果は</p><p b>，</p><p z>前とは異なってしまいました</p><p b>．</p><p n>なぜなのでしょ</p></div>
<div><p d>うか</p><p b>．</p></div>
<div><ul><li>o<li>r<li>a<li>n<li>g<li>e<li>-<li>a<li>p<li>p<li>l<li>e<li>-<li>b<li>a<li>n<li>a<li>n<li>a<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>-</ul></div>
<div><p t>出力結果をよくみると</p><p b>，</p><ul><li>\<li>@<li> <li>t<li>f<li>o<li>r<li> </ul><p j>の処理では</p><p b>，</p><p bc>コンマがそのままのこっており</p><p b>，</p><p bm>ハイフンは最後尾のみに出力されています</p><p b>．</p><p f>つまり</p><p b>，</p></div>
<div><ul><li>\<li>@<li> <li>t<li>f<li>o<li>r<li> </ul><p d>では</p><p b>，</p><ul><li>\<li>F<li>r<li>u<li>i<li>t<li> </ul><p bq>がひとまとまりの文字として処理されています</p><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p v>のことばでいいかえると</p><p b>，</p><ul><li>\<li>F<li>r<li>u<li>i<li>t<li> </ul><p j>の文字列が</p><p b>，</p><p h>展開され</p></div>
<div><p x>ないまま処理されています</p><p b>．</p><p p>このような場合に</p><p b>，</p><ul><li>\<li>@<li>t<li>f<li>o<li>r</ul></div>
<div><p bg>などの制御綴の実行を後回しにして</p><p b>，</p><p bc>後続の制御綴をさきに展開する</p><ul><li> <li>(</ul><p j>この場合は</p><p b>，</p><ul><li>\<li> <li>F<li>r<li>u<li>i<li>t<li> </ul><p x>の文字列をさきに展開する</p><ul><li>)<li> </ul><p j>必要があり</p></div>
<div><p d>ます</p><p b>．</p><p bc>このような処理に対処するため</p><p b>，</p><ul><li>T<li>E<li>X<li> <li> </ul><p n>の制御綴として</p><p b>，</p><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li> </ul><p bo>が用意されていたことを思い出してください</p><p b>．</p><p d>さて</p><p b>，</p><p b>覚</p></div>
<div><p j>悟をきめて</p><p b>，</p><p d>上の</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p h>の例文に</p><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li> </ul><p t>を入れまくりましょう</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>F<li>r<li>u<li>i<li>t<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>}</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>:<li>%</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>=<li>\<li>F<li>r<li>u<li>i<li>t<li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p l>面倒ですから</p><p b>，</p><p j>これ以降は</p><p b>，</p><ul><li>\<li> <li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li> </ul><p t>などの命令を省略して</p><p b>，</p><p x>必要な部分のみを書きます</p><p b>．</p><p r>出力は次の通りです</p><p b>．</p><p j>見事に所期</p></div>
<div><p t>の結果がえられました</p><p b>．</p></div>
<div class=_mark id=mark26><a  href='#toc26'><p b>第</p><ul><li> <li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p v>文字列リスト処理の基礎</p><ul><li> <li>1<li>9</ul></a></div>
<div><ul><li>o<li>-<li>r<li>-<li>a<li>-<li>n<li>-<li>g<li>-<li>e<li>-<li>,<li>-<li>a<li>-<li>p<li>-<li>p<li>-<li>l<li>-<li>e<li>-<li>,<li>-<li>b<li>-<li>a<li>-<li>n<li>-<li>a<li>-<li>n<li>-<li>a<li>-</ul></div>
<div><p f>さらに</p><p b>，</p><p p>応用するためには</p><p b>，</p><p bk>制御綴の中で使うことが必要になります</p><p b>．</p><p bu>とくに処理の対象が引数で与えられるようにすると</p><p b>，</p><p h>ぐんと適</p></div>
<div><p r>用範囲が広がります</p><p b>．</p><p n>簡単な例として</p><p b>，</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p b>と</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p n>の機能を用いて</p><p b>，</p><p t>引数を一つもつ制御綴</p><ul><li>\<li>d<li>o<li>F<li>r<li>u<li>i<li>t<li> </ul><p r>を作ってみましょう</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>o<li>F<li>r<li>u<li>i<li>t<li>#<li>1<li>{<li>%</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>-<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li>\<li>d<li>o<li>F<li>r<li>u<li>i<li>t<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>}</ul></div>
<div><p h>とします</p><p b>．</p><p d>引数</p><ul><li>#<li> <li>1<li> </ul><p p>で与えた文字列が</p><p b>，</p><p bs>ハイフン分割の処理を行うべき文字列になります</p><p b>．</p><p j>この場合は</p><p b>，</p><p z>展開されてからハイフン分割</p></div>
<div><p p>処理が行われます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li>o<li>r<li>a<li>n<li>g<li>e<li>-<li>a<li>p<li>p<li>l<li>e<li>-<li>b<li>a<li>n<li>a<li>n<li>a<li>o<li>-<li>r<li>-<li>a<li>-<li>n<li>-<li>g<li>-<li>e<li>-<li>,<li>-<li>a<li>-<li>p<li>-<li>p<li>-<li>l<li>-<li>e<li>-<li>,<li>-<li>b<li>-<li>a<li>-<li>n<li>-<li>a<li>-<li>n<li>-<li>a<li>-</ul></div>
<div><p j>応用として</p><p b>，</p><p bu>もう少しもっともらしいマクロを作ってみましょう</p><p b>．</p><ul><li>6<li> <li>/<li>3<li>/<li>2<li>0<li> </ul><p bu>などの文字列をコンマで区切って作った文字列から</p><p b>，</p><p d>それ</p></div>
<div><p p>ぞれを取り出して</p><p b>，</p><p d>平成</p><ul><li> <li>6<li> </ul><p b>年</p><ul><li> <li>3<li> </ul><p b>月</p><ul><li> <li>2<li>0<li> </ul><p be>日などとするマクロを作成します</p><p b>．</p><p r>このマクロの名前を</p><ul><li>\<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li> </ul><p h>とします</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li>#<li>1<li>/<li>#<li>2<li>/<li>#<li>3<li>/<li>{</ul><p d>平成</p><ul><li>#<li>1<li> </ul><p b>年</p><ul><li>#<li>2<li> </ul><p b>月</p><ul><li>#<li>3<li> </ul><p b>日</p><ul><li> <li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li>#<li>1<li>{<li>%</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>/<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li>\<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li>{<li>6<li>/<li>3<li>/<li>2<li>0<li>,<li>7<li>/<li>5<li>/<li>2<li>7<li>,<li>7<li>/<li>6<li>/<li>1<li>}</ul></div>
<div><p n>と定義しますと</p><p b>，</p><p t>次の出力が得られます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p d>平成</p><ul><li> <li>6<li> </ul><p b>年</p><ul><li> <li>3<li> </ul><p b>月</p><ul><li> <li>2<li>0<li> </ul><p b>日</p><ul><li> </ul><p d>平成</p><ul><li> <li>7<li> </ul><p b>年</p><ul><li> <li>5<li> </ul><p b>月</p><ul><li> <li>2<li>7<li> </ul><p b>日</p><ul><li> </ul><p d>平成</p><ul><li> <li>7<li> </ul><p b>年</p><ul><li> <li>6<li> </ul><p b>月</p><ul><li> <li>1<li> </ul><p l>日念のために</p><p b>，</p><p bo>この命令の成り立ちを説明しておきましょう</p><p b>．</p></div>
<div><ul><li>\<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li> </ul><p l>命令の中での</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p j>の使い方は</p><p b>，</p></div>
<div><p r>これまでと同じです</p><p b>．</p><ul><li>\<li>d<li>o<li> </ul><p z>に続く中括弧の中での処理に</p><p b>，</p><ul><li>\<li>@<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li> </ul><p r>命令を使っています</p><p b>．</p><p j>この命令は</p><p b>，</p></div>
<div><p j>スラッシュ</p><ul><li>(<li>/<li>)<li> </ul><p bk>で区切った文字列をそれぞれに分離して</p><p b>，</p><p d>平成</p><p b>・</p><p b>年</p><p b>・</p><p b>月</p><p b>・</p><p be>日を付け加えて出力するものです</p><p b>．</p></div>
<div><p f>これは</p><p b>，</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p bi>に保存された文字列に作用させますが</p><p b>，</p><p j>あらかじめ</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p bc>を展開しておく必要があります</p><p b>．</p><ul><li>\<li>@<li>n<li>e<li>n<li>n<li>g<li>a<li>p<li>p<li>i<li> </ul><p h>命令の直</p></div>
<div><p d>前の</p><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li> </ul><p t>はそのためのものです</p><p b>．</p></div>
<div></div>
<div><ul><li>2<li>1</ul></div>
<div><p b>第</p><ul><li>3</ul><p b>章</p><ul><li> <li>T<li>E<li>X</ul><p j>流カウンタ</p><p b>ー</p><p l>指南文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li>1</ul></div>
<div><p f>今回は</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p j>のカウンタ</p><p b>ー</p><p p>の説明を行います</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>には別のカウンタ</p><p b>ー</p><p p>体系がありますが</p><p b>，</p><p h>ここでは</p><p b>，</p><p p>混乱を避けるため</p><ul><li> <li>T<li>E<li>X<li> </ul><p b>の</p></div>
<div><p t>体系のみを説明します</p><p b>．</p></div>
<div><ul><li>3<li>.<li>1<li> </ul><p h>カウンタ</p><p b>ー</p><p h>と足し算</p></div>
<div><ul><li>T<li>E<li>X<li> </ul><p d>では</p><p b>，</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li> </ul><p t>という制御綴によって</p><p b>，</p><p n>新しいカウンタ</p><p b>ー</p><p l>を定義します</p><p b>．</p><p f>例えば</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><p l>と書きますと</p><p b>，</p><p h>それ以後</p><ul><li>\<li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p n>というカウンタ</p><p b>ー</p><p v>が使えるようになります</p><p b>．</p><p h>カウンタ</p><p b>ー</p><p bk>値は直接数字で代入することができます</p></div>
<div><p b>．</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>1<li>0<li>0</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p></div>
<div><p l>とかきますと</p><p b>，</p><p x>出力は次のようになります</p><p b>．</p><p f>ここで</p><ul><li>\<li>t<li>h<li>e<li> </ul><p j>はカウンタ</p><p b>ー</p><p t>の値を出力するための</p><ul><li> <li>T<li>E<li>X<li> </ul><p l>の制御綴です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p j>これ以降は</p><p b>，</p><p h>カウンタ</p><p b>ー</p><ul><li>\<li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p r>が定義済みとします</p><p b>．</p><p h>カウンタ</p><p b>ー</p><p j>の足し算は</p><p b>，</p><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li> </ul><p j>を使います</p><p b>．</p><ul><li>b<li>y<li> </ul><p t>の後に加えるべき整数</p></div>
<div><p j>を書きます</p><p b>．</p><ul><li>b<li>y<li> </ul><p n>は省略可能です</p><p b>．</p></div>
<div><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>1<li>0<li>0</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>b<li>y<li> <li>2<li>5</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>-<li>1<li>5</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p></div>
<div><p j>としますと</p><p b>，</p><p z>次のような出力が得られます</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>2<li>)</ul></div>
<div><ul><li>2<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p t>まくろの八衢カウンタ</p><p b>ー</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>2<li>5<li> </ul><p d>です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>1<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p j>加える数は</p><p b>，</p><p v>次の例のようにカウンタ</p><p b>ー</p><p v>で与えてもかまいません</p><p b>．</p><p j>この例では</p><p b>，</p><ul><li>\<li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p be>の古い値を加えて新しいカウンタ</p><p b>ー</p><p d>値と</p></div>
<div><p j>しています</p><p b>．</p></div>
<div><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>1<li>0<li>0</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>b<li>y<li> <li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p></div>
<div><p r>出力は次の通りです</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>2<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>4<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p p>前の章で解説した</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p f>命令と</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p r>の足し算を利用して</p><p b>，</p><p bk>文字列リストの要素の数を数えるマクロ</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p p>を作成しましょう</p></div>
<div><p b>．</p><p r>定義を次に示します</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>#<li>1<li>{<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>b<li>y<li> <li>1<li>}<li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>o<li> </ul><p r>に続く中括弧の中で</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p t>が一回検出される度に</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p b>に</p><ul><li> <li>1<li> </ul><p p>ずつ加えています</p><p b>．</p><p f>最後に</p><ul><li>\<li>t<li>h<li>e</ul></div>
<div><p f>命令で</p><p b>，</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p t>の値を出力しています</p><p b>．</p><p f>実際に</p><p b>，</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p v>命令を使ってみましょう</p><p b>．</p><p r>次のように書きます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>リスト中の要素の個数を求める</p><ul><li>:</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>}<li>;</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>}<li>;<li> <li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>1<li>,<li>2<li>,<li>3<li>,<li>4<li>,<li>5<li>,<li>6<li>}</ul></div>
<div><p x>出力は次のようになります</p><p b>．</p><p d>やや</p><p b>，</p><p bi>本格的なマクロらしくなってきました</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>リスト中の要素の個数を求める</p><ul><li>:<li> <li>1<li>;<li> <li>2<li>;<li> <li>3<li>;<li> <li>6</ul></div>
<div><p l>方法としては</p><p b>，</p><p co>同じですが与えられた文字列に含まれる文字の個数を勘定してみましょう</p><p b>．</p><p f>今度は</p><p b>，</p><p p>前の章で解説した</p><ul><li>\<li>@<li> <li>t<li>f<li>o<li>r<li> </ul><p f>命令を</p></div>
<div><p h>使います</p><p b>．</p><p f>名前を</p><ul><li>\<li>c<li>h<li>a<li>r<li>c<li>t<li>e<li>r<li>N<li>o<li> </ul><p h>とします</p><p b>．</p><p t>定義を次のとおりです</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>#<li>1<li>{<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>b<li>y<li> <li>1<li>}<li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p n>何のことはない</p><p b>．</p><p h>要するに</p><p b>，</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p l>の定義の中で</p><p b>，</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p b>を</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p p>に変えただけです</p><p b>．</p><p v>実際に使ってみましょう</p><p b>．</p></div>
<div class=_mark id=mark27><a  href='#toc27'><p b>第</p><ul><li> <li>3<li> </ul><p b>章</p><ul><li>.<li> <li>T<li>E<li>X<li> </ul><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>3</ul></a></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>文字列中の文字の個数を求める</p><ul><li>:</ul></div>
<div><ul><li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{<li>a<li>p<li>p<li>l<li>e<li>}<li>;<li> <li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{<li>b<li>a<li>n<li>a<li>n<li>a<li>}</ul></div>
<div><p t>出力はつぎの通りです</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>文字列中の文字の個数を求める</p><ul><li>:<li> <li>6<li>;<li> <li>5<li>;<li> <li>6</ul></div>
<div><ul><li>3<li> <li>.<li>2<li> </ul><p h>カウンタ</p><p b>ー</p><p bc>の大小による分岐処理カウンタ</p><p b>ー</p><p n>の値を評価して</p><p b>，</p><p bu>その大小によって処理を分岐したいことがあります</p><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p d>には</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>i<li>f<li>n<li>u<li>m<li>·<li>·<li>·<li>\<li>f<li>i</ul></div>
<div><p bm>という条件文が使えるようになっています</p><p b>．</p><p p>文字列の文字数が</p><ul><li> <li>5<li> <li> </ul><p ci>文字以上になるとそれ以上は出力しないような機能をもつマクロを</p></div>
<div><p p>作ってみましょう</p><p b>．</p><p l>命令の名前を</p><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li> </ul><p l>としましょう</p><p b>．</p><p l>上で定義した</p></div>
<div><ul><li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li> </ul><p r>命令を少し変えます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>#<li>1<li>{<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>b<li>y<li> <li>1</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li><<li>6<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>f<li>i<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li> <li>i<li>f<li>n<li>u<li>m<li> </ul><p b>と</p><ul><li>\<li>f<li>i<li> </ul><p x>で条件文を構成しています</p><p b>．</p><p j>この場合は</p><p b>，</p><ul><li>5<li> </ul><p j>文字までは</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p bo>として取得した文字をそのまま出力しますが</p><p b>，</p><ul><li>6<li> </ul><p d>文字</p></div>
<div><p l>以上になると</p><p b>，</p><p be>何もしないということになります</p><p b>．</p><p v>実際に使ってみましょう</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p j>文字列中を</p><ul><li> <li>5<li> </ul><p p>文字以下に約める</p><ul><li>:</ul></div>
<div><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>a<li>p<li>p<li>l<li>e<li>}<li>;</ul></div>
<div><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>b<li>a<li>n<li>a<li>n<li>a<li>}<li>;<li> <li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>p<li>l<li>u<li>m<li>}</ul></div>
<div><p l>とかきますと</p><p b>，</p><p z>次のような出力が得られます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p j>文字列中を</p><ul><li> <li>5<li> </ul><p p>文字以下に約める</p><ul><li>:<li> <li>o<li>r<li>a<li>n<li>g<li>;<li> <li>a<li>p<li>p<li>l<li>e<li>;<li> <li>b<li>a<li>n<li>a<li>n<li>;<li> <li>p<li>l<li>u<li>m</ul></div>
<div><p cu>こんなことをして何の役にたつのだとお思いになる諸兄もいらっしゃるでしょう</p><p b>．</p><p f>ここで</p><p b>，</p><p x>これまでの知識を総合して</p><p b>，</p><p l>実用に耐える</p></div>
<div><p t>マクロを作ってみます</p><p b>．</p><ul><li>\<li>a<li>n<li>d<li>f<li>o<li>r<li> </ul><p n>というマクロは</p><p b>，</p><ul><li>F<li>i<li>g<li>.<li> <li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>{<li>A<li>,<li>B<li>,<li>C<li>}</ul><p r>のように入力すると</p><p b>，</p><p b>「</p><ul><li>F<li>i<li>g<li>.<li> <li>A<li>,<li> <li>B<li> <li>a<li>n<li>d<li> <li>C</ul><p b>」</p><p p>のように整形する</p></div>
<div><p r>機能をもつものです</p><p b>．</p><p bg>定義と使い方を示しておきましょう</p><p b>．</p></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>%<li> <li>A<li>n<li>a<li>l<li>o<li>g<li> <li>t<li>o<li> <li>\<li>@<li>f<li>o<li>r<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>6</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>{<li>i<li>t<li>e<li>m<li>1<li>,<li>i<li>t<li>e<li>m<li>2<li>,<li>.<li>.<li>.<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>#<li>1<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>=<li>\<li>m<li>@<li>n<li>e<li> <li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li>=<li>\<li>z<li>@<li>%</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>\<li>@<li>n<li>e<li>}<li>%<li> </ul><p x>文字列リストの要素の合計</p><ul><li>-<li>1</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li>\<li>@<li>n<li>e<li>%</ul><p x>文字列リストの要素の個数</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li><<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> <li>%</ul><p d>合計</p><ul><li>-<li>1<li> </ul><p n>より小さいとき</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li><<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> <li>%</ul><p h>合計個数</p><ul><li> <li>1<li> </ul><p p>ならそのまま出力</p></div>
<div><ul><li>2<li>4<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li><<li>2<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>%</ul><p h>合計個数</p><ul><li> <li>2<li> </ul><p f>ならば</p><p b>，</p><p j>出力と空白</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>,<li> <li>%</ul><p j>そのほかは</p><p b>，</p><p p>コンマ付きで出力</p></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>%</ul><p d>合計</p><ul><li>-<li>1<li> </ul><p d>以上</p><p b>，</p><p be>すなわち最後の二つの要素の処理</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li>=<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>a<li>n<li>d<li> <li>%</ul><p h>最後から</p><ul><li> <li>2<li> </ul><p d>つ目</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> <li>%</ul><p j>最後のもの</p></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p r>この命令を使うには</p><p b>，</p><p r>次のように書きます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> <li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>}<li>;</ul></div>
<div><ul><li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>}<li>;<li> <li>F<li>i<li>g<li>.<li> <li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>{<li>1<li>,<li>2<li>,<li>3<li>,<li>4<li>,<li>5<li>,<li>6<li>}</ul></div>
<div><p x>出力は次のようになります</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> <li>o<li>r<li>a<li>n<li>g<li>e<li>;<li> <li>o<li>r<li>a<li>n<li>g<li>e<li> <li>a<li>n<li>d<li> <li>a<li>p<li>p<li>l<li>e<li>;<li> <li>o<li>r<li>a<li>n<li>g<li>e<li>,<li> <li>a<li>p<li>p<li>l<li>e<li> <li>a<li>n<li>d<li> <li>b<li>a<li>n<li>a<li>n<li>a<li>;<li> <li>F<li>i<li>g<li>.<li> <li>1<li>,<li> <li>2<li>,<li> <li>3<li>,<li> <li>4<li>,<li> <li>5<li> <li>a<li>n<li>d<li> <li>6</ul></div>
<div><ul><li>\<li> <li>a<li>n<li>d<li>f<li>o<li>r<li> <li> </ul><p co>というマクロの内部でどんなことを行っているかを説明しておきましょう</p><p b>．</p><p d>まず</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p f>として</p><p b>，</p><ul><li>\<li>@<li> <li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> <li> </ul><p b>と</p><ul><li>\<li>@<li> </ul></div>
<div><ul><li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li> </ul><p n>を使っています</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>の中では</p><p b>，</p><p t>一時的に使うカウンタ</p><p b>ー</p></div>
<div><p z>として宣言済みのものなので</p><p b>，</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li> </ul><p z>で宣言せずとも使用できます</p><p b>．</p><ul><li>\<li>m<li>@<li>n<li>e<li> </ul><p b>は</p><p b>，</p><p b>−</p><ul><li>1<li> </ul><p f>と同義</p><p b>，</p><ul><li>\<li>z<li>@</ul><p b>は</p><ul><li> <li>0</ul></div>
<div><p j>と同義です</p><p b>．</p><ul><li>\<li>@<li> <li>f<li>o<li>r<li> </ul><p b>を</p><ul><li> <li>2<li> </ul><p p>回使っていますが</p><p b>，</p><p f>最初は</p><p b>，</p><p z>文字列の要素の個数を調べて</p><p b>，</p><p d>合計</p><ul><li> </ul><p b>−</p><ul><li>1<li> <li> </ul><p t>としたものをカウンタ</p><p b>ー</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a</ul></div>
<div><p p>に格納しています</p><p b>．</p><p j>この方法は</p><p b>，</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p p>の手法と同じです</p><p b>．</p><p h>二番目の</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p d>では</p><p b>，</p></div>
<div><p z>文字列の要素の数をカウンタ</p><p b>ー</p><ul><li>\<li>@<li> <li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li> </ul><p h>に格納し</p><p b>，</p><p j>これと合計</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> </ul><p t>の値と比較しています</p><p b>．</p><p n>この例のように</p><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> </ul><p f>は入れ</p></div>
<div><p bg>子で多重に使用することができます</p><p b>．</p><p d>また</p><ul><li>\<li>e<li>l<li>s<li>e<li> </ul><p v>命令も注目してください</p><p b>．</p></div>
<div><ul><li>(<li> </ul><p d>参考</p><ul><li>)<li> <li>\<li>a<li>n<li>d<li>f<li>o<li>r<li> </ul><p n>の定義としては</p><p b>，</p><p d>岩熊</p><p b>・</p><p d>古川</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p bg>のマクロとスタイルファイルの利用</p><p b>」</p><p d>の第</p><ul><li> <li>1<li>5<li>.<li>5<li> </ul><p n>項に別のアプロ</p><p b>ー</p><p j>チによるも</p></div>
<div><p t>のが記載されています</p><p b>．</p><p v>本項のものと比較すると</p><p b>，</p><p bu>マクロの作成についてさらに理解が深まるでしょう</p><p b>．</p></div>
<div><ul><li>2<li>5</ul></div>
<div><p b>第</p><ul><li>4</ul><p b>章</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>流カウンタ</p><p b>ー</p><p l>指南文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li>1</ul></div>
<div><p f>今度は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>のカウンタ</p><p b>ー</p><p h>体系です</p><p b>．</p><p h>前の章の</p><ul><li> <li>T<li>E<li>X<li> </ul><p h>カウンタ</p><p b>ー</p><p b>を</p><p b>，</p><p h>そのまま</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>カウンタ</p><p b>ー</p><p v>に置き換えてみましょう</p><p b>．</p><p b>比</p></div>
<div><p r>較することによって</p><p b>，</p><p v>理解が深まると思います</p><p b>．</p></div>
<div><ul><li>4<li>.<li>1<li> </ul><p h>カウンタ</p><p b>ー</p><p h>と足し算</p></div>
<div><ul><li>T<li>E<li>X<li> </ul><p d>では</p><p b>，</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p t>という制御綴によって</p><p b>，</p><p n>新しいカウンタ</p><p b>ー</p><p l>を定義します</p><p b>．</p><p f>例えば</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}</ul></div>
<div><p l>と書きますと</p><p b>，</p><p h>それ以後</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li> </ul><p n>というカウンタ</p><p b>ー</p><p v>が使えるようになります</p><p b>．</p><p f>ここで</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p h>の先頭に</p><ul><li>\</ul><p t>印がついていないこと</p></div>
<div><p r>に注意してください</p><p b>．</p><p j>このことは</p><p b>，</p><p x>後程説明することにします</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><p r>に値を設定するには</p><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p j>を使います</p><p b>．</p><p h>カウンタ</p><p b>ー</p><p p>値を取り出すには</p><p b>，</p><ul><li>\<li>v<li>a<li>l<li>u<li>e<li> </ul><p j>を使います</p><p b>．</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>1<li>0<li>0<li>}</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>v<li>a<li>l<li>u<li>e<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li> </ul><p d>です</p><p b>．</p></div>
<div><p l>とかきますと</p><p b>，</p><p x>出力は次のようになります</p><p b>．</p><p f>ここで</p><ul><li>\<li>t<li>h<li>e<li> </ul><p j>はカウンタ</p><p b>ー</p><p t>の値を出力するための</p><ul><li> <li>T<li>E<li>X<li> </ul><p j>の制御綴で</p><p b>，</p><p t>前章にも出てきました</p></div>
<div><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>では通常カウンタ</p><p b>ー</p><p bs>値を出力するための体系的な命名を行っています</p><p b>．</p><p n>これはカウンタ</p><p b>ー</p><p j>名の直前に</p><ul><li>\<li>t<li>h<li>e<li> </ul><p p>を冠するという方</p></div>
<div><p f>法です</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>に慣れた方ならば</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li> </ul><p co>など多くの制御綴があることにすでにお気付きになっておられるでしょう</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X</ul></div>
<div><ul><li>2<li> </ul><p b>ε</p><p d>では</p><p b>，</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> <li> </ul><p n>命令でカウンタ</p><p b>ー</p><p l>を新設すると</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p r>値を出力する制御綴</p><ul><li> <li>(<li>\<li>t<li>h<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>)<li> </ul><p t>が自動的に作成される</p></div>
<div><p r>ようになっています</p><p b>．</p><p f>これが</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li> </ul><p b>と</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p p>の違いの一つです</p><p b>．</p><p j>したがって</p><p b>，</p><p l>今回の例では</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p h>とすれば</p><p b>，</p></div>
<div><p h>カウンタ</p><p b>ー</p><p d>値が</p><ul><li> <li>1<li>0<li>0<li> </ul><p t>のように出力されます</p><p b>．</p></div>
<div><p j>これ以降は</p><p b>，</p><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li> </ul><p r>が定義済みとします</p><p b>．</p><p h>カウンタ</p><p b>ー</p><p j>の足し算は</p><p b>，</p><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p j>を使います</p><p b>．</p><p j>この命令は</p><p b>，</p><p f>二つの</p></div>
<div><p p>引数を取りますが</p><p b>，</p><p bc>後に加えるべき整数を書きます</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>3<li>)</ul></div>
<div><ul><li>2<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>1<li>0<li>0<li>}</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>2<li>5<li>}</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>-<li>1<li>5<li>}</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><p j>としますと</p><p b>，</p><p z>次のような出力が得られます</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>2<li>5<li> </ul><p d>です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>1<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p j>加える数は</p><p b>，</p><p v>次の例のようにカウンタ</p><p b>ー</p><p v>で与えてもかまいません</p><p b>．</p><p j>この例では</p><p b>，</p><ul><li>\<li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p be>の古い値を加えて新しいカウンタ</p><p b>ー</p><p d>値と</p></div>
<div><p j>しています</p><p b>．</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>1<li>0<li>0<li>}</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>\<li>t<li>h<li>e<li>\<li>v<li>a<li>l<li>u<li>e<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>}</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>\<li>t<li>h<li>e<li>\<li>v<li>a<li>l<li>u<li>e<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>}</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>/</ul><p f>の値は</p><ul><li> <li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p d>です</p><p b>．</p><ul><li>\<li>p<li>a<li>r</ul></div>
<div><p r>出力は次の通りです</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>1<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>2<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値は</p><ul><li> <li>4<li>0<li>0<li> </ul><p d>です</p><p b>．</p></div>
<div><p p>前の章で解説した</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p f>命令と</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p r>の足し算を利用して</p><p b>，</p><p bk>文字列リストの要素の数を数えるマクロ</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p p>を作成しましょう</p></div>
<div><p b>．</p><p r>定義を次に示します</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>#<li>1<li>{<li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>0<li>}</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>1<li>}<li>}<li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>o<li> </ul><p r>に続く中括弧の中で</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p t>が一回検出される度に</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p b>に</p><ul><li> <li>1<li> </ul><p p>ずつ加えています</p><p b>．</p><p f>最後に</p></div>
<div><ul><li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>命令で</p><p b>，</p><ul><li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p t>の値を出力しています</p><p b>．</p><p f>実際に</p><p b>，</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p v>命令を使ってみましょう</p><p b>．</p></div>
<div><p r>次のように書きます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>リスト中の要素の個数を求める</p><ul><li>:</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>}<li>;</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>}<li>;<li> <li>\<li>i<li>t<li>e<li>m<li>N<li>o<li>{<li>1<li>,<li>2<li>,<li>3<li>,<li>4<li>,<li>5<li>,<li>6<li>}</ul></div>
<div><p x>出力は次のようになります</p><p b>．</p><p d>やや</p><p b>，</p><p bi>本格的なマクロらしくなってきました</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>リスト中の要素の個数を求める</p><ul><li>:<li> <li>1<li>;<li> <li>2<li>;<li> <li>3<li>;<li> <li>6</ul></div>
<div><p l>方法としては</p><p b>，</p><p co>同じですが与えられた文字列に含まれる文字の個数を勘定してみましょう</p><p b>．</p><p f>今度は</p><p b>，</p><p p>前の章で解説した</p><ul><li>\<li>@<li> <li>t<li>f<li>o<li>r<li> </ul><p f>命令を</p></div>
<div><p h>使います</p><p b>．</p><p f>名前を</p><ul><li>\<li>c<li>h<li>a<li>r<li>c<li>t<li>e<li>r<li>N<li>o<li> </ul><p h>とします</p><p b>．</p><p t>定義を次のとおりです</p><p b>．</p></div>
<div class=_mark id=mark28><a  href='#toc28'><p b>第</p><ul><li> <li>4<li> </ul><p b>章</p><ul><li>.<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>7</ul></a></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>#<li>1<li>{<li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>0<li>}</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>1<li>}<li>}<li>\<li>t<li>h<li>e<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p n>何のことはない</p><p b>．</p><p h>要するに</p><p b>，</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p l>の定義の中で</p><p b>，</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p b>を</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p p>に変えただけです</p><p b>．</p><p v>実際に使ってみましょう</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>文字列中の文字の個数を求める</p><ul><li>:</ul></div>
<div><ul><li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{<li>a<li>p<li>p<li>l<li>e<li>}<li>;<li> <li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{<li>b<li>a<li>n<li>a<li>n<li>a<li>}</ul></div>
<div><p t>出力はつぎの通りです</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p bc>文字列中の文字の個数を求める</p><ul><li>:<li> <li>6<li>;<li> <li>5<li>;<li> <li>6</ul></div>
<div><ul><li>4<li>.<li>2<li> <li>T<li>E<li>X<li> </ul><p j>流カウンタ</p><p b>ー</p><p h>との違い</p></div>
<div><ul><li>T<li>E<li>X<li> <li> </ul><p j>のカウンタ</p><p b>ー</p><p h>新設命令</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li> </ul><p b>は</p><p b>，</p><p n>新しいカウンタ</p><p b>ー</p><p bg>を作成するという単機能の命令です</p><p b>．</p><p l>これに対して</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>のカウン</p></div>
<div><p b>タ</p><p b>ー</p><p h>新設命令</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p b>は</p><p b>，</p><p bg>次のような複合機能をもっています</p><p b>．</p></div>
<div><ul><li>1<li> <li>.<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>C<li>T<li>R<li>}</ul><p l>と宣言すると</p><p b>，</p><p n>同名のカウンタ</p><p b>ー</p><p be>がないかどうかをチェックします</p><p b>．</p><p f>あれば</p><p b>，</p><p l>警告を出して</p><p b>，</p><p p>処理を中断します</p></div>
<div><p b>．</p></div>
<div><ul><li>2<li>.<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li> <li>C<li>T<li>R<li> </ul><p l>を新設します</p><p b>．</p><p f>ただし</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p n>の側からみると</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p b>は</p><ul><li>\<li>c<li>@<li>C<li>T<li>R<li> </ul><p d>です</p><p b>．</p><p j>このように</p><p b>，</p><ul><li>\<li>c<li>@</ul><p t>が頭についた制御綴が</p></div>
<div><p l>作成されます</p><p b>．</p></div>
<div><ul><li>3<li>.<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li> <li>C<li>T<li>R<li> </ul><p x>の現在値を出力するための</p><ul><li>\<li>t<li>h<li>e<li>C<li>T<li>R<li> </ul><p z>命令が自動的に作成されます</p><p b>．</p></div>
<div><ul><li>4<li>.<li> </ul><p z>オプションで上位のカウンタ</p><p b>ー</p><ul><li> <li>S<li>U<li>P<li>C<li>T<li>R<li> </ul><p z>に従属させることができます</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><ul><li>5<li>.<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>C<li>T<li>R<li>}<li>[<li>S<li>U<li>P<li>C<li>T<li>R<li>]<li> </ul><p l>と宣言すると</p><p b>，</p><p h>カウンタ</p><p b>ー</p><ul><li> <li>S<li>U<li>P<li>C<li>T<li>R<li> </ul><p v>が増えるたびにカウンタ</p><p b>ー</p><ul><li> <li>C<li>T<li>R<li> </ul><p b>が</p><ul><li> <li>0</ul></div>
<div><p be>のリセットされるようになります</p><p b>．</p><p f>これは</p><p b>，</p><p p>内部で新設された</p><ul><li>\<li>c<li>l<li>@<li>C<li>T<li>R<li> </ul><p p>によるものですが</p><p b>，</p><p x>ここでは説明を省略します</p><p b>．</p></div>
<div><ul><li>6<li> <li>.<li> <li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p n>による参照用に</p><ul><li>\<li>p<li>@<li>C<li>T<li>R<li> </ul><p be>という空の制御綴が新設されます</p><p b>．</p><p z>このあたりもむずかしいので</p><p b>，</p><p bc>ずっと後で機会があれば説明す</p></div>
<div><p r>ることにしましょう</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>でのカウンタ</p><p b>ー</p><ul><li> <li>C<li>T<li>R<li> </ul><p b>が</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p n>の裸の命令では</p><p b>，</p><ul><li>\<li>c<li>@<li>C<li>T<li>R<li> </ul><p l>であることは</p><p b>，</p><p bg>つぎのようにすれば確かめられます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>5<li>0<li>0<li>}</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>\<li>v<li>a<li>l<li>u<li>e<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>=<li> <li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>c<li>@<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>6<li>0<li>0</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>\<li>v<li>a<li>l<li>u<li>e<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>=<li> <li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>5<li>0<li>0<li> <li>=<li> <li>5<li>0<li>0</ul></div>
<div><ul><li>6<li>0<li>0<li> <li>=<li> <li>6<li>0<li>0</ul></div>
<div><ul><li>2<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>4<li> <li>.<li>3<li> </ul><p h>カウンタ</p><p b>ー</p><p bc>の大小による分岐処理カウンタ</p><p b>ー</p><p n>の値を評価して</p><p b>，</p><p bu>その大小によって処理を分岐したいことがあります</p><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p d>には</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>i<li>f<li>n<li>u<li>m<li> </ul><p bm>という条件文が使えるようになっています</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><ul><li> </ul><p d>でも</p><p b>，</p><p r>条件文を使うときは</p><p b>，</p><p bi>これを使わざるをえないとおもいます</p><p b>．</p><p b>文</p></div>
<div><p n>字列の文字数が</p><ul><li> <li>5<li> </ul><p ci>文字以上になるとそれ以上は出力しないような機能をもつマクロを</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p></div>
<div><p t>流で作ってみましょう</p><p b>．</p><p l>命令の名前を</p><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li> </ul><p l>としましょう</p><p b>．</p><p l>上で定義した</p><ul><li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li> </ul><p r>命令を少し変えます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>#<li>1<li>{<li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>0<li>}<li>%</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>1<li>}<li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li><<li>6<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>f<li>i<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li> <li>i<li>f<li>n<li>u<li>m<li> </ul><p b>と</p><ul><li>\<li>f<li>i<li> </ul><p x>で条件文を構成しています</p><p b>．</p><p h>カウンタ</p><p b>ー</p><ul><li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p j>は内部では</p><p b>，</p><ul><li>\<li>c<li>@<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p bi>として取り扱っていることに注意して</p></div>
<div><p h>ください</p><p b>．</p><p j>この場合は</p><p b>，</p><ul><li>5<li> </ul><p j>文字までは</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p bo>として取得した文字をそのまま出力しますが</p><p b>，</p><ul><li>6<li> </ul><p p>文字以上になると</p><p b>，</p><p p>何もしないという</p></div>
<div><p n>ことになります</p><p b>．</p><p v>実際に使ってみましょう</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p j>文字列中を</p><ul><li> <li>5<li> </ul><p p>文字以下に約める</p><ul><li>:</ul></div>
<div><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>a<li>p<li>p<li>l<li>e<li>}<li>;</ul></div>
<div><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>b<li>a<li>n<li>a<li>n<li>a<li>}<li>;<li> <li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li>{<li>p<li>l<li>u<li>m<li>}</ul></div>
<div><p l>とかきますと</p><p b>，</p><p z>次のような出力が得られます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p j>文字列中を</p><ul><li> <li>5<li> </ul><p p>文字以下に約める</p><ul><li>:<li> <li>o<li>r<li>a<li>n<li>g<li>;<li> <li>a<li>p<li>p<li>l<li>e<li>;<li> <li>b<li>a<li>n<li>a<li>n<li>;<li> <li>p<li>l<li>u<li>m</ul></div>
<div><p x>ここでちょっとしたご注意</p><p b>．</p><p l>上記の定義の</p><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li> </ul><p p>命令の定義の中で</p><p b>，</p><p j>行末ごとに</p><ul><li>%</ul><p t>が宣言されていますが</p><p b>，</p><p r>この場合には必要で</p></div>
<div><p b>す</p><p b>．</p><p bm>実際にこれを除去して処理してご覧なさい</p><p b>．</p><p cm>文字と文字の間に余分の空白が入ってしまうことがわかるとおもいます</p><p b>．</p><p j>このあたり</p></div>
<div><p h>の事柄は</p><p b>，</p><p be>ときとして出力の仕上がりの上で</p><p b>，</p></div>
<div><p z>致命的になることもあります</p><p b>．</p><ul><li>%</ul><p bw>の有無の違いの理由を考えることもおもしろいですよ</p><p b>．</p><p d>また</p><p b>，</p><p h>前の章で</p><p b>，</p></div>
<div><ul><li>T<li>E<li>X<li> </ul><p d>流に</p><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li> </ul><p v>命令を定義したときには</p><p b>，</p><p h>行末には</p><ul><li>%</ul><p bm>が入っていないことにも注意してください</p><p b>．</p></div>
<div><p h>その上で</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>と</p><ul><li> <li>T<li>E<li>X<li> </ul><p bu>でこのような違いが出る理由も考えてみてください</p><p b>．</p></div>
<div><p d>さて</p><p b>，</p><p l>本題に戻って</p><p b>，</p><p cu>こんなことをして何の役にたつのだとお思いになる諸兄もいらっしゃるでしょう</p><p b>．</p><p f>ここで</p><p b>，</p><p r>これまでの知識を総</p></div>
<div><p f>合して</p><p b>，</p><p bg>実用に耐えるマクロを作ってみます</p><p b>．</p><ul><li>\<li>A<li>n<li>d<li>f<li>o<li>r<li> </ul><p n>というマクロは</p><p b>，</p></div>
<div><ul><li>F<li>i<li>g<li>.<li>\<li> <li>\<li>A<li>n<li>d<li>f<li>o<li>r<li>{<li>A<li>,<li>B<li>,<li>C<li>}</ul><p r>のように入力すると</p><p b>，</p><p b>「</p><ul><li>F<li>i<li>g<li>.<li> <li>A<li>,<li> <li>B<li>,<li> <li>a<li>n<li>d<li> <li>C</ul><p b>」</p><p bi>のように整形する機能をもつものです</p><p b>．</p></div>
<div><p l>前章で述べた</p><ul><li>\<li>a<li>n<li>d<li>f<li>o<li>r<li> </ul><p j>とは異なり</p><p b>，</p><ul><li>3<li> </ul><p t>項以上の列挙のときは</p><p b>，</p><ul><li>a<li>n<li>d<li> </ul><p bg>の前にコンマを入れることにします</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bk>流の定義と使い方を示しておきましょう</p><p b>．</p></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>%<li> <li>A<li>n<li>a<li>l<li>o<li>g<li> <li>t<li>o<li> <li>\<li>@<li>f<li>o<li>r<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>6</ul></div>
<div><ul><li>%<li> <li>A<li>n<li>a<li>l<li>o<li>g<li> <li>t<li>o<li> <li>\<li>@<li>f<li>o<li>r<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>7<li>/<li>3<li>0<li> </ul><p d>改訂</p></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>a<li>n<li>d<li>f<li>o<li>r<li>{<li>i<li>t<li>e<li>m<li>1<li>,<li>i<li>t<li>e<li>m<li>2<li>,<li>.<li>.<li>.<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>A<li>n<li>d<li>f<li>o<li>r<li>#<li>1<li>{<li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>e<li>n<li>u<li>m<li>i<li>}<li>{<li>\<li>m<li>@<li>n<li>e<li>}<li> <li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>e<li>n<li>u<li>m<li>i<li>i<li>}<li>{<li>\<li>z<li>@<li>}<li>%</ul></div>
<div class=_mark id=mark29><a  href='#toc29'><p b>第</p><ul><li> <li>4<li> </ul><p b>章</p><ul><li>.<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>流カウンタ</p><p b>ー</p><p d>指南</p><ul><li> <li>2<li>9</ul></a></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>e<li>n<li>u<li>m<li>i<li>}<li>{<li>\<li>@<li>n<li>e<li>}<li>}<li>%<li> </ul><p x>文字列リストの要素の合計</p><ul><li>-<li>1</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>e<li>n<li>u<li>m<li>i<li>i<li>}<li>{<li>\<li>@<li>n<li>e<li>}<li>%</ul><p x>文字列リストの要素の個数</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li><<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>%</ul><p d>合計</p><ul><li>-<li>1<li> </ul><p n>より小さいとき</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li><<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>e<li>l<li>s<li>e<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>,<li> <li>\<li>f<li>i<li>%</ul><p l>最初の一個は</p><p b>，</p><p t>以外コンマ付きで出力</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>%</ul><p d>合計</p><ul><li>-<li>1<li> </ul><p d>以上</p><p b>，</p><p be>すなわち最後の二つの要素の処理</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li><<li>2<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p h>合計個数</p><ul><li> <li>2<li> </ul><p d>以下</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>=<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>%</ul><p h>合計個数</p><ul><li> <li>2<li> </ul><p l>以下の一番目</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>s<li>p<li>a<li>c<li>e<li> <li>a<li>n<li>d<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>%</ul><p h>合計個数</p><ul><li> <li>2<li> </ul><p n>の二番目の出力</p></div>
<div><ul><li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>%</ul><p h>合計個数</p><ul><li> <li>2<li> </ul><p d>以上</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>=<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>,<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>a<li>n<li>d<li> <li>%</ul><p h>最後から</p><ul><li> <li>2<li> </ul><p d>つ目</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>%</ul><p j>最後のもの</p></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p r>この命令を使うには</p><p b>，</p><p r>次のように書きます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> <li>\<li>A<li>n<li>d<li>f<li>o<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>}<li>;<li> <li>\<li>A<li>n<li>d<li>f<li>o<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>}<li>;</ul></div>
<div><ul><li>\<li>A<li>n<li>d<li>f<li>o<li>r<li>{<li>o<li>r<li>a<li>n<li>g<li>e<li>,<li>a<li>p<li>p<li>l<li>e<li>,<li>b<li>a<li>n<li>a<li>n<li>a<li>}<li>;<li> <li>F<li>i<li>g<li>.<li>\<li> <li>\<li>A<li>n<li>d<li>f<li>o<li>r<li>{<li>1<li>,<li>2<li>,<li>3<li>,<li>4<li>,<li>5<li>,<li>6<li>}</ul></div>
<div><p x>出力は次のようになります</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> <li>o<li>r<li>a<li>n<li>g<li>e<li>;<li> <li>o<li>r<li>a<li>n<li>g<li>e<li> <li>a<li>n<li>d<li> <li>a<li>p<li>p<li>l<li>e<li>;<li> <li>o<li>r<li>a<li>n<li>g<li>e<li>,<li> <li>a<li>p<li>p<li>l<li>e<li>,<li> <li>a<li>n<li>d<li> <li>b<li>a<li>n<li>a<li>n<li>a<li>;<li> <li>F<li>i<li>g<li>.<li> <li>1<li>,<li> <li>2<li>,<li> <li>3<li>,<li> <li>4<li>,<li> <li>5<li>,<li> <li>a<li>n<li>d<li> <li>6</ul></div>
<div><ul><li>\<li>A<li>n<li>d<li>f<li>o<li>r<li> </ul><p co>というマクロの内部でどんなことを行っているかを説明しておきましょう</p><p b>．</p><p d>まず</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p f>として</p><p b>，</p><ul><li>e<li>n<li>u<li>m<li>i<li> </ul><p b>と</p><ul><li> <li>e<li>n<li>u<li>m<li>i<li>i<li> </ul><p d>を使</p></div>
<div><p j>っています</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p bm>の箇条書環境の中で一時的に使うカウンタ</p><p b>ー</p><p z>として宣言済みのものなので</p><p b>，</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p j>で宣言せず</p></div>
<div><p p>とも使用できます</p><p b>．</p><ul><li>\<li>m<li>@<li>n<li>e<li> </ul><p b>は</p><p b>，</p><p b>−</p><ul><li>1<li> </ul><p f>と同義</p><p b>，</p><ul><li>\<li>z<li>@</ul><p b>は</p><ul><li> <li>0</ul></div>
<div><p j>と同義です</p><p b>．</p><ul><li>\<li>@<li> <li>f<li>o<li>r<li> </ul><p b>を</p><ul><li> <li>2<li> </ul><p p>回使っていますが</p><p b>，</p><p f>最初は</p><p b>，</p><p z>文字列の要素の個数を調べて</p><p b>，</p><p d>合計</p><ul><li> </ul><p b>−</p><ul><li>1<li> </ul><p t>としたものをカウンタ</p><p b>ー</p><ul><li> <li>e<li>n<li>u<li>m<li>i<li> </ul><p d>に格</p></div>
<div><p l>納しています</p><p b>．</p><p j>この方法は</p><p b>，</p><ul><li>\<li>i<li>t<li>e<li>m<li>N<li>o<li> </ul><p p>の手法と同じです</p><p b>．</p><p h>二番目の</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p d>では</p><p b>，</p><p z>文字列の要素の数をカウンタ</p><p b>ー</p><ul><li> <li>e<li>n<li>u<li>m<li>i<li>i<li> </ul><p h>に格納し</p><p b>，</p><p b>こ</p></div>
<div><p h>れと合計</p><ul><li> <li>e<li>n<li>u<li>m<li>i<li> </ul><p t>の値と比較しています</p><p b>．</p><p n>条件文の中では</p><p b>，</p><p n>対応する制御綴</p><ul><li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li> </ul><p b>と</p><ul><li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li> </ul><p bg>を使っていることに注意してくださ</p></div>
<div><p b>い</p><p b>．</p><p n>この例のように</p><ul><li>\<li>i<li>f<li>n<li>u<li>m</ul></div>
<div><p bm>は入れ子で多重に使用することができます</p><p b>．</p><p d>また</p><ul><li>\<li>e<li>l<li>s<li>e<li> </ul><p v>命令も注目してください</p><p b>．</p></div>
<div></div>
<div><ul><li>3<li>1</ul></div>
<div><p b>第</p><ul><li>5</ul><p b>章</p><ul><li> </ul><p d>練習</p><ul><li> </ul><p d>その</p><ul><li>1</ul></div>
<div><p h>文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li>1</ul></div>
<div><p bo>これまで出てきたテクニックのおさらいです</p><p b>．</p><p bc>解答を直後に書いてありますが</p><p b>，</p><p x>自分で解いてみてください</p><p b>．</p></div>
<div><ul><li>5<li>.<li>1<li> </ul><p t>部分文字列の取得問題</p><ul><li> <li>5<li>.<li>1<li> <li>\<li>t<li>a<li>k<li>e<li>i<li>n<li>i<li>t<li>{<li>s<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li>}<li>{<li>f<li>u<li>j<li>i<li>t<li>a<li>}</ul><p f>として</p><p b>，</p><p j>この命令で</p><p b>，</p><ul><li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> </ul><p bi>という文字列がえられるようなマクロ</p></div>
<div><p n>を定義しなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>@<li>k<li>e<li>i<li>n<li>i<li>t<li>#<li>1<li>#<li>2<li>/<li>{<li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li>{<li>#<li>1<li>}<li>.<li>\<li> <li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>@<li>@<li>k<li>e<li>i<li>n<li>i<li>t<li>#<li>1<li>#<li>2<li>/<li>{<li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li>{<li>#<li>1<li>}<li>#<li>2<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>a<li>k<li>e<li>i<li>n<li>i<li>t<li>#<li>1<li>#<li>2<li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>t<li>@<li>k<li>e<li>i<li>n<li>i<li>t<li>#<li>1<li>/</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>t<li>@<li>@<li>k<li>e<li>i<li>n<li>i<li>t<li>#<li>2<li>/<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>t<li>a<li>k<li>e<li>i<li>n<li>i<li>t<li>{<li>s<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li>}<li>{<li>f<li>u<li>j<li>i<li>t<li>a<li>}</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p><ul><li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a</ul></div>
<div><p d>問題</p><ul><li> <li>5<li>.<li>2<li> <li>j<li>b<li>o<li>o<li>k<li> </ul><p l>スタイルでは</p><p b>，</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>@<li>c<li>h<li>a<li>p<li>a<li>p<li>p<li>}<li>{<li>\<li>p<li>r<li>e<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>n<li>a<li>m<li>e<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>@<li>c<li>h<li>a<li>p<li>p<li>o<li>s<li>}<li>{<li>\<li>p<li>o<li>s<li>t<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>n<li>a<li>m<li>e<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>p<li>r<li>e<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>n<li>a<li>m<li>e<li>}<li>{</ul><p b>第</p><ul><li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>p<li>o<li>s<li>t<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>n<li>a<li>m<li>e<li>}<li>{</ul><p b>章</p><ul><li>}</ul></div>
<div><p p>と定義されており</p><p b>，</p><ul><li>\<li>@<li>c<li>h<li>a<li>p<li>a<li>p<li>p<li>\<li>t<li>h<li>e<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>\<li>@<li>c<li>h<li>a<li>p<li>p<li>o<li>s<li> </ul><p n>という文字列で</p><p b>，</p><p b>「</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>1<li> </ul><p b>章</p><p b>」</p><p bq>などの章のタイトルが出力されるようになって</p></div>
<div><p f>います</p><p b>．</p><p bc>この文字列をそのまま利用して</p><p b>，</p><p b>「</p><ul><li>C<li>h<li>a<li>p<li>t<li>e<li>r<li> <li>1</ul><p b>」</p><p t>となるようにしなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p><ul><li> </ul><p f>これは</p><p b>，</p><p h>簡単です</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>4<li>)</ul></div>
<div><ul><li>3<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>p<li>r<li>e<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>n<li>a<li>m<li>e<li>}<li>{<li>C<li>h<li>a<li>p<li>t<li>e<li>r<li>~<li>}</ul></div>
<div><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>p<li>o<li>s<li>t<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>n<li>a<li>m<li>e<li>}<li>{<li>}</ul></div>
<div><p l>とすればよく</p><p b>，</p><p f>実際に</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>c<li>h<li>a<li>p<li>a<li>p<li>p<li>\<li>t<li>h<li>e<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>\<li>@<li>c<li>h<li>a<li>p<li>p<li>o<li>s</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p l>と入力すると</p><p b>，</p><p r>出力は次の通りです</p><p b>．</p><ul><li>C<li>h<li>a<li>p<li>t<li>e<li>r<li> <li>5</ul></div>
<div><p d>問題</p><ul><li> <li>5<li>.<li>3<li> <li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>{<li>U<li>.<li>S<li>.<li>A<li>.<li>}</ul><p j>としたとき</p><p b>，</p><p p>この命令によって</p><p b>，</p><ul><li>U<li>S<li>A<li> </ul><p bg>のようにピリオドを除去するマクロ</p></div>
<div><ul><li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li> </ul><p n>を定義しなさい</p><p b>．</p></div>
<div><p f>ヒント</p><ul><li> </ul><p bw>二つの制御綴に格納されている文字が同じかどうかは</p><p b>，</p><ul><li>\<li>i<li>f<li>x<li>·<li>·<li>·<li>\<li>f<li>i<li> </ul><p r>の条件文を使います</p><p b>．</p><p j>ピリオドを</p><p b>，</p><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>e<li>n<li>n<li>{<li>.<li>}</ul><p h>のように</p></div>
<div><p f>書いて</p><p b>，</p><p f>制御綴</p><ul><li>\<li>t<li>e<li>n<li>n<li> </ul><p t>に置き換えておきます</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>e<li>n<li>n<li>{<li>.<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>#<li>1<li>%</ul></div>
<div><ul><li>{<li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>i<li>f<li>x<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>t<li>e<li>n<li>n<li>\<li>e<li>l<li>s<li>e<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>f<li>i<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>{<li>U<li>.<li>S<li>.<li>A<li>.<li>}<li> <li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>{<li>U<li>.<li> <li>S<li>.<li> <li>A<li>.<li>}</ul></div>
<div><p h>とすれば</p><p b>，</p><p t>次の出力が得られます</p><p b>．</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p n>の処理のときに</p><p b>，</p><p v>空白も除去されています</p><p b>．</p><ul><li> <li>U<li>S<li>A<li> <li>U<li>S<li>A</ul></div>
<div><p d>問題</p><ul><li> <li>5<li>.<li>4<li> </ul><p d>問題</p><ul><li> <li>5<li>.<li>3<li> </ul><p j>で定義した</p><ul><li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li> </ul><p b>を</p><p b>，</p><ul><li>U<li>.<li>S<li>.<li>A<li> </ul><p d>でも</p><ul><li> <li>U<li>.<li> <li>S<li>.<li> <li>A<li>.<li> </ul><p d>でも</p><ul><li> <li>U<li>.<li>\<li> <li>S<li>.<li>\<li> <li>A<li>.<li>\<li> </ul><p bc>でも対処できるようにしなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>e<li>n<li>n<li>{<li>.<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>k<li>u<li>h<li>a<li>k<li>u<li>{<li>\<li> <li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>#<li>1<li>%</ul></div>
<div><ul><li>{<li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>i<li>f<li>x<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>t<li>e<li>n<li>n<li>\<li>e<li>l<li>s<li>e<li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>\<li>s<li>k<li>u<li>h<li>a<li>k<li>u<li>\<li>e<li>l<li>s<li>e<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> <li>\<li>f<li>i<li>\<li>f<li>i<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>{<li>U<li>.<li>S<li>.<li>A<li>.<li>}<li> <li>a<li>n<li>d<li> <li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>{<li>U<li>.<li> <li>S<li>.<li> <li>A<li>.<li> <li>}<li> <li>a<li>n<li>d</ul></div>
<div><ul><li>\<li>t<li>e<li>n<li>j<li>o<li>k<li>y<li>o<li>{<li>U<li>.<li>\<li> <li>S<li>.<li>\<li> <li>A<li>.<li>\<li> <li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p t>次の出力が得られます</p><p b>．</p><ul><li> <li>U<li>S<li>A<li> <li>a<li>n<li>d<li> <li>U<li>S<li>A<li> <li>a<li>n<li>d<li> <li>U<li>S<li>A</ul></div>
<div class=_mark id=mark30><a  href='#toc30'><p b>第</p><ul><li> <li>5<li> </ul><p b>章</p><ul><li>.<li> </ul><p d>練習</p><ul><li> </ul><p d>その</p><ul><li> <li>1<li> <li>3<li>3</ul></a></div>
<div><ul><li>5<li>.<li>2<li> </ul><p h>カウンタ</p><p b>ー</p></div>
<div><p d>問題</p><ul><li> <li>5<li>.<li>5<li> <li>\<li>t<li>h<li>e<li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li> </ul><p p>命令を再定義して</p><p b>，</p><p l>数式番号をロ</p><p b>ー</p><p bg>マ数字の大文字小文字の組み合わせ</p><ul><li> <li>(</ul><p h>たとえば</p></div>
<div><ul><li>V<li>I<li>I<li>-<li>i<li>)<li> </ul><p z>で出力するのようにしなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li>{<li>\<li>R<li>o<li>m<li>a<li>n<li>{<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>}<li>\<li>m<li>b<li>o<li>x<li>{<li>-<li>}<li>\<li>r<li>o<li>m<li>a<li>n<li>{<li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><ul><li>x<li>=<li>a<li>+<li>b</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><p h>とすれば</p><p b>，</p><p t>次の出力が得られます</p><p b>．</p></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>(<li>V<li>-<li>i<li>)</ul></div>
<div><p d>問題</p><ul><li> <li>5<li>.<li>6<li> <li>\</ul><p d>元号</p><ul><li>{<li>1<li>9<li>9<li>5<li>}</ul><p z>のように西暦年号を入力して</p><p b>，</p><p b>「</p><p d>平成</p><ul><li> <li>7</ul><p b>」</p><p bg>のように出力する命令を作りなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>%<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><ul><li> </ul><p b>著</p><p b>　</p><p b>『</p><p f>化学者</p><p b>・</p><p p>生化学者のための</p><ul><li> <li>L<li>a<li>T<li>e<li>X</ul><p b>』</p></div>
<div><ul><li>%<li> </ul><p l>東京化学同人</p><p b>，</p><p d>東京</p><ul><li> <li>(<li>1<li>9<li>9<li>3<li>)<li> </ul><p d>付録</p></div>
<div><ul><li>%<li> <li>n<li>i<li>p<li>p<li>o<li>n<li>.<li>s<li>t<li>y<li> <li><<li>J<li>a<li>n<li> <li>3<li> <li>1<li>9<li>9<li>3<li>><li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> </ul><p h>より引用</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\</ul><p d>元号</p><ul><li>#<li>1<li>{<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>=<li>#<li>1</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>><li>1<li>9<li>8<li>8<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li> <li>b<li>y<li> <li>-<li>1<li>9<li>8<li>8<li> </ul><p d>平成</p><ul><li>\<li>a<li>r<li>a<li>b<li>i<li>c<li>{<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>}</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>><li>1<li>9<li>2<li>5<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li> <li>b<li>y<li> <li>-<li>1<li>9<li>2<li>5<li> </ul><p d>昭和</p><ul><li>\<li>a<li>r<li>a<li>b<li>i<li>c<li>{<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>}</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>><li>1<li>9<li>1<li>1<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li> <li>b<li>y<li> <li>-<li>1<li>9<li>1<li>1<li> </ul><p d>大正</p><ul><li>\<li>a<li>r<li>a<li>b<li>i<li>c<li>{<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>}</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>><li>1<li>8<li>6<li>7<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>c<li>@<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li> <li>b<li>y<li> <li>-<li>1<li>8<li>6<li>7<li> </ul><p d>明治</p><ul><li>\<li>a<li>r<li>a<li>b<li>i<li>c<li>{<li>s<li>e<li>i<li>r<li>e<li>k<li>i<li>}</ul></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\</ul><p d>元号</p><ul><li>{<li>1<li>9<li>9<li>5<li>}<li>,<li> <li>\</ul><p d>元号</p><ul><li>{<li>1<li>9<li>0<li>0<li>}</ul></div>
<div><p h>とすれば</p><p b>，</p><p t>次の出力が得られます</p><p b>．</p><ul><li> </ul><p d>平成</p><ul><li> <li>7<li> <li>,<li> </ul><p d>明治</p><ul><li> <li>3<li>3</ul></div>
<div></div>
<div><ul><li>3<li>5</ul></div>
<div><p b>第</p><ul><li>6</ul><p b>章</p><ul><li> </ul><p h>カウンタ</p><p b>ー</p><p bg>の親子関係と一括リセット文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li>1</ul></div>
<div><p f>今度は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>のカウンタ</p><p b>ー</p><p p>体系の上級編です</p><p b>．</p><p bi>相互参照のときにどのようにカウンタ</p><p b>ー</p><p be>に取り扱えばよいかを説明します</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X</ul></div>
<div><ul><li>2<li> </ul><p b>ε</p><p d>では</p><p b>，</p><ul><li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>カウンタ</p><p b>ー</p><p b>と</p><ul><li> <li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li> </ul><p h>カウンタ</p><p b>ー</p><p bi>のように従属関係にある組があります</p><p b>．</p><p h>この場合</p><p b>，</p><p d>親の</p><ul><li> <li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>カウンタ</p></div>
<div><p b>ー</p><p b>が</p><ul><li> <li>1<li> </ul><p l>増えたときに</p><p b>，</p><p d>子の</p><ul><li> <li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>カウンタ</p><p b>ー</p><p b>は</p><ul><li> <li>0</ul></div>
<div><p be>にリセットしなければなりません</p><p b>．</p><p p>従属するカウンタ</p><p b>ー</p><p bs>が複数個存在する場合にも一括して対処するため</p><p b>，</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><p bi>可変命令を含むリストをもっています</p><p b>．</p></div>
<div><ul><li>6<li> <li>.<li>1<li> </ul><p h>カウンタ</p><p b>ー</p><p bi>値の参照と一括リセット命令カウンタ</p><p b>ー</p><p j>については</p><p b>，</p><p d>拙著</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>1<li>5<li> </ul><p bc>章に詳しい説明がありますので</p><p b>，</p><p n>参照してくださ</p></div>
<div><p b>い</p><p b>．</p><ul><li>2<li> </ul><p h>ここでは</p><p b>，</p><p bk>一括リセットに必要な項目を補足します</p><p b>．</p></div>
<div><p h>カウンタ</p><p b>ー</p><p d>値が</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>f<li> </ul><p v>で相互参照できることは</p><p b>，</p><p r>ご存じのとおりです</p><p b>．</p><p f>ここで</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>s<li>e<li>c<li>:<li>a<li>1<li>}</ul></div>
<div><p n>を宣言しますと</p><p b>，</p><p z>章の番号が相互参照されます</p><p b>．</p><ul><li>\<li>r<li>e<li>f<li>{<li>s<li>e<li>c<li>:<li>a<li>1<li>}</ul><p h>と書けば</p><p b>，</p><ul><li>6<li>.<li>1<li> </ul><p p>のようにカウンタ</p><p b>ー</p><p p>値が出力されます</p><p b>．</p><p n>現在の参照カウ</p></div>
<div><p d>ンタ</p><p b>ー</p><p f>の値は</p><p b>，</p><ul><li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li> </ul><p v>の中に保存されています</p><p b>．</p><p h>たとえば</p><p b>，</p><p f>ここで</p><p b>，</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p r>現在の参照カウンタ</p><p b>ー</p><p d>の値</p><ul><li> <li>=<li> <li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p r>のように書きますと</p><p b>，</p><p be>この値を取り出すことができます</p><p b>．</p><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p r>現在の参照カウンタ</p><p b>ー</p><p d>の値</p><ul><li> <li>=<li> <li>6<li>.<li>1</ul></div>
<div><p p>これらのカウンタ</p><p b>ー</p><p r>の値を更新するには</p><p b>，</p><p be>次の二つの命令が使われています</p><p b>．</p><p f>普通の</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>の使い方では</p><p b>，</p><p t>滅多に使うことはあり</p></div>
<div><p h>ませんが</p><p b>，</p><p z>自作のマクロを作る場合には</p><p b>，</p><p bi>使い方を理解しておく必要があります</p><p b>．</p></div>
<div><p b>•</p><ul><li> <li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p v>引数で指定したカウンタ</p><p b>ー</p><p f>の値を</p><ul><li> <li>1<li> </ul><p j>だけふやし</p><p b>，</p><p p>従属するカウンタ</p><p b>ー</p><p n>の値を一括して</p><ul><li> <li>0<li> </ul><p j>にリセット</p><p b>．</p></div>
<div><p b>•</p><ul><li> <li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p v>引数で指定したカウンタ</p><p b>ー</p><p f>の値を</p><ul><li> <li>1<li> </ul><p j>だけふやし</p><p b>，</p><p p>従属するカウンタ</p><p b>ー</p><p n>の値を一括して</p><ul><li> <li>0<li> </ul><p j>にリセット</p><p b>．</p><p f>さらに</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>l<li>a<li>b<li>e<li>l<li>{</ul><p f>参照キ</p><p b>ー</p><ul><li>}</ul><p h>によって</p><p b>，</p><p r>更新されたカウンタ</p><p b>ー</p><p x>値を参照できるようにする</p><p b>．</p><p h>このとき</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p d>値は</p><p b>，</p><ul><li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li> </ul><p h>に保存さ</p></div>
<div><p d>れる</p><p b>．</p></div>
<div><ul><li>1<li> <li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>4<li>a<li>)<li> <li>2</ul><p h>本書では</p><p b>，</p><p x>拙書として引用する場合は</p><p b>，</p><p r>次のものを差します</p><ul><li>:<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><ul><li> </ul><p b>著</p><p b>「</p><p f>化学者</p></div>
<div><p b>・</p><p p>生化学者のための</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p b>—</p><p bc>パソコンによる論文作成の手引</p><p b>」</p><p b>，</p><p l>東京化学同人</p><ul><li> <li>(<li>1<li>9<li>9<li>3<li>)</ul><p b>，</p><ul><li>I<li>S<li>B<li>N<li>4<li>-<li>8<li>0<li>7<li>9<li>-<li>0<li>3<li>8<li>6<li>-<li>1</ul><p b>．</p></div>
<div><ul><li>3<li>6<li> <li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p v>まくろの八衢このように</p><p b>，</p><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p v>とに共通する機能として</p><p b>，</p><p r>大きく二つがありま</p></div>
<div><p b>す</p><p b>．</p><ul><li> </ul><p h>すなわち</p><p b>，</p><ul><li>(<li>1<li>)<li> </ul><p v>引数で指定したカウンタ</p><p b>ー</p><p f>の値を</p><ul><li> <li>1<li> </ul><p p>だけふやすことと</p><ul><li> <li>(<li>2<li>)<li> </ul><p p>従属するカウンタ</p><p b>ー</p><p n>の値を一括して</p></div>
<div><ul><li>0<li> </ul><p v>にリセットすることです</p><p b>．</p><p bu>この節では第一の機能の概略を調べることにします</p><p b>．</p></div>
<div><p bi>第一の機能を実際に試してみましょう</p><p b>．</p><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p h>の例です</p><p b>．</p><p j>次のように</p><p b>，</p><p j>入力します</p><p b>．</p><p h>カウンタ</p><p b>ー</p></div>
<div><p f>として</p><ul><li> <li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> </ul><p j>を使います</p><p b>．</p><p l>このカウンタ</p><p b>ー</p><p h>の出力は</p><p b>，</p><p h>たとえば</p><ul><li> <li>6<li>-<li>1<li> </ul><p h>のように</p><p b>，</p><p bs>ハイフンを介して章の番号を先頭に付けるように</p></div>
<div><p f>します</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>{<li>\<li>t<li>h<li>e<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>-<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>0<li>}</ul></div>
<div><p b>第</p><ul><li> <li>1<li> </ul><p b>項</p><ul><li> <li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> <li>[<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>]<li> <li>\<li>p<li>a<li>r</ul></div>
<div><p b>第</p><ul><li> <li>2<li> </ul><p b>項</p><ul><li> <li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> <li>[<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>]<li> <li>\<li>p<li>a<li>r</ul></div>
<div><p b>第</p><ul><li> <li>3<li> </ul><p b>項</p><ul><li> <li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> <li>[<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>]<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>その結果</p><p b>，</p><p t>次の出力がえられます</p><p b>．</p><p l>この出力では</p><p b>，</p><p l>角括弧の中に</p><p b>，</p><ul><li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> </ul><p h>カウンタ</p><p b>ー</p><p v>の裸の値を併記しました</p><p b>．</p></div>
<div><p b>第</p><ul><li> <li>1<li> </ul><p b>項</p><ul><li> <li>6<li>-<li>1<li>[<li>1<li>]</ul></div>
<div><p b>第</p><ul><li> <li>2<li> </ul><p b>項</p><ul><li> <li>6<li>-<li>2<li>[<li>2<li>]</ul></div>
<div><p b>第</p><ul><li> <li>3<li> </ul><p b>項</p><ul><li> <li>6<li>-<li>3<li>[<li>3<li>]</ul></div>
<div><p l>同じカウンタ</p><p b>ー</p><p p>を引き続いて使い</p><p b>，</p><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p v>実際に試してみましょう</p><p b>．</p><p j>次のように</p><p b>，</p><p j>入力します</p><p b>．</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>f<li> </ul><p j>による相互</p></div>
<div><p n>参照も行います</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><p b>第</p><ul><li> <li>4<li> </ul><p b>項</p><ul><li> <li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> <li>[<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>]</ul></div>
<div><ul><li>(<li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li>)<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>t<li>e<li>s<li>t<li>:<li>a<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><p b>第</p><ul><li> <li>5<li> </ul><p b>項</p><ul><li> <li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> <li>[<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>]</ul></div>
<div><ul><li>(<li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li>)<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>t<li>e<li>s<li>t<li>:<li>b<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><p b>第</p><ul><li> <li>6<li> </ul><p b>項</p><ul><li> <li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li> <li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> <li>[<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>]</ul></div>
<div><ul><li>(<li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li>)<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>t<li>e<li>s<li>t<li>:<li>c<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><p n>相互参照の出力</p><ul><li>:<li> <li>\<li>r<li>e<li>f<li>{<li>t<li>e<li>s<li>t<li>:<li>a<li>}<li>,<li> <li>\<li>r<li>e<li>f<li>{<li>t<li>e<li>s<li>t<li>:<li>b<li>}<li>,<li> <li>\<li>r<li>e<li>f<li>{<li>t<li>e<li>s<li>t<li>:<li>c<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>その結果</p><p b>，</p><p t>次の出力がえられます</p><p b>．</p><p l>この出力では</p><p b>，</p><p l>角括弧の中に</p><p b>，</p><ul><li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li> </ul><p h>カウンタ</p><p b>ー</p><p v>の裸の値をしましました</p><p b>．</p><p d>また</p><p b>，</p><p j>丸括弧の中</p></div>
<div><p d>には</p><p b>，</p><ul><li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li> </ul><p t>の出力を併記しました</p><p b>．</p><p f>これは</p><p b>，</p><p h>対応する</p><ul><li>\<li>t<li>h<li>e<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><p bo>の出力と同じであることを確かめてください</p><p b>．</p></div>
<div><p b>第</p><ul><li> <li>4<li> </ul><p b>項</p><ul><li> <li>6<li>-<li>4<li>[<li>4<li>]<li> <li>(<li>6<li>-<li>4<li>)</ul></div>
<div><p b>第</p><ul><li> <li>5<li> </ul><p b>項</p><ul><li> <li>6<li>-<li>5<li>[<li>5<li>]<li> <li>(<li>6<li>-<li>5<li>)</ul></div>
<div><p b>第</p><ul><li> <li>6<li> </ul><p b>項</p><ul><li> <li>6<li>-<li>6<li>[<li>6<li>]<li> <li>(<li>6<li>-<li>6<li>)</ul></div>
<div><p n>相互参照の出力</p><ul><li>:<li> <li>6<li>-<li>4<li>,<li> <li>6<li>-<li>5<li>,<li> <li>6<li>-<li>6</ul></div>
<div><p f>これが</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>f<li> </ul><p be>による相互参照が可能なカウンタ</p><p b>ー</p><p t>の基本的な使い方です</p><p b>．</p></div>
<div class=_mark id=mark31><a  href='#toc31'><p b>第</p><ul><li> <li>6<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p x>の親子関係と一括リセット</p><ul><li> <li>3<li>7</ul></a></div>
<div><ul><li>6<li>.<li>2<li> </ul><p t>一括リセットの仕組み</p></div>
<div><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p v>とに共通する機能のうち</p><p b>，</p><p j>第二のもの</p><ul><li> <li>(</ul><p p>従属するカウンタ</p><p b>ー</p><p n>の値を一括して</p><ul><li> <li>0<li> </ul><p r>にリセットすること</p></div>
<div><ul><li>)<li> </ul><p b>を</p><p b>，</p><p z>この節で調べることにします</p><p b>．</p></div>
<div><ul><li>6<li> <li>.<li>2<li>.<li>1<li> </ul><p bc>可変命令を含むリストカウンタ</p><p b>ー</p><ul><li> <li>C<li>T<li>R<li> </ul><p p>が作られたときに</p><p b>，</p><ul><li>\<li>c<li>l<li>@<li>C<li>T<li>R<li> </ul><p bw>なる制御綴が自動発生することをすでに述べましたが</p><p b>，</p><p b>実</p></div>
<div><p b>は</p><p b>，</p><p f>これが</p><p b>，</p><p x>可変命令を含むリストです</p><p b>．</p><p x>この機能を説明するために</p><p b>，</p><p bk>いくつかの要素技術にわけて解説します</p><p b>．</p></div>
<div><p d>まず</p><p b>，</p><p x>可変命令を含むリストとは</p><p b>，</p><p bc>どんなものかを説明しましょう</p><p b>．</p><ul><li>\<li> <li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p v>を次のように定義します</p><p b>．</p><p p>この中に含まれる</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S</ul></div>
<div><p x>がここでいう可変命令です</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li>{<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>{<li>C<li>N<li>T<li>a<li>}<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>{<li>C<li>N<li>T<li>b<li>}<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>{<li>C<li>N<li>T<li>c<li>}<li>}</ul></div>
<div><p bc>このようなリストを作ったのち</p><p b>，</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S<li> </ul><p x>に制御綴を代入してみます</p><p b>．</p><p h>ここでは</p><p b>，</p><p x>大文字を小文字に変換する</p><ul><li>\<li>l<li>o<li>w<li>e<li>r<li>c<li>a<li>s<li>e<li> </ul><p b>を</p><ul><li>\<li>l<li>e<li>t<li> </ul><p d>命令</p></div>
<div><p v>を用いて代入しましょう</p><p b>．</p><p f>そして</p><p b>，</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p p>を実行してみます</p><p b>．</p></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>=<li>\<li>l<li>o<li>w<li>e<li>r<li>c<li>a<li>s<li>e</ul></div>
<div><ul><li>(</ul><p l>リストの実行</p><ul><li>)<li> <li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li>}</ul></div>
<div><p j>この結果は</p><p b>，</p><p j>次のように</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S<li> </ul><p bm>の引数の文字列がすべて小文字になります</p><p b>．</p><ul><li>(</ul><p l>リストの実行</p><ul><li>)<li>c<li>n<li>t<li>a<li>c<li>n<li>t<li>b<li>c<li>n<li>t<li>c</ul></div>
<div><ul><li>\<li> <li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p h>を使えば</p><p b>，</p><p t>こんなこともできます</p><p b>．</p><ul><li>\<li>c<li>s<li>n<li>a<li>m<li>e<li>·<li>·<li>·<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li> </ul><p b>は</p><p b>，</p><p ca>この間に挟んだ引数を含む制御綴を作成し実行する機能を</p></div>
<div><p l>もっています</p><p b>．</p><p n>たとえば引数が</p><ul><li> <li>C<li>N<li>T<li>a<li> </ul><p h>であると</p><p b>，</p><ul><li>\<li>C<li>N<li>T<li>a<li> </ul><p z>なる制御綴を作り実行します</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>N<li>T<li>a<li>{<li>$<li>\<li>a<li>l<li>p<li>h<li>a<li>$<li>}<li> <li>\<li>d<li>e<li>f<li>\<li>C<li>N<li>T<li>b<li>{<li>$<li>\<li>b<li>e<li>t<li>a<li>$<li>}<li> <li>\<li>d<li>e<li>f<li>\<li>C<li>N<li>T<li>c<li>{<li>$<li>\<li>g<li>a<li>m<li>m<li>a<li>$<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>o<li>G<li>r<li>e<li>e<li>k<li>#<li>1<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>o<li>G<li>r<li>e<li>e<li>k<li>s<li>{<li>\<li>l<li>e<li>t<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>=<li>\<li>t<li>o<li>G<li>r<li>e<li>e<li>k<li> <li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li>}</ul></div>
<div><p v>のように定義しておいて</p><p b>，</p><ul><li>\<li>t<li>o<li>G<li>r<li>e<li>e<li>k<li>s<li> </ul><p n>を宣言しますと</p><p b>，</p><p b>α</p><p b>β</p><p b>γ</p><ul><li> </ul><p t>のように出力されます</p><p b>．</p></div>
<div><p j>このように</p><p b>，</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p bo>のようなリストを作り上げることができれば</p><p b>，</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S<li> </ul><p bm>にいろいろな制御綴を代入することにより</p><p b>，</p><p h>一括処理</p></div>
<div><p p>ができるわけです</p><p b>．</p><p h>カウンタ</p><p b>ー</p><p bm>などの一括リセットもこの方法で行えます</p><p b>．</p></div>
<div><p h>たとえば</p><p b>，</p><p j>同じリスト</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p l>から出発して</p><p b>，</p><p z>別のことを行ってみましょう</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>L<li>r<li>e<li>s<li>e<li>t<li>#<li>1<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>=<li>0<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><ul><li>{<li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>C<li>N<li>T<li>a<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>C<li>N<li>T<li>b<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>C<li>N<li>T<li>c</ul></div>
<div><ul><li>\<li>C<li>N<li>T<li>a<li>=<li>1<li>0<li>0<li> <li>\<li>C<li>N<li>T<li>b<li>=<li>1<li>5<li>0<li> <li>\<li>C<li>N<li>T<li>c<li>=<li>1<li>7<li>0</ul></div>
<div><ul><li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>\<li>t<li>h<li>e<li>\<li>C<li>N<li>T<li>a<li>,<li> <li>\<li>t<li>h<li>e<li>\<li>C<li>N<li>T<li>b<li>,<li> <li>\<li>t<li>h<li>e<li>\<li>C<li>N<li>T<li>c<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>=<li>\<li>T<li>L<li>r<li>e<li>s<li>e<li>t<li> <li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t</ul></div>
<div><ul><li>(</ul><p n>リストの実行後</p><ul><li>)<li> <li>\<li>t<li>h<li>e<li>\<li>C<li>N<li>T<li>a<li>,<li> <li>\<li>t<li>h<li>e<li>\<li>C<li>N<li>T<li>b<li>,<li> <li>\<li>t<li>h<li>e<li>\<li>C<li>N<li>T<li>c<li>}</ul></div>
<div><p l>と入力すると</p><p b>，</p><p z>次のような結果がえられます</p><p b>．</p></div>
<div><ul><li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>1<li>0<li>0<li>,<li> <li>1<li>5<li>0<li>,<li> <li>1<li>7<li>0</ul></div>
<div><ul><li>(</ul><p n>リストの実行後</p><ul><li>)<li> <li>0<li>,<li> <li>0<li>,<li> <li>0</ul></div>
<div><ul><li>3<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>T<li>L<li>r<li>e<li>s<li>e<li>t<li> </ul><p j>はカウンタ</p><p b>ー</p><p p>の制御綴を作って</p><p b>，</p><ul><li>0<li> </ul><p t>とおくという命令です</p><p b>．</p><p j>この命令を</p><ul><li>\<li>l<li>e<li>t<li> </ul><p h>によって</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S</ul></div>
<div><p p>に代入しています</p><p b>．</p><p h>この結果</p><p b>，</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p be>による一括処理が行えるわけです</p><p b>．</p><p z>出力を調べるとわかるように</p><p b>，</p><p t>見事に三つのカウンタ</p><p b>ー</p></div>
<div><p z>の一括リセットが行えました</p><p b>．</p></div>
<div><ul><li>6<li>.<li>2<li>.<li>2<li> </ul><p cc>リストの作成命令次にリストの作成方法を考えてみましょう</p><p b>．</p><p j>空のリスト</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p bk>から出発して順次内容を入れてゆきます</p><p b>．</p></div>
<div><p v>このとき文字列としての</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S<li> </ul><p bq>と将来引数となるべき文字列を入れてゆきます</p><p b>．</p><p h>このとき</p><p b>，</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S</ul></div>
<div><p b>を</p><ul><li>\<li>r<li>e<li>l<li>a<li>x<li>(</ul><p p>なにもしない命令</p><ul><li>)<li> </ul><p be>に置き換えて無効にしておきます</p><p b>．</p><p t>次のように定義します</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li>{<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>L<li>s<li>e<li>t<li>#<li>1<li>#<li>2<li>{<li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li>\<li>l<li>e<li>t<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>=<li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>x<li>d<li>e<li>f<li>#<li>1<li>{<li>#<li>1<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>#<li>2<li>}<li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>A<li>D<li>D<li>t<li>o<li>T<li>L<li>#<li>1<li>{<li>\<li>T<li>L<li>s<li>e<li>t<li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li>{<li>{<li>#<li>1<li>}<li>}<li>}</ul></div>
<div><p h>この中で</p><p b>，</p><ul><li>\<li>A<li>D<li>D<li>t<li>o<li>T<li>L<li> </ul><p bk>が順次内容を入れてゆくための命令です</p><p b>．</p></div>
<div><ul><li>\<li>A<li>D<li>D<li>t<li>o<li>T<li>L<li>{<li>C<li>N<li>T<li>a<li>}<li> <li>\<li>A<li>D<li>D<li>t<li>o<li>T<li>L<li>{<li>C<li>N<li>T<li>b<li>}<li> <li>\<li>A<li>D<li>D<li>t<li>o<li>T<li>L<li>{<li>C<li>N<li>T<li>c<li>}</ul></div>
<div><p f>として</p><p b>，</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p v>に内容を入れてゆきます</p><p b>．</p><p j>このときは</p><p b>，</p><p z>上と同じリストがえられます</p><p b>．</p><p h>すなわち</p><p b>，</p></div>
<div><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>{<li>C<li>N<li>T<li>a<li>}<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>{<li>C<li>N<li>T<li>b<li>}<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>{<li>C<li>N<li>T<li>c<li>}</ul></div>
<div><p b>が</p><p b>，</p><p h>得られた</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p j>の内容です</p><p b>．</p><p j>このことは</p><p b>，</p><p n>内部の可変命令</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S<li> </ul><p b>に</p><ul><li>\<li>r<li>e<li>l<li>a<li>x<li> </ul><p j>を代入して</p><p b>，</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S</ul></div>
<div><p by>の引数の文字列をそのまま出力してみれば一目瞭然です</p><p b>．</p><p h>すなわち</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>y<li>p<li>e<li>T<li>L<li>{<li>\<li>l<li>e<li>t<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>=<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li>}</ul></div>
<div><ul><li>(</ul><p p>リストの内容表示</p><ul><li>)<li> <li>\<li>t<li>y<li>p<li>e<li>T<li>L</ul></div>
<div><p n>と入力しますと</p><p b>，</p><p v>次のように出力されます</p><p b>．</p><ul><li> <li>(</ul><p p>リストの内容表示</p><ul><li>)<li> <li>C<li>N<li>T<li>a<li>C<li>N<li>T<li>b<li>C<li>N<li>T<li>c</ul></div>
<div><p d>また</p><p b>，</p><p d>上の</p><ul><li>\<li>l<li>o<li>w<li>e<li>r<li>c<li>a<li>s<li>e<li> </ul><p bs>を使った例をそのまま試してみることによっても</p><p b>，</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p bo>に格納された内容を確かめることができます</p><p b>．</p></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>t<li>e<li>m<li>p<li>C<li>S<li>=<li>\<li>l<li>o<li>w<li>e<li>r<li>c<li>a<li>s<li>e</ul></div>
<div><ul><li>(</ul><p l>リストの実行</p><ul><li>)<li> <li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li>}</ul></div>
<div><p j>この結果は</p><p b>，</p><p r>次のようになります</p><p b>．</p><ul><li>(</ul><p l>リストの実行</p><ul><li>)<li>c<li>n<li>t<li>a<li>c<li>n<li>t<li>b<li>c<li>n<li>t<li>c</ul></div>
<div><p n>本項で得られた</p><ul><li>\<li>T<li>E<li>S<li>T<li>l<li>i<li>s<li>t<li> </ul><p h>の内容は</p><p b>，</p><p be>前項で述べたものと同じですから</p><p b>，</p><p n>内部の可変命令</p><ul><li>\<li>t<li>e<li>m<li>p<li>C<li>S<li> </ul><p p>の引数をカウンタ</p><p b>ー</p><p n>名であるとみな</p></div>
<div><p d>せば</p><p b>，</p><p bw>一括リセットにそのまま利用できることは明らかです</p><p b>．</p><p be>前項の最後の部分をご覧ください</p><p b>．</p></div>
<div><ul><li>6<li>.<li>3<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>カウンタ</p><p b>ー</p><p f>リスト</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><p l>親のカウンタ</p><p b>ー</p><p b>が</p><ul><li> <li>1<li> </ul><p l>あがるときに</p><p b>，</p><p l>子のカウンタ</p><p b>ー</p><p l>の値がすべて</p><ul><li> <li>0<li> </ul><p r>にリセットされます</p><p b>．</p></div>
<div><p z>前節で準備ができましたので</p><p b>，</p><p h>いよいよ</p><p b>，</p><p by>この一括リセットの仕組みの説明に取りかかりましょう</p><p b>．</p></div>
<div class=_mark id=mark32><a  href='#toc32'><p b>第</p><ul><li> <li>6<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p x>の親子関係と一括リセット</p><ul><li> <li>3<li>9</ul></a></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>k<li>o<li>}<li>[<li>o<li>y<li>a<li>]</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>m<li>e<li>}<li>[<li>o<li>y<li>a<li>]</ul></div>
<div><p h>のように</p><p b>，</p><p l>宣言しますと</p><p b>，</p><ul><li>o<li>y<li>a<li> <li> </ul><p h>カウンタ</p><p b>ー</p><p j>を親として</p><p b>，</p><ul><li>m<li>u<li>s<li>u<li>k<li>o<li> </ul><p h>カウンタ</p><p b>ー</p><p b>と</p><ul><li> <li>m<li>u<li>s<li>u<li>m<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><p z>を従属させることができます</p><p b>．</p><p d>この</p></div>
<div><p j>従属関係は</p><p b>，</p><ul><li>\<li>c<li>l<li>@<li>o<li>y<li>a<li> </ul><p bk>というリストに順次保存されてゆきます</p><p b>．</p><p j>このときは</p><p b>，</p></div>
<div><ul><li>\<li>c<li>l<li>@<li>o<li>y<li>a<li> </ul><p h>の内容は</p><p b>，</p><p v>次のようになっています</p><p b>．</p><ul><li>\<li>@<li>e<li>l<li>t<li> </ul><p b>が</p><p b>，</p><p v>上でのべた可変命令です</p><p b>．</p></div>
<div><ul><li>\<li>@<li>e<li>l<li>t<li>{<li>m<li>u<li>s<li>u<li>k<li>o<li>}<li>\<li>@<li>e<li>l<li>t<li>{<li>m<li>u<li>s<li>u<li>m<li>e<li>}</ul></div>
<div><p j>このことは</p><p b>，</p><p h>可変命令</p><ul><li>\<li>@<li>e<li>l<li>t<li> </ul><p v>に適当な命令を代入して</p><p b>，</p><ul><li>\<li>c<li>l<li>@<li>o<li>y<li>a<li> </ul><p x>を出力させるとわかります</p><p b>．</p><p h>ここでは</p><p b>，</p></div>
<div><ul><li>\<li>@<li>e<li>l<li>t<li> </ul><p b>に</p><ul><li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li> </ul><p h>を代入し</p><p b>，</p><p bm>文字列を大文字にして出力してみましょう</p><p b>．</p><p h>すなわち</p><p b>，</p></div>
<div><ul><li>{<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>@<li>e<li>l<li>t<li>=<li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e</ul></div>
<div><ul><li>(</ul><p l>リストの内容</p><ul><li>)<li> <li>\<li>c<li>l<li>@<li>o<li>y<li>a</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r<li>}</ul></div>
<div><p r>のように書きますと</p><p b>，</p><p v>次のように出力されます</p><p b>．</p><ul><li>(</ul><p l>リストの内容</p><ul><li>)<li> <li>M<li>U<li>S<li>U<li>K<li>O<li>M<li>U<li>S<li>U<li>M<li>E</ul></div>
<div><p n>マクロの中では</p><p b>，</p><ul><li>\<li> <li>c<li>s<li>n<li>a<li>m<li>e<li>·<li>·<li>·<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li> </ul><p bo>という制御綴の作り方もよく行われますので</p><p b>，</p><p bo>上と同じことをこれを使って書いておきまし</p></div>
<div><p d>ょう</p><p b>．</p></div>
<div><ul><li>{<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>l<li>e<li>t<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>@<li>e<li>l<li>t<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>=<li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e</ul></div>
<div><ul><li>(</ul><p l>リストの内容</p><ul><li>)<li> <li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>l<li>@<li>o<li>y<li>a<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r<li>}</ul></div>
<div><p r>のように書きますと</p><p b>，</p><p v>次のように出力されます</p><p b>．</p><ul><li>(</ul><p l>リストの内容</p><ul><li>)<li> <li>M<li>U<li>S<li>U<li>K<li>O<li>M<li>U<li>S<li>U<li>M<li>E</ul></div>
<div><p f>実際に</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p bo>がリセットされる様子を確かめてみましょう</p><p b>．</p><p j>次のように</p><p b>，</p><p j>各カウンタ</p><p b>ー</p><p t>に値を与えておきます</p><p b>．</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}<li>{<li>1<li>5<li>}<li> <li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>k<li>o<li>}<li>{<li>5<li>}<li> <li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>m<li>e<li>}<li>{<li>6<li>}</ul></div>
<div><p r>このようにしたのち</p><p b>，</p><ul><li>\<li>c<li>l<li>@<li>o<li>y<li>a<li> </ul><p v>を実行ししてみましょう</p><p b>．</p><p h>このとき</p><p b>，</p><p x>上で作ったリセットの命令</p><ul><li>\<li>T<li>L<li>r<li>e<li>s<li>e<li>t</ul></div>
<div><p n>を少し改変して</p><p b>，</p><p h>可変命令</p><ul><li>@<li>e<li>l<li>t<li> </ul><p l>に代入します</p><ul><li> <li>(</ul><p h>カウンタ</p><p b>ー</p><p b>は</p><p b>，</p><ul><li>\<li>c<li>@<li>m<li>u<li>s<li>u<li>k<li>o<li> </ul><p b>と</p><ul><li>\<li>c<li>@<li>m<li>u<li>s<li>u<li>m<li>e<li> </ul><p p>であることに注意</p><ul><li>)</ul><p b>．</p></div>
<div><ul><li>{<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>L<li>r<li>e<li>s<li>e<li>t<li>#<li>1<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>=<li>0<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><ul><li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>;<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e<li> <li>\<li>q<li>u<li>a<li>d</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>@<li>e<li>l<li>t<li>=<li>\<li>T<li>L<li>r<li>e<li>s<li>e<li>t<li> <li>\<li>c<li>l<li>@<li>o<li>y<li>a</ul></div>
<div><ul><li>(</ul><p n>リストの実行後</p><ul><li>)<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>;<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r<li>}</ul></div>
<div><p r>のように書きますと</p><p b>，</p><p v>次のように出力されます</p><p b>．</p><ul><li> <li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>5<li>;<li> <li>6<li> <li>(</ul><p n>リストの実行後</p><ul><li>)<li> <li>0<li>;<li> <li>0</ul></div>
<div><p n>ここに説明した</p><ul><li>\<li>T<li>L<li>r<li>e<li>s<li>e<li>t<li> </ul><p f>命令は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p ck>命令の一括リセットの機能の本質的な部分を取り出したものといえま</p></div>
<div><p b>す</p><p b>．</p><p l>いいかえると</p><p b>，</p><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p r>を使うことによって</p><p b>，</p><p bu>このようなリセットが内部で行われているわけです</p><p b>．</p><p h>ついでに</p><p b>，</p><p h>この命令</p></div>
<div><p z>を使った例を示しておきます</p><p b>．</p></div>
<div><ul><li>4<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}<li>{<li>1<li>5<li>}<li> <li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>k<li>o<li>}<li>{<li>5<li>}<li> <li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>m<li>e<li>}<li>{<li>6<li>}</ul></div>
<div><ul><li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>;<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e<li> <li>\<li>q<li>u<li>a<li>d</ul></div>
<div><ul><li>(</ul><p j>親カウンタ</p><p b>ー</p><p b>を</p><ul><li> <li>1<li> </ul><p f>進める</p><ul><li>)<li> <li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}<li> <li>\<li>q<li>u<li>a<li>d</ul></div>
<div><ul><li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>;<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e<li> <li>\<li>q<li>u<li>a<li>d</ul></div>
<div><p r>のように書きますと</p><p b>，</p><p v>次のように出力されます</p><p b>．</p><ul><li> <li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>5<li>;<li> <li>6<li> <li>(</ul><p j>親カウンタ</p><p b>ー</p><p b>を</p><ul><li> <li>1<li> </ul><p j>進めて出力</p><ul><li>)</ul></div>
<div><ul><li>1<li>6<li> <li>(</ul><p n>リストの実行前</p><ul><li>)<li> <li>0<li>;<li> <li>0</ul></div>
<div><ul><li>6<li>.<li>4<li> </ul><p j>余計なこと</p></div>
<div><ul><li>\<li> <li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>C<li>T<li>R<li>}</ul><p n>の説明のときに</p><p b>，</p><p h>自動的に</p><ul><li>\<li>p<li>@<li>C<li>T<li>R<li> </ul><p bg>なる制御綴が発生するといいました</p><p b>．</p><p f>これは</p><p b>，</p><p r>箇条書環境などでの</p><p b>，</p><p j>親カウンタ</p></div>
<div><p b>ー</p><p bg>を記憶しておく目的をもっています</p><p b>．</p><p f>これを</p><ul><li> <li>e<li>n<li>u<li>m<li>e<li>r<li>a<li>t<li>e<li> </ul><p v>環境で調べてみましょう</p><p b>．</p><p f>各階層</p><ul><li> <li>(</ul><p f>天地人</p><ul><li>)<li> </ul><p b>に</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p l>を書き入れて</p><p b>，</p><p d>その</p></div>
<div><p l>あとにラベル</p><ul><li>:<li> <li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li>;</ul></div>
<div><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>;<li> <li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>;<li> <li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>i<li>;</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>v<li>;</ul></div>
<div><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>\<li>p<li>@<li>e<li>n<li>u<li>m<li>i<li>;<li> <li>\<li>p<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>;<li> <li>\<li>p<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>i<li>;<li> <li>\<li>p<li>@<li>e<li>n<li>u<li>m<li>i<li>v<li>;</ul></div>
<div><p p>を入れてあります</p><p b>．</p><p z>次のような出力がえられます</p><p b>．</p><p bs>制御綴の空のところは何も出力されていませんが</p><p b>，</p><p bc>セミコロンで区切ってあります</p></div>
<div><p d>ので</p><p b>，</p><p v>判断がつくとおもいます</p><p b>．</p><p f>ここで</p><p b>，</p><ul><li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li> </ul><p n>などはカウンタ</p><p b>ー</p><p f>ですが</p><p b>，</p></div>
<div><ul><li>\<li>p<li>@<li>e<li>n<li>u<li>m<li>i<li> </ul><p bu>などは文字列になっていることに注意してください</p><p b>．</p><p h>このため</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p x>の場合は出力するためには</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li> </ul><p j>が必要です</p><p b>．</p></div>
<div><ul><li>1<li>.<li> </ul><p d>天一</p><ul><li> </ul><p f>ラベル</p><ul><li>:<li> <li>1<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>1<li>;<li> <li>6<li>;<li> <li>0<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>1<li>;<li> <li>1<li>(<li>f<li>)<li>;<li> <li>1<li>(<li>f<li>)<li>;</ul></div>
<div><ul><li>(<li>a<li>)<li> </ul><p d>地一</p><ul><li> </ul><p f>ラベル</p><ul><li>:<li> <li>1<li>a<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>1<li>;<li> <li>1<li>;<li> <li>0<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>1<li>;<li> <li>1<li>(<li>a<li>)<li>;<li> <li>1<li>(<li>a<li>)<li>;</ul></div>
<div><ul><li>i<li>.<li> </ul><p d>人一</p><ul><li> </ul><p f>ラベル</p><ul><li>:<li> <li>1<li>(<li>a<li>)<li>i<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>1<li>;<li> <li>1<li>;<li> <li>1<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>1<li>;<li> <li>1<li>(<li>a<li>)<li>;<li> <li>1<li>(<li>a<li>)<li>i<li>;</ul></div>
<div><ul><li>i<li>i<li>.<li> </ul><p d>人二</p><ul><li> </ul><p f>ラベル</p><ul><li>:<li> <li>1<li>(<li>a<li>)<li>i<li>i<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>1<li>;<li> <li>1<li>;<li> <li>2<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>1<li>;<li> <li>1<li>(<li>a<li>)<li>;<li> <li>1<li>(<li>a<li>)<li>i<li>i<li>;</ul></div>
<div><ul><li>(<li>b<li>)<li> </ul><p d>地二</p><ul><li> </ul><p f>ラベル</p><ul><li>:<li> <li>1<li>b<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>1<li>;<li> <li>2<li>;<li> <li>2<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>1<li>;<li> <li>1<li>(<li>b<li>)<li>;<li> <li>1<li>(<li>b<li>)<li>i<li>i<li>;</ul></div>
<div><ul><li>(<li>c<li>)<li> </ul><p d>地三</p><ul><li> </ul><p f>ラベル</p><ul><li>:<li> <li>1<li>c<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>1<li>;<li> <li>3<li>;<li> <li>2<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>1<li>;<li> <li>1<li>(<li>c<li>)<li>;<li> <li>1<li>(<li>c<li>)<li>i<li>i<li>;</ul></div>
<div><ul><li>(<li>d<li>)<li> </ul><p d>地四</p><ul><li> </ul><p f>ラベル</p><ul><li>:<li> <li>1<li>d<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>1<li>;<li> <li>4<li>;<li> <li>2<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>1<li>;<li> <li>1<li>(<li>d<li>)<li>;<li> <li>1<li>(<li>d<li>)<li>i<li>i<li>;</ul></div>
<div><ul><li>2<li>.<li> </ul><p j>天二ラベル</p><ul><li>:<li> <li>2<li>;<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>:<li> <li>2<li>;<li> <li>4<li>;<li> <li>2<li>;<li> <li>0<li>;<li> </ul><p j>親カウンタ</p><p b>ー</p><ul><li>:<li> <li>;<li> <li>2<li>;<li> <li>2<li>(<li>d<li>)<li>;<li> <li>2<li>(<li>d<li>)<li>i<li>i<li>;</ul></div>
<div><p b>こ</p><ul><li> </ul><p j>れをみると</p><p b>，</p><ul><li>\<li>@<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li> <li> </ul><p h>の出力は</p><p b>，</p><p d>親カ</p><ul><li> </ul><p f>ウンタ</p><p b>ー</p><ul><li> <li>+<li> </ul><p f>現カウ</p><ul><li> </ul><p d>ンタ</p><p b>ー</p><p j>として出力</p><ul><li> </ul><p p>されていることが</p><ul><li> </ul><p j>わかります</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>\<li>@</ul></div>
<div><ul><li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>l<li>a<li>b<li>e<li>l<li> </ul><p bi>の定義によって確かめてみてください</p><p b>．</p><p h>たとえば</p><p b>，</p><p p>地二のところでは</p><p b>，</p><p b>親</p><ul><li>\<li>p<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li> <li>=<li> <li>1<li>,<li> </ul><p b>現</p><ul><li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>=<li>b<li>(</ul><p h>カウンタ</p><p b>ー</p><p b>値</p></div>
<div><p b>は</p><ul><li> <li>2<li>)<li> </ul><p b>で</p><p b>，</p><p h>その結果</p><ul><li> <li>1<li>a<li> </ul><p r>と出力されています</p><p b>．</p><p p>人一のところでは</p><p b>，</p><p b>親</p><ul><li>\<li>p<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>i<li> <li>=<li> <li>1<li>(<li>a<li>)<li>,<li> </ul><p b>現</p><ul><li>\<li>c<li>@<li>e<li>n<li>u<li>m<li>i<li>i<li>i<li>=<li>i<li>(</ul><p h>カウンタ</p><p b>ー</p><p d>値は</p><ul><li> <li>1<li>)<li> </ul><p b>で</p><p b>，</p><p b>そ</p></div>
<div><p f>の結果</p><ul><li> <li>1<li>(<li>a<li>)<li>i<li> </ul><p r>と出力されています</p><p b>．</p><p r>現階層より下のもの</p><ul><li> <li>(</ul><p f>で表示</p><ul><li>)<li> </ul><p b>は</p><p b>，</p><p bg>旧の値が残っていますので無効です</p><p b>．</p></div>
<div><ul><li>4<li>1</ul></div>
<div><p b>第</p><ul><li>7</ul><p b>章</p><ul><li> </ul><p h>カウンタ</p><p b>ー</p><p x>の親子関係の削除文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li>1</ul></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p j>のカウンタ</p><p b>ー</p><p bc>体系をさらに調べてみましょう</p><p b>。</p><p h>カウンタ</p><p b>ー</p><p ca>の親子関係を削除するにはどうしたらよいかを説明します</p><p b>．</p><p d>この</p></div>
<div><p d>章は</p><p b>，</p><p t>かなりむずかしいので</p><p b>，</p><p v>とばしてもかまいません</p><p b>．</p><ul><li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t<li> <li>.<li>s<li>t<li>y<li> </ul><p bs>というスタイルファイルに仕立ててありますので</p><p b>，</p><p h>これをオ</p></div>
<div><p z>プションとすることによって</p><ul><li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li> </ul><p n>命令が使えます</p><p b>．</p></div>
<div><ul><li>7<li>.<li>1<li> </ul><p b>ソ</p><p b>ー</p><p l>スリストまず</p><p b>，</p><p r>オプションスタイル</p><ul><li> <li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t<li> </ul><p d>のソ</p><p b>ー</p><p r>スリストを示します</p><p b>．</p><p j>使うときは</p><p b>，</p><p l>ファイル名を</p><ul><li> <li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t<li>.<li>s<li>t<li>y</ul></div>
<div><p v>として格納してください</p><p b>．</p><p h>例文まで</p><p b>，</p><p n>いっしょにコピ</p><p b>ー</p><p v>するようにしてください</p><p b>．</p></div>
<div><ul><li>%<li> <li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t<li>.<li>s<li>t<li>y</ul></div>
<div><ul><li>%<li> <li>C<li>o<li>p<li>y<li>r<li>i<li>g<li>h<li>t<li> <li>(<li>C<li>)<li> <li>1<li>9<li>9<li>5<li> <li>M<li>a<li>y<li> <li>2<li>7<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>.<li> <li>A<li>l<li>l<li> <li>r<li>i<li>g<li>h<li>t<li> <li>r<li>e<li>s<li>e<li>r<li>v<li>e<li>d</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li>{<li>C<li>T<li>R<li>}<li>{<li>S<li>U<li>P<li>C<li>T<li>R<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>C<li>a<li>n<li>c<li>e<li>l<li> <li>t<li>h<li>e<li> <li>r<li>e<li>l<li>a<li>t<li>i<li>o<li>n<li>s<li>h<li>i<li>p<li> <li>b<li>e<li>t<li>w<li>e<li>e<li>n<li> <li>C<li>T<li>R<li> <li>a<li>n<li>d<li> <li>S<li>U<li>P<li>C<li>T<li>R<li> <li>t<li>h<li>a<li>t<li> <li>i<li>s<li> <li>s<li>e<li>t<li> <li>b<li>y</ul></div>
<div><ul><li>%<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>n<li>t<li>e<li>r<li> <li>c<li>o<li>m<li>m<li>a<li>n<li>d</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li>{<li>O<li>p<li>t<li>i<li>o<li>n<li> <li>S<li>t<li>y<li>l<li>e<li> </ul><p b>‘</p><ul><li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t</ul><p b>’</p><ul><li> <li>1<li>9<li>9<li>5<li> <li>M<li>a<li>y<li> <li>2<li>7<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>o<li>m<li>m<li>@<li>{<li>,<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>o<li>u<li>b<li>l<li>e<li>q<li>{<li>=<li>=<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li>#<li>1<li>#<li>2<li>{<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>g<li>d<li>e<li>f<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>%</ul></div>
<div><ul><li>{<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>\<li>C<li>o<li>m<li>m<li>@<li>#<li>2<li>\<li>d<li>o<li>u<li>b<li>l<li>e<li>q<li> <li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>l<li>@<li>p<li>r<li>n<li>t<li>{<li>}<li> <li>\<li>d<li>e<li>f<li>\<li>d<li>l<li>@<li>s<li>o<li>n<li>{<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>{<li>{<li>}<li>=<li>=<li>{<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>p<li>@<li>r<li>n<li>t<li>s<li>o<li>n<li>#<li>1<li>=<li>=<li>#<li>2<li>/<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>d<li>l<li>@<li>p<li>r<li>n<li>t<li>{<li>#<li>1<li>}<li>\<li>g<li>d<li>e<li>f<li>\<li>d<li>l<li>@<li>s<li>o<li>n<li>{<li>#<li>2<li>}<li>}</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>4<li>b<li>)</ul></div>
<div><ul><li>4<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li>#<li>1<li>{<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0<li> <li>\<li>d<li>e<li>f<li>\<li>@<li>T<li>e<li>m<li>p<li>b<li>{<li>#<li>1<li>}</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>\<li>e<li>m<li>p<li>t<li>y<li> <li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>\<li>d<li>o<li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>p<li>@<li>r<li>n<li>t<li>s<li>o<li>n<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>/<li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>P<li>@<li>C<li>N<li>T<li>\<li>d<li>l<li>@<li>p<li>r<li>n<li>t<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>i<li>f<li>x<li>\<li>@<li>T<li>e<li>m<li>p<li>b<li>\<li>d<li>l<li>@<li>s<li>o<li>n<li> <li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>@<li>n<li>e<li> <li>\<li>f<li>i<li>\<li>f<li>i<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0<li> <li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>\<li>z<li>@<li> <li>\<li>f<li>i<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>#<li>1<li>{<li>\<li>x<li>d<li>e<li>f<li>\<li>P<li>@<li>C<li>N<li>T<li>{<li>#<li>1<li>}<li> <li>\<li>x<li>d<li>e<li>f<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>{<li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>}<li>%</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>\<li>@<li>n<li>e</ul></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>@<li>e<li>l<li>t<li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li> <li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>l<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>i<li>n<li>p<li>u<li>t</ul></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>(</ul><p p>例文の本体は省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>7<li>.<li>2<li> </ul><p l>機能と使い方</p></div>
<div><ul><li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t<li> <li>.<li>s<li>t<li>y<li> </ul><p bk>はオプションファイルになっていますが</p><p b>，</p><p h>本章では</p><p b>，</p><p n>この箇所直前に</p><p b>，</p><p be>命令の定義を書き込んであります</p><p b>．</p><p j>このオプシ</p></div>
<div><p l>ョンで使える</p><ul><li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li> </ul><p v>は二つの引数をとります</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li>{<li>C<li>T<li>R<li>}<li>{<li>S<li>U<li>P<li>C<li>T<li>R<li>}</ul></div>
<div><ul><li>C<li>T<li>R<li> </ul><p b>は</p><ul><li> <li>S<li>U<li>P<li>C<li>T<li>R<li> </ul><p h>カウンタ</p><p b>ー</p><p bi>の子として既に宣言してあるカウンタ</p><p b>ー</p><p h>とします</p><p b>．</p><p j>この宣言で</p><p b>，</p><ul><li>C<li>T<li>R<li> </ul><p h>カウンタ</p><p b>ー</p><p b>と</p><ul><li> <li>S<li>U<li>P<li>C<li>T<li>R<li> </ul><p n>の親子関係は削</p></div>
<div><p j>除されます</p><p b>．</p><ul><li>\<li>@<li>a<li>d<li>d<li>t<li>o<li>r<li>e<li>s<li>e<li>t<li>{<li>C<li>T<li>R<li>}<li>{<li>S<li>U<li>P<li>C<li>T<li>R<li>}</ul><p bk>命令とちょうど逆の働きをもっています</p><p b>．</p></div>
<div><p h>たとえば</p><p b>，</p><p f>ここで</p><ul><li> <li>o<li>y<li>a<li> <li> </ul><p h>カウンタ</p><p b>ー</p><p h>をつくり</p><p b>，</p><ul><li>m<li>u<li>s<li>u<li>k<li>o<li>,<li> <li>m<li>u<li>s<li>u<li>m<li>e<li>,<li> <li>m<li>e<li>i<li>,<li> <li>m<li>a<li>g<li>o<li> </ul><p j>のカウンタ</p><p b>ー</p><p v>を従属させてみましょう</p><p b>．</p><p p>次のように書きま</p></div>
<div><p b>す</p><p b>．</p></div>
<div><ul><li>%<li> <li>t<li>h<li>e<li> <li>s<li>e<li>t<li>t<li>i<li>n<li>g<li> <li>o<li>f<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>s</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>k<li>o<li>}<li>[<li>o<li>y<li>a<li>]<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>m<li>e<li>}<li>[<li>o<li>y<li>a<li>]</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>e<li>i<li>}<li>[<li>o<li>y<li>a<li>]<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>a<li>g<li>o<li>}<li>[<li>o<li>y<li>a<li>]</ul></div>
<div><p f>これで</p><p b>，</p><p x>親子関係が設定されました</p><p b>．</p><p r>それぞれのカウンタ</p><p b>ー</p><p d>に値</p><ul><li> </ul><p j>をいれます</p><p b>．</p><p r>次のように書きます</p><p b>．</p></div>
<div><ul><li>%<li> <li>t<li>h<li>e<li> <li>s<li>e<li>t<li>t<li>i<li>n<li>g<li> <li>o<li>f<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> <li>v<li>a<li>l<li>u<li>e<li>s</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}<li>{<li>5<li>0<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>k<li>o<li>}<li>{<li>1<li>5<li>}<li> <li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>u<li>s<li>u<li>m<li>e<li>}<li>{<li>2<li>0<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>e<li>i<li>}<li>{<li>3<li>0<li>}<li> <li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>m<li>a<li>g<li>o<li>}<li>{<li>2<li>}</ul></div>
<div class=_mark id=mark33><a  href='#toc33'><p b>第</p><ul><li> <li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p p>の親子関係の削除</p><ul><li> <li>4<li>3</ul></a></div>
<div><p f>つぎに</p><p b>，</p><p v>この値を出力したのちに</p><p b>，</p><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p b>で</p><ul><li> <li>o<li>y<li>a<li> </ul><p h>カウンタ</p><p b>ー</p><p bc>の値を一つ増やしてみましょう</p><p b>．</p><p t>次のように入力します</p><p b>．</p></div>
<div><ul><li>%<li> <li>o<li>r<li>i<li>g<li>i<li>n<li>a<li>l<li> <li>v<li>a<li>l<li>u<li>e<li>s</ul></div>
<div><ul><li>(</ul><p n>もとのカウンタ</p><p b>ー</p><p d>の値</p><ul><li>)</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>o<li>y<li>a<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>e<li>i<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>a<li>g<li>o<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>%<li> <li>s<li>t<li>e<li>p<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}</ul></div>
<div><ul><li>%<li> <li>r<li>e<li>s<li>e<li>t<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> <li>v<li>a<li>l<li>u<li>e<li>s</ul></div>
<div><ul><li>(</ul><p p>親子関係の解除後</p><p b>，</p><p h>リセット</p><ul><li>)</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>o<li>y<li>a<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>e<li>i<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>a<li>g<li>o</ul></div>
<div><p p>当然のことながら</p><p b>，</p><p x>従属するすべてのカウンタ</p><p b>ー</p><p b>は</p><ul><li> <li>0<li> </ul><p r>にリセットされます</p><p b>．</p></div>
<div><ul><li>(</ul><p n>もとのカウンタ</p><p b>ー</p><p d>の値</p><ul><li>)<li> <li>5<li>0<li>,<li> <li>1<li>5<li>,<li> <li>2<li>0<li>,<li> <li>3<li>0<li>,<li> <li>2</ul></div>
<div><ul><li>(</ul><p p>親子関係の解除後</p><p b>，</p><p h>リセット</p><ul><li>)<li> <li>5<li>1<li>,<li> <li>0<li>,<li> <li>0<li>,<li> <li>0<li>,<li> <li>0</ul></div>
<div><p d>次に</p><ul><li>,<li> <li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li> </ul><p r>の機能の実行例です</p><p b>．</p><p f>ここで</p><p b>，</p><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p f>命令で</p><p b>，</p><p x>もとの値に戻しておきます</p><p b>．</p></div>
<div><p h>その上で</p><p b>，</p><p bc>親子関係をはずしてみましょう</p><p b>．</p><p h>ここでは</p><p b>，</p><ul><li>o<li>y<li>a<li> </ul><p h>カウンタ</p><p b>ー</p><p d>から</p><p b>，</p><ul><li>m<li>a<li>g<li>o<li>,<li> <li>m<li>e<li>i<li> </ul><p h>カウンタ</p><p b>ー</p><p n>を切り離します</p><p b>．</p><p h>このため</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li>{<li>m<li>a<li>g<li>o<li>}<li>{<li>o<li>y<li>a<li>}<li> <li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li>{<li>m<li>e<li>i<li>}<li>{<li>o<li>y<li>a<li>}</ul></div>
<div><p l>と宣言します</p><p b>．</p><p f>つぎに</p><p b>，</p><p l>まえと同様に</p><p b>，</p><p x>もとの値を出力したのちに</p><p b>，</p><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p b>で</p><ul><li> <li>o<li>y<li>a<li> </ul><p h>カウンタ</p><p b>ー</p><p bc>の値を一つ増やしてみましょう</p></div>
<div><p b>．</p><p p>変わったところは</p><p b>，</p><p bm>一部の親子関係を削除してあるところです</p><p b>．</p><p t>次のように入力します</p><p b>．</p></div>
<div><ul><li>%<li> <li>o<li>r<li>i<li>g<li>i<li>n<li>a<li>l<li> <li>v<li>a<li>l<li>u<li>e<li>s</ul></div>
<div><ul><li>(</ul><p n>もとのカウンタ</p><p b>ー</p><p d>の値</p><ul><li>)</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>o<li>y<li>a<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>e<li>i<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>a<li>g<li>o<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>%<li> <li>s<li>t<li>e<li>p<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}</ul></div>
<div><ul><li>%<li> <li>r<li>e<li>s<li>e<li>t<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> <li>v<li>a<li>l<li>u<li>e<li>s</ul></div>
<div><ul><li>(</ul><p p>親子関係の解除後</p><p b>，</p><p h>リセット</p><ul><li>)</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>o<li>y<li>a<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>k<li>o<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>u<li>s<li>u<li>m<li>e<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>e<li>i<li>,<li> <li>\<li>t<li>h<li>e<li>m<li>a<li>g<li>o</ul></div>
<div><p f>出力は</p><p b>，</p><p l>次の通りです</p><p b>．</p><ul><li>o<li>y<li>a<li> <li> </ul><p h>カウンタ</p><p b>ー</p><p d>から</p><p b>，</p><ul><li>m<li>a<li>g<li>o<li>,<li> <li>m<li>e<li>i<li> </ul><p h>カウンタ</p><p b>ー</p><p x>が切り離されていますので</p><p b>，</p><p l>これらの値は</p><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>o<li>y<li>a<li>}</ul><p b>を</p></div>
<div><p n>宣言したのちも</p><p b>，</p><p r>リセットされません</p><p b>．</p><p f>ほかの</p><p b>，</p><ul><li>m<li>u<li>s<li>u<li>k<li>o<li>,<li> <li>m<li>u<li>s<li>u<li>m<li>e<li> </ul><p h>カウンタ</p><p b>ー</p></div>
<div><p b>は</p><p b>，</p><ul><li>o<li>y<li>a<li> </ul><p v>に従属したままですから</p><p b>，</p><p t>リセットされています</p><p b>．</p></div>
<div><ul><li>(</ul><p n>もとのカウンタ</p><p b>ー</p><p d>の値</p><ul><li>)<li> <li>5<li>0<li>,<li> <li>1<li>5<li>,<li> <li>2<li>0<li>,<li> <li>3<li>0<li>,<li> <li>2</ul></div>
<div><ul><li>(</ul><p p>親子関係の解除後</p><p b>，</p><p h>リセット</p><ul><li>)<li> <li>5<li>1<li>,<li> <li>0<li>,<li> <li>0<li>,<li> <li>3<li>0<li>,<li> <li>2</ul></div>
<div><ul><li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li> </ul><p f>命令は</p><p b>，</p><p h>たとえば</p><ul><li> <li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> </ul><p j>スタイルで</p><p b>，</p><ul><li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>カウンタ</p><p b>ー</p><p b>を</p><ul><li> <li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>カウンタ</p><p b>ー</p><p z>から切り離すようなときに使</p></div>
<div><p f>えます</p><p b>．</p><p l>これによって</p><p b>，</p><p f>項番号</p><ul><li> <li>(<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>)<li> </ul><p b>は</p><p b>，</p><p f>節番号</p><ul><li> <li>(<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>)<li> </ul><p bi>とは無関係に連続して振られるように</p></div>
<div><p h>なります</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><ul><li>4<li>4<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>s<li>t<li>y<li>l<li>e<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>c<li>n<li>t<li>r<li>e<li>s<li>e<li>t<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>A<li>l<li>p<li>h<li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>a<li>r<li>a<li>b<li>i<li>c<li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>節の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>項の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>項の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>項の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>節の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>項の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>項の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>項の表題</p><ul><li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p p>のようにしますと</p><p b>，</p><p r>次のようになります</p><p b>．</p><p h>ここでは</p><p b>，</p><p bs>項の出力を大文字のアルファベットで行うように</p></div>
<div><ul><li>\<li>t<li>h<li>e<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p v>命令を再定義しています</p><p b>．</p></div>
<div><ul><li>1<li> </ul><p h>節の表題</p></div>
<div><ul><li>A<li> </ul><p h>項の表題</p></div>
<div><ul><li>B<li> </ul><p h>項の表題</p></div>
<div><ul><li>C<li> </ul><p h>項の表題</p></div>
<div><ul><li>2<li> </ul><p h>節の表題</p></div>
<div><ul><li>D<li> </ul><p h>項の表題</p></div>
<div><ul><li>E<li> </ul><p h>項の表題</p></div>
<div><ul><li>F<li> </ul><p h>項の表題</p></div>
<div><ul><li>7<li>.<li>3<li> </ul><p j>マクロ解説</p></div>
<div><ul><li>7<li> <li>.<li>3<li>.<li>1<li> </ul><p x>全体の方針ある親カウンタ</p><p b>ー</p><ul><li> <li>S<li>U<li>P<li>C<li>T<li>R<li> </ul><p t>が設定されたときには</p><p b>，</p><p r>子にあたるカウンタ</p><p b>ー</p><p l>をリスト形で</p><ul><li>\<li>c<li>l<li>@<li>S<li>U<li>P<li>C<li>T<li>R<li> </ul><p n>に保存してある</p></div>
<div><p f>ことは</p><p b>，</p><p p>すでに述べました</p><p b>．</p><p z>親子関係を削除するためには</p><p b>，</p><p bi>このリストの中から該当の子カンンタ</p><p b>ー</p><p be>に関する記述を削除すればよいの</p></div>
<div><p f>ですが</p><p b>，</p><p x>これがなかななむずかしい</p><p b>．</p><ul><li>2</ul></div>
<div><p f>そこで</p><p b>，</p><p h>本章では</p><p b>，</p><p bc>別の方法を採ることにしました</p><p b>．</p><p d>まず</p><p b>，</p><p t>削除すべき親子関係を</p><ul><li>\<li> <li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li> </ul><p be>というリストに保存しておきます</p><p b>．</p><ul><li>\</ul></div>
<div><ul><li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p j>の実行時に</p><ul><li> <li>(</ul><p j>具体的には</p><ul><li>\<li>@<li>e<li>l<li>t<li> </ul><p f>命令に</p><ul><li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li> </ul><p r>命令を代入する際に</p><ul><li>)</ul><p b>，</p><p v>このリストを参照します</p><p b>．</p><p t>リストに含まれていれ</p></div>
<div><p b>ば</p><p b>，</p><p n>該当のカウンタ</p><p b>ー</p><p bq>のリセット処理を行わないようにする方法です</p><p b>．</p><p l>このためには</p><p b>，</p></div>
<div><ul><li>1<li>.<li> </ul><p bi>削除すべき親子関係を保存するリスト</p><ul><li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li> </ul><p p>の保存形式の決定</p></div>
<div><ul><li>2<li>.<li> </ul><p p>この方針によって</p><p b>，</p><p bi>削除すべき親子関係を保存するリスト</p><ul><li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li> </ul><p z>を作成するための命令として</p><p b>，</p><ul><li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li> </ul><p f>を作成</p></div>
<div><ul><li>2</ul><p ca>この方向での解決がいちばんすっきりすると思うのですが</p><p b>，</p><p bk>どなたかよいアイディアはありませんか</p><p b>．</p></div>
<div class=_mark id=mark34><a  href='#toc34'><p b>第</p><ul><li> <li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>カウンタ</p><p b>ー</p><p p>の親子関係の削除</p><ul><li> <li>4<li>5</ul></a></div>
<div><ul><li>3<li>.<li> <li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>n<li>t<li>e<li>r<li> </ul><p v>命令およびその内部命令</p><ul><li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li> </ul><p bc>の再定義を行う必要があります</p><p b>．</p></div>
<div><ul><li>7<li>.<li>3<li>.<li>2<li> </ul><p z>リストの作成リストの形式は</p><p b>，</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p r>命令が使えるように</p><p b>，</p><p bc>コンマで区切ったものとします</p><p b>．</p><p h>各部分は</p><ul><li> <li>S<li>U<li>P<li>C<li>T<li>R<li>=<li>=<li>C<li>T<li>R</ul></div>
<div><p v>のように親子のカウンタ</p><p b>ー</p><p b>を</p><ul><li>=<li>=</ul><p x>でさらに区切っておきます</p><p b>．</p><p p>リストを作るとき</p><p b>，</p><p bw>これらの区切り記号を直接に扱うのはやりづらいので</p></div>
<div><p b>，</p><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>o<li>m<li>m<li>@<li>{<li>,<li>}</ul><p b>と</p><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>o<li>u<li>b<li>l<li>e<li>q<li>{<li>=<li>=<li>}</ul><p f>として</p><p b>，</p><p v>制御綴に収めておきます</p><p b>．</p><p l>面倒ですから</p><p b>，</p><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>{<li>{<li>}<li>=<li>=<li>{<li>}<li>}</ul><p f>として</p><p b>，</p><p j>初期化して</p></div>
<div><p h>おきます</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>\<li>@<li> <li>f<li>o<li>r<li> </ul><p l>命令のときに</p><p b>，</p><p f>最初の</p><ul><li> <li>1<li> </ul><p l>回は無駄なル</p><p b>ー</p><p z>プを行うことになるのですが</p><p b>，</p><p be>簡便のためにこのようにしました</p></div>
<div><p b>．</p><p x>このような前準備をすると</p><p b>，</p><ul><li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li> </ul><p h>の定義は</p><p b>，</p><p n>比較的簡単です</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>d<li>e<li>l<li>f<li>r<li>o<li>m<li>r<li>e<li>s<li>e<li>t<li>#<li>1<li>#<li>2<li>{<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>g<li>d<li>e<li>f<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>%</ul></div>
<div><ul><li>{<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>\<li>C<li>o<li>m<li>m<li>@<li>#<li>2<li>\<li>d<li>o<li>u<li>b<li>l<li>e<li>q<li> <li>#<li>1<li>}<li>}</ul></div>
<div><p l>この定義では</p><p b>，</p><p h>旧リスト</p><ul><li>\<li>@<li>T<li>e<li>m<li>p<li>a<li> </ul><p j>に仮格納し</p><p b>，</p><p p>このあとにコンマ</p><p b>，</p><p d>引数</p><ul><li>#<li>2<li> <li>(</ul><p b>親</p><ul><li>)</ul><p b>，</p><ul><li> </ul><p d>記号</p><ul><li>=<li>=</ul><p b>，</p><p d>引数</p><ul><li>#<li>1<li> <li>(</ul><p b>子</p><ul><li>)<li> </ul><p n>を順次つなげて</p><p b>，</p><p j>新しいリス</p></div>
<div><p n>トとしています</p><p b>．</p></div>
<div><ul><li>7<li> <li>.<li>3<li>.<li>3<li> </ul><p x>リセット命令の再定義まず</p><p b>，</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p r>で取り出した文字列</p><ul><li> <li>S<li>U<li>P<li>C<li>T<li>R<li>=<li>=<li>C<li>T<li>R<li> </ul><p d>から</p><p b>，</p><ul><li>=<li>=</ul><p n>を区切りにして</p><p b>，</p><ul><li>S<li>U<li>P<li>C<li>T<li>R<li> </ul><p b>と</p><ul><li> <li>C<li>T<li>R<li> </ul><p l>を取り出して</p></div>
<div><p b>，</p><p h>それぞれ</p><p b>，</p><ul><li>\<li>d<li>l<li>@<li>p<li>r<li>n<li>t<li> </ul><p b>と</p><ul><li>\<li>d<li>l<li>@<li>s<li>o<li>n<li> </ul><p j>に収めます</p><p b>．</p><p l>分離する命令</p><ul><li>\<li>p<li>@<li>r<li>n<li>t<li>s<li>o<li>n<li> </ul><p j>を作ります</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>p<li>@<li>r<li>n<li>t<li>s<li>o<li>n<li>#<li>1<li>=<li>=<li>#<li>2<li>/<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>d<li>l<li>@<li>p<li>r<li>n<li>t<li>{<li>#<li>1<li>}<li>\<li>g<li>d<li>e<li>f<li>\<li>d<li>l<li>@<li>s<li>o<li>n<li>{<li>#<li>2<li>}<li>}</ul></div>
<div><p j>この命令は</p><p b>，</p><p bm>制御綴の引数処理の常法を利用しています</p><p b>．</p></div>
<div><p b>親</p><ul><li>\<li> <li>P<li>@<li>C<li>N<li>T<li> </ul><p l>と削除リスト</p><ul><li>\<li>@<li>T<li>e<li>m<li>p<li>a<li> <li>(<li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li> </ul><p l>を入れてある</p><ul><li>)<li> </ul><p b>は</p><p b>，</p><p bu>あとで述べるように別のところで設定してあります</p><p b>．</p><ul><li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li> </ul><p b>の</p></div>
<div><p t>再定義は次の通りです</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li>#<li>1<li>{<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0<li> <li>\<li>d<li>e<li>f<li>\<li>@<li>T<li>e<li>m<li>p<li>b<li>{<li>#<li>1<li>}</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>\<li>e<li>m<li>p<li>t<li>y<li> <li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>@<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>\<li>d<li>o<li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>p<li>@<li>r<li>n<li>t<li>s<li>o<li>n<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>/<li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>P<li>@<li>C<li>N<li>T<li>\<li>d<li>l<li>@<li>p<li>r<li>n<li>t<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>i<li>f<li>x<li>\<li>@<li>T<li>e<li>m<li>p<li>b<li>\<li>d<li>l<li>@<li>s<li>o<li>n<li> <li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>@<li>n<li>e<li> <li>\<li>f<li>i<li>\<li>f<li>i<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0<li> <li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>\<li>z<li>@<li> <li>\<li>f<li>i<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><p j>再定義した</p><ul><li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li> </ul><p f>の引数</p><ul><li>#<li>1<li> </ul><p b>は</p><p b>，</p><p j>子カウンタ</p><p b>ー</p><p f>の名称</p><ul><li> <li>(<li>\<li>@<li>T<li>e<li>m<li>p<li>b<li> </ul><p f>に格納</p><ul><li>)<li> </ul><p d>です</p><p b>．</p><ul><li>@<li>f<li>o<li>r<li> </ul><p j>命令により</p><p b>，</p><p j>削除リスト</p><ul><li> <li>(<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>)<li> </ul><p h>を調べて</p></div>
<div><p d>ゆき</p><p b>，</p><p j>親カウンタ</p><p b>ー</p><p f>の名称</p><ul><li> <li>(<li>\<li>@<li>T<li>e<li>m<li>p<li>b<li>)<li> </ul><p l>と子カウンタ</p><p b>ー</p><p f>の名称</p><ul><li> <li>(<li>\<li>P<li>@<li>C<li>N<li>T<li>)<li> </ul><p b>が</p><p b>，</p><p h>分離した</p><ul><li>\<li>d<li>l<li>@<li>p<li>r<li>n<li>t<li> </ul><p b>と</p><ul><li>\<li>d<li>l<li>@<li>s<li>o<li>n<li> </ul><p x>それぞれ一致するかどうか</p></div>
<div><p j>を調べます</p><p b>．</p><p r>一致するとカウンタ</p><p b>ー</p><ul><li>\<li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値を</p><ul><li> <li>1<li> </ul><p l>だけ進めます</p><p b>．</p><p j>この判断は</p><p b>，</p><ul><li>\<li>i<li>f<li>x<li>·<li>·<li>·<li>\<li>f<li>i<li> </ul><p v>の条件文を用いています</p><p b>．</p><p f>最後に</p></div>
<div><p b>，</p><p bi>削除すべき親子関係かどうかの判断は</p><p b>，</p><p h>カウンタ</p><p b>ー</p><ul><li>\<li> <li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p b>が</p><ul><li> <li>0<li> </ul><p bc>のままかどうかで行っています</p><p b>．</p><p j>この判断は</p><p b>，</p><ul><li>\<li> <li>i<li>f<li>n<li>u<li>m<li>·<li>·<li>·<li>\<li>f<li>i</ul></div>
<div><p v>の条件文を用いています</p><p b>．</p></div>
<div><ul><li>4<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>まくろの八衢この</p><ul><li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li> </ul><p f>命令は</p><p b>，</p><p h>次に示す</p><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p l>の定義の中で</p><ul><li>\<li>@<li>e<li>l<li>t<li> </ul><p t>命令に代入しています</p><p b>．</p><p d>この</p></div>
<div><p t>処理のときに必要な親</p><ul><li>\<li>P<li>@<li>C<li>N<li>T<li> </ul><p l>と削除リスト</p><ul><li>\<li>@<li>T<li>e<li>m<li>p<li>a<li> <li>(<li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li> </ul><p l>を入れてある</p><ul><li>)<li> </ul><p h>の設定は</p><p b>，</p><p z>この命令の中で行っています</p><p b>．</p><p h>オリジナ</p></div>
<div><p d>ルの</p><ul><li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p bc>の定義比較するとわかりますが</p><p b>，</p><p bc>異なるのはこの設定の部分です</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>#<li>1<li>{<li>\<li>x<li>d<li>e<li>f<li>\<li>P<li>@<li>C<li>N<li>T<li>{<li>#<li>1<li>}<li> <li>\<li>x<li>d<li>e<li>f<li>\<li>@<li>T<li>e<li>m<li>p<li>a<li>{<li>\<li>d<li>e<li>l<li>@<li>p<li>a<li>r<li>e<li>n<li>t<li>}<li>%</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>\<li>@<li>n<li>e</ul></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>@<li>e<li>l<li>t<li>\<li>@<li>s<li>t<li>p<li>e<li>l<li>t<li> <li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>c<li>l<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}<li>}</ul></div>
<div><ul><li>4<li>7</ul></div>
<div><p b>第</p><ul><li>8</ul><p b>章</p><ul><li> </ul><p bi>相互参照とリスト処理の応用文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p b>旧</p><ul><li>@<li>n<li>i<li>f<li>t<li>y<li> </ul><p b>の</p><ul><li> <li>F<li>P<li>R<li>I<li>N<li>T<li> <li>M<li>e<li>s<li> <li>1<li>1<li> </ul><p b>で</p><p b>，</p><ul><li>\<li>r<li>e<li>f<li> </ul><p r>で参照するカウンタ</p><p b>ー</p><p bm>値を数値化したいという質問がありました</p><p b>．</p></div>
<div><p r>このために作成した</p><ul><li>\<li>R<li>E<li>F<li> </ul><p f>命令を</p><p b>，</p><p bk>前回までに説明して来た事柄を踏まえて</p><p b>，</p><p p>解説をしてみます</p><p b>．</p></div>
<div><ul><li>8<li>.<li>1<li> </ul><p bu>例題マクロ私が書き込んだコメントを次に示します</p><ul><li> <li>(</ul><p f>ただし</p><p b>，</p><p l>説明の都合上</p><p b>，</p><p t>一部変更してあります</p><ul><li>)</ul><p b>．</p></div>
<div><ul><li>0<li>1<li>6<li>6<li>6<li>/<li>0<li>1<li>6<li>6<li>6<li> <li>H<li>B<li>H<li>0<li>0<li>4<li>4<li>5<li> </ul><p h>藤田眞作</p><ul><li> <li>R<li>E<li>:<li>\<li>r<li>e<li>f<li> </ul><p n>の文字を数値化</p></div>
<div><ul><li>(<li>1<li>1<li>)<li> <li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>2<li> <li>1<li>7<li>:<li>0<li>6<li> <li>0<li>1<li>6<li>6<li>3<li> </ul><p l>へのコメント</p></div>
<div><ul><li>%<li>#<li>0<li>1<li>6<li>6<li>3<li> </ul><p h>讃岐さん</p><p b>，</p><p j>こんにちは</p><p b>．</p></div>
<div><ul><li>%</ul><p p>次のはどうですか</p><ul><li> <li>(<li>^<li>_<li>^<li>)</ul><p b>．</p><p by>数値になっていることを確かめるために足し算をするマ</p></div>
<div><ul><li>%</ul><p t>クロを作ってあります</p><p b>．</p><p f>もしも</p><p b>，</p><ul><li>\<li>r<li>e<li>f<li> </ul><p p>の値を使うときは</p><p b>，</p><ul><li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> </ul><p l>がその値です</p><p b>．</p></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>%<li> <li>r<li>e<li>f<li>n<li>o<li> </ul><p h>の足し算</p><ul><li> <li>b<li>y<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>2</ul></div>
<div><ul><li>%<li> <li>\<li>R<li>E<li>F<li>{<li>k<li>e<li>y<li>}</ul></div>
<div><ul><li>%<li> <li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> <li>-<li>-<li>-<li> <li>n<li>e<li>t<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>:<li> <li>u<li>s<li>e<li> <li>t<li>h<li>i<li>s<li> <li>v<li>a<li>l<li>u<li>e<li> <li>f<li>o<li>r<li> <li>y<li>o<li>u<li>r<li> <li>a<li>p<li>p<li>l<li>i<li>c<li>a<li>t<li>i<li>o<li>n</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>1<li>,<li> <li>2<li> <li>.<li>.<li>.<li> <li>=<li>=<li>></ul><p h>そのまま</p></div>
<div><ul><li>%<li> <li>1<li>.<li>1<li>,<li> <li>1<li>.<li>2<li>,<li> <li>.<li>.<li>.<li>=<li>=<li>><li> <li>1<li>,<li> <li>2<li>,<li> <li>.<li>.<li>.</ul></div>
<div><ul><li>%<li> <li>1<li>.<li>2<li>.<li>1<li>,<li> <li>1<li>.<li>2<li>.<li>2<li>.<li>.<li>.<li> <li>=<li>=<li>><li>1<li>,<li> <li>2<li>,<li> <li>.<li>.<li>.</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%</ul><p bc>ピリオドで分離するための命令</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>p<li>e<li>r<li>i<li>o<li>d<li>f<li>o<li>r<li>#<li>1<li>:<li>=<li>#<li>2<li>\<li>d<li>o<li>#<li>3<li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>f<li>o<li>r<li>t<li>m<li>p<li>{<li>#<li>2<li>}<li>\<li>i<li>f<li>x<li>\<li>@<li>f<li>o<li>r<li>t<li>m<li>p<li>\<li>@<li>e<li>m<li>p<li>t<li>y<li> <li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>p<li>f<li>o<li>r<li>l<li>@<li>@<li>p<li>#<li>2<li>.<li>\<li>@<li>n<li>i<li>l<li>.<li>\<li>@<li>n<li>i<li>l<li>\<li>@<li>@<li>#<li>1<li>{<li>#<li>3<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>p<li>f<li>o<li>r<li>l<li>@<li>@<li>p<li>#<li>1<li>.<li>#<li>2<li>.<li>#<li>3<li>\<li>@<li>@<li>#<li>4<li>#<li>5<li>{<li>\<li>d<li>e<li>f<li>#<li>4<li>{<li>#<li>1<li>}<li>\<li>i<li>f<li>x<li> <li>#<li>4<li>\<li>@<li>n<li>n<li>i<li>l<li> <li>\<li>e<li>l<li>s<li>e<li>%</ul></div>
<div><ul><li>#<li>5<li>\<li>d<li>e<li>f<li>#<li>4<li>{<li>#<li>2<li>}<li>\<li>i<li>f<li>x<li> <li>#<li>4<li>\<li>@<li>n<li>n<li>i<li>l<li> <li>\<li>e<li>l<li>s<li>e<li>#<li>5<li>\<li>@<li>p<li>i<li>f<li>o<li>r<li>l<li>@<li>@<li>p<li> <li>#<li>3<li>\<li>@<li>@<li>#<li>4<li>{<li>#<li>5<li>}<li>\<li>f<li>i<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>5<li>)</ul></div>
<div><ul><li>4<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>p<li>i<li>f<li>o<li>r<li>l<li>@<li>@<li>p<li>#<li>1<li>.<li>#<li>2<li>\<li>@<li>@<li>#<li>3<li>#<li>4<li>{<li>\<li>d<li>e<li>f<li>#<li>3<li>{<li>#<li>1<li>}<li>\<li>i<li>f<li>x<li> <li>#<li>3<li>\<li>@<li>n<li>n<li>i<li>l<li>%</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>@<li>n<li>e<li>x<li>t<li>w<li>h<li>i<li>l<li>e<li>=<li>\<li>@<li>f<li>o<li>r<li>n<li>o<li>o<li>p<li> <li>\<li>e<li>l<li>s<li>e<li>%</ul></div>
<div><ul><li>#<li>4<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>l<li>e<li>t<li>\<li>@<li>n<li>e<li>x<li>t<li>w<li>h<li>i<li>l<li>e<li>=<li>\<li>@<li>p<li>i<li>f<li>o<li>r<li>l<li>@<li>@<li>p<li>\<li>f<li>i<li>\<li>@<li>n<li>e<li>x<li>t<li>w<li>h<li>i<li>l<li>e<li>#<li>2<li>\<li>@<li>@<li>#<li>3<li>{<li>#<li>4<li>}<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>%</ul><p h>カウンタ</p><p b>ー</p><p d>新設</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>t<li>m<li>p<li>r<li>e<li>f<li>%</ul><p h>カウンタ</p><p b>ー</p><p d>新設</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>@<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>#<li>1<li>{<li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>=<li>#<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li>}<li>%</ul><p p>文字列をカウンタ</p><p b>ー</p><p f>に設定</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>#<li>1<li>#<li>2<li>\<li>@<li>n<li>i<li>l<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>t<li>t<li>t<li>e<li>m<li>p<li>a<li>{<li>#<li>1<li>}<li>}<li>%</ul><p j>文字列分離</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>a<li>n<li>c<li>e<li>l<li>r<li>e<li>f<li>n<li>o<li>{<li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>t<li>m<li>p<li>r<li>e<li>f<li>=<li>0<li>\<li>r<li>e<li>l<li>a<li>x<li>}<li>%</ul><p h>カウンタ</p><p b>ー</p><p j>をリセット</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o<li>{<li>\<li>t<li>h<li>e<li>\<li>t<li>m<li>p<li>r<li>e<li>f<li> <li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>t<li>m<li>p<li>r<li>e<li>f<li>=<li>0<li>\<li>r<li>e<li>l<li>a<li>x<li>}<li>%</ul><p d>出力</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>R<li>E<li>F<li>#<li>1<li>{<li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>r<li>@<li>#<li>1<li>}<li>%</ul></div>
<div><ul><li>{<li>{<li>\<li>b<li>f<li> <li>?<li>?<li>}<li>\<li>@<li>w<li>a<li>r<li>n<li>i<li>n<li>g<li>{<li>R<li>e<li>f<li>e<li>r<li>e<li>n<li>c<li>e<li> </ul><p b>‘</p><ul><li>#<li>1</ul><p b>’</p><ul><li> <li>o<li>n<li> <li>p<li>a<li>g<li>e<li> <li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> <li>\<li>s<li>p<li>a<li>c<li>e<li> <li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>}<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li>{<li>\<li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li>{<li>r<li>@<li>#<li>1<li>}<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li> <li>\<li>@<li>n<li>i<li>l<li>\<li>n<li>u<li>l<li>l<li>}<li>%</ul></div>
<div><ul><li>\<li>@<li>p<li>e<li>r<li>i<li>o<li>d<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>\<li>t<li>t<li>t<li>e<li>m<li>p<li>a<li>\<li>d<li>o<li>{<li>\<li>x<li>d<li>e<li>f<li>\<li>t<li>t<li>t<li>e<li>m<li>p<li>{<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>}<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>@<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>\<li>t<li>t<li>t<li>e<li>m<li>p<li>}<li>%</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>c<li>a<li>r<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li> <li>\<li>@<li>n<li>i<li>l<li>\<li>n<li>u<li>l<li>l<li>%</ul></div>
<div><ul><li>%<li> <li>\<li>t<li>h<li>e<li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> <li>%<li>n<li>e<li>t<li> <li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>;<li> <li>u<li>s<li>e<li> <li>t<li>h<li>i<li>s<li> <li>v<li>a<li>l<li>u<li>e<li> <li>f<li>o<li>r<li> <li>y<li>o<li>u<li>r<li> <li>a<li>p<li>p<li>l<li>i<li>c<li>a<li>t<li>i<li>o<li>n</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>t<li>m<li>p<li>r<li>e<li>f<li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>C<li>a<li>n<li>c<li>e<li>l<li>r<li>e<li>f<li>n<li>o</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r<li> <li>%<li>e<li>n<li>d<li> <li>S<li>.<li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>2</ul></div>
<div><p h>これらを</p><p b>，</p><p v>プリアンブルに宣言して</p><p b>，</p><p t>次の例文を処理します</p><p b>．</p></div>
<div><ul><li>(</ul><p l>例文はじまり</p><ul><li>)</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>e<li>q<li>n<li>a<li>r<li>r<li>a<li>y<li>}</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>a<li>1<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>a<li>2<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>a<li>3<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>b<li>1<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>b<li>2<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>b<li>3<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>c<li>1<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>c<li>2<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>c<li>3<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>d<li>1<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>d<li>2<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>d<li>3<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>e<li>q<li>n<li>a<li>r<li>r<li>a<li>y<li>}</ul></div>
<div><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>R<li>E<li>F<li>/</ul><p be>で一続きに書けば足してゆきます</p><p b>．</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o<li>/</ul><p j>で書き出し</p></div>
<div><ul><li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>a<li>1<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>d<li>3<li>}<li> <li>=<li> <li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o<li>;</ul></div>
<div><ul><li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>a<li>1<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>a<li>2<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>a<li>3<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>d<li>3<li>}<li> <li>=<li> <li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o<li>;</ul></div>
<div><ul><li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>b<li>1<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>b<li>2<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>b<li>3<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>d<li>3<li>}<li> <li>=<li> <li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o<li>;</ul></div>
<div class=_mark id=mark35><a  href='#toc35'><p b>第</p><ul><li> <li>8<li> </ul><p b>章</p><ul><li>.<li> </ul><p z>相互参照とリスト処理の応用</p><ul><li> <li>4<li>9</ul></a></div>
<div><ul><li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>c<li>1<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>c<li>2<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>c<li>3<li>}<li> <li>+<li> <li>\<li>R<li>E<li>F<li>{<li>e<li>q<li>:<li>d<li>3<li>}<li> <li>=<li> <li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o</ul></div>
<div><ul><li>(</ul><p j>例文おわり</p><ul><li>)</ul></div>
<div><p z>得られる出力は次の通りです</p><p b>．</p></div>
<div><ul><li>(</ul><p l>例文はじまり</p><ul><li>)</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>(<li>8<li>.<li>1<li>)</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>(<li>8<li>.<li>2<li>)</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>(<li>8<li>.<li>3<li>)</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>(<li>8<li>.<li>4<li>)</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>(<li>8<li>.<li>5<li>)</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>(<li>8<li>.<li>6<li>)</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>(<li>8<li>.<li>7<li>)</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>(<li>8<li>.<li>8<li>)</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>(<li>8<li>.<li>9<li>)</ul></div>
<div><ul><li>x<li> <li>=<li> <li>a<li> <li>+<li> <li>b<li> <li>(<li>8<li>.<li>1<li>0<li>)</ul></div>
<div><ul><li>y<li> <li>=<li> <li>c<li> <li>+<li> <li>d<li> <li>(<li>8<li>.<li>1<li>1<li>)</ul></div>
<div><ul><li>z<li> <li>=<li> <li>e<li> <li>+<li> <li>f<li> <li>(<li>8<li>.<li>1<li>2<li>)</ul></div>
<div><ul><li>\<li>R<li>E<li>F<li> </ul><p be>で一続きに書けば足してゆきます</p><p b>．</p><ul><li>\<li>W<li>r<li>i<li>t<li>e<li>r<li>e<li>f<li>n<li>o<li> </ul><p j>で書き出し</p></div>
<div><ul><li>8<li>.<li>1<li> <li>+<li> <li>8<li>.<li>1<li>2<li> <li>=<li> <li>1<li>3<li>;<li> <li>8<li>.<li>1<li> <li>+<li> <li>8<li>.<li>2<li> <li>+<li> <li>8<li>.<li>3<li> <li>+<li> <li>8<li>.<li>1<li>2<li> <li>=<li> <li>1<li>8<li>;<li> <li>8<li>.<li>4<li> <li>+<li> <li>8<li>.<li>5<li> <li>+<li> <li>8<li>.<li>6<li> <li>+<li> <li>8<li>.<li>1<li>2<li> <li>=<li> <li>2<li>7<li>;<li> <li>8<li>.<li>7<li> <li>+<li> <li>8<li>.<li>8<li> <li>+<li> <li>8<li>.<li>9<li> <li>+<li> <li>8<li>.<li>1<li>2<li> <li>=</ul></div>
<div><ul><li>3<li>6<li>(</ul><p j>例文おわり</p><ul><li>)</ul></div>
<div><ul><li>8<li>.<li>2<li> </ul><p v>部分文字列の取得上記の</p><ul><li>\<li>R<li>E<li>F<li> </ul><p r>の定義のポイントは</p><p b>，</p><ul><li>\<li>@<li>p<li>e<li>r<li>i<li>o<li>d<li>f<li>o<li>r<li> </ul><p be>命令を内部で使っていることです</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p></div>
<div><ul><li>\<li>@<li> <li>f<li>o<li>r<li> </ul><p j>命令の定義</p><ul><li> <li>(<li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li>)<li> </ul><p bs>の中のコンマをピリオドに変えただけのものです</p><p b>．</p><p bg>作成した命令を有効にするためには</p><p b>，</p><p j>そのほかに</p></div>
<div><p b>，</p><ul><li>\<li>@<li> <li>p<li>f<li>o<li>r<li>l<li>@<li>@<li>p<li> </ul><p b>と</p><ul><li>\<li>@<li>p<li>i<li>f<li>o<li>r<li>l<li>@<li>@<li>p<li> </ul><p z>を作成する必要がありますが</p><p b>，</p><p f>これも</p><ul><li>\<li>@<li>f<li>o<li>r<li> </ul><p ca>命令の下位命令を今回の目的に合うように小変更したもの</p></div>
<div><p d>です</p><p b>．</p><p cc>これらの命令のメカニズムは理解するのはむずかしいですが</p><p b>，</p><p bc>区切り記号を変更するだけなら</p><p b>，</p><p bc>変更すべきところはすぐに見つ</p></div>
<div><p h>かります</p><p b>．</p></div>
<div><p f>実際に</p><ul><li>\<li>@<li>p<li>e<li>r<li>i<li>o<li>d<li>f<li>o<li>r<li> </ul><p bc>命令を直接に使ってみましょう</p><p b>．</p><p p>処理する文字列は</p><ul><li> <li>1<li>.<li>2<li>.<li>4<li>4<li> </ul><p h>とします</p><p b>．</p><p j>部分文字列</p><ul><li> <li>(</ul><p d>数字</p><ul><li>)<li> </ul><p l>を取り出して</p><p b>，</p><p f>いった</p></div>
<div><p b>ん</p><ul><li>\<li>m<li>e<li>m<li>b<li>e<li>r<li> </ul><p j>に収めます</p><p b>．</p><ul><li>\<li>d<li>o<li> </ul><p r>の次の中括弧の処理</p><ul><li> <li>(</ul><p h>カウンタ</p><p b>ー</p><ul><li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> </ul><p f>に設定</p><ul><li>)</ul></div>
<div><p h>行います</p><p b>．</p><p p>この場合は簡単で</p><p b>，</p><p z>単に等号で結べばよいのです</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>p<li>e<li>r<li>i<li>o<li>d<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>{<li>1<li>.<li>2<li>.<li>4<li>4<li>}<li>\<li>d<li>o<li>{<li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>=<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}</ul></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>/</ul><p d>の値</p><ul><li> <li>(<li>=<li>\<li>t<li>h<li>e<li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>)</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p bg>途中の処理の値は捨てていますので</p><p b>，</p><ul><li>\<li>@<li> <li>p<li>e<li>r<li>i<li>o<li>d<li>f<li>o<li>r<li> </ul><p bk>命令のくり返し処理が終わった時点では</p><p b>，</p><p h>最後の値</p><ul><li> <li>(</ul><p j>この場合は</p><ul><li> <li>4<li>4<li>)<li> </ul><p b>が</p><p b>，</p><p f>カウン</p></div>
<div><p b>タ</p><p b>ー</p><ul><li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> </ul><p bg>に残っているということになります</p><p b>．</p><p h>この値は</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li> </ul><p bg>命令により出力することができます</p><p b>．</p><p x>実際の出力は次のとおりで</p></div>
<div><p b>す</p><p b>．</p></div>
<div><ul><li>5<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p h>カウンタ</p><p b>ー</p><ul><li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> </ul><p d>の値</p><ul><li> <li>(<li>=<li>4<li>4<li>)</ul></div>
<div><ul><li>8<li>.<li>3<li> </ul><p f>参照キ</p><p b>ー</p><p t>と参照番号の受け渡し</p></div>
<div><ul><li>\<li> <li>R<li>E<li>F<li> </ul><p b>は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p><ul><li>\<li>r<li>e<li>f<li> </ul><p t>を変更したものですが</p><p b>，</p><p bk>本質的なものはすべて受け継いでいます</p><p b>．</p><p r>両者に共通な参照キ</p><p b>ー</p><p n>と参照番号の受</p></div>
<div><p n>け渡しの方法は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bs>のこの種のテクニックの特徴がよく現れています</p><p b>．</p><p f>ここで</p><p b>，</p><p bc>徹底的に理解しておきましょう</p><p b>．</p></div>
<div><ul><li>1<li>.<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>の処理時には</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p bc>ファイルが出力されていますが</p><p b>，</p><p j>この中には</p><p b>，</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>l<li>a<li>b<li>e<li>l<li>{<li>e<li>q<li>:<li>d<li>3<li>}<li>{<li>{<li>8<li>.<li>1<li>2<li>}<li>{<li>3<li>}<li>}</ul></div>
<div><p t>などの記述があります</p><p b>．</p><p r>これが上記の数式の</p><ul><li> <li>l<li>a<li>b<li>e<li>l<li> <li>{<li>e<li>q<li>:<li>d<li>3<li>}</ul><p x>に対応する情報の出力です</p><p b>．</p><p r>すぐにわかるように</p><p b>，</p><ul><li>e<li>q<li>:<li>d<li>3<li> </ul><p h>が参照キ</p><p b>ー</p><p b>，</p><ul><li>8<li>.</ul></div>
<div><ul><li>1<li>2<li> </ul><p j>が参照番号</p><p b>，</p><ul><li>3<li> </ul><p d>がペ</p><p b>ー</p><p t>ジ番号になっています</p><p b>．</p><p f>ただし</p><p b>，</p><p r>このマニュアルでは</p><p b>，</p><p j>参照番号は</p><ul><li> <li>8<li>.<li>1<li>2</ul><p b>，</p><p b>ペ</p><p b>ー</p><p h>ジ番号は</p><ul><li> <li>4<li>9<li> </ul><p n>となっています</p></div>
<div><p b>．</p></div>
<div><ul><li>2<li>.<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>処理を複数回行うと</p><p b>，</p><p j>そのたびに</p><ul><li> <li>a<li>u<li>x<li> </ul><p x>ファイルが読み込まれます</p><p b>．</p><p j>このときに</p><p b>，</p><p f>上記の</p></div>
<div><ul><li>\<li> <li>n<li>e<li>w<li>l<li>a<li>b<li>e<li>l<li> </ul><p n>が実行されます</p><p b>．</p><p l>これによって</p><p b>，</p><ul><li>\<li>r<li>@<li>e<li>q<li>:<li>d<li>3<li> </ul><p j>なる制御綴</p><ul><li> <li>(</ul><p cg>数字や記号を含んでいますのでこのままのかたちではありません</p></div>
<div><p b>が</p><p b>，</p><p bg>説明の方便でこのようにしています</p><ul><li>)<li> </ul><p h>が発生し</p><p b>，</p><p p>この内容が文字列</p><ul><li>{<li>8<li>.<li>1<li>2<li>}<li>{<li>3<li>}</ul><p x>となるようになっています</p><p b>．</p></div>
<div><p j>参考のため</p><p b>，</p><p f>実際に</p><ul><li>\<li>r<li>@<li>e<li>q<li>:<li>d<li>3<li> </ul><p z>をここで出力してみましょう</p><p b>．</p><p bw>数字や記号が入った制御綴は通常では使えませんので</p><p b>，</p><ul><li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li> </ul><p f>を使い</p></div>
<div><p d>ます</p><p b>．</p><ul><li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li> </ul><p bc>というのは引数の文字列の頭に</p><ul><li>\</ul><p bg>を付けた制御綴を作成する命令です</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> <li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>r<li>@<li>e<li>q<li>:<li>d<li>3<li>/</ul><p v>に保存されている参照キ</p><p b>ー</p><ul><li> <li>=<li> <li>\<li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li>{<li>r<li>@<li>e<li>q<li>:<li>d<li>3<li>}<li>.</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p n>と入力しますと</p><p b>，</p><p z>次のような出力がえられます</p><p b>．</p><ul><li>(</ul><p b>例</p><ul><li>)<li> <li>\<li>r<li>@<li>e<li>q<li>:<li>d<li>3<li> </ul><p v>に保存されている参照キ</p><p b>ー</p><ul><li> <li>=<li> <li>8<li>.<li>1<li>2<li>4<li>9<li>.</ul></div>
<div><p l>出力のときに</p><p b>，</p><p z>中括弧が消えてしまいますが</p><p b>，</p><ul><li>8<li>.<li>1<li>2<li>.<li>.<li>.<li> </ul><p b>は</p><ul><li>{<li>8<li>.<li>1<li>2<li>}<li>{<li>.<li>.<li>.<li>}</ul><p d>から</p><ul><li> <li>T<li>E<li>X<li> </ul><p bo>の出力処理にしたがって出力されたものです</p><ul><li> <li>(</ul><p f>このマ</p></div>
<div><p l>ニュアルでは</p><p b>，</p><ul><li>.<li>.<li>.<li> </ul><p r>のところは実際のペ</p><p b>ー</p><p f>ジ番号</p><ul><li> <li>4<li>9<li> </ul><p n>が出力されます</p><ul><li>)</ul><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p be>の仕様上仕方のないことですので</p><p b>，</p><p p>我慢してください</p><p b>．</p></div>
<div><ul><li>3<li>.<li> <li>\<li>R<li>E<li>F<li> </ul><p n>の処理の最初に</p></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li>{<li>\<li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li>{<li>r<li>@<li>#<li>1<li>}<li>}<li>%</ul></div>
<div><p r>と定義されています</p><p b>．</p><ul><li>\<li> <li>e<li>d<li>e<li>f<li> </ul><p j>というのは</p><p b>，</p><p bo>引数を展開してから設定するための命令です</p><p b>．</p><p r>上で説明したように</p><p b>，</p><ul><li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li> </ul><p j>というのは</p></div>
<div><p r>引数の文字列の頭に</p><ul><li>\</ul><p bg>を付けた制御綴を作成する命令です</p><p b>．</p><p n>この場合の引数</p><ul><li>#<li>1<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>R<li>E<li>F<li> </ul><p j>命令の引数</p><ul><li> <li>e<li>q<li>:<li>d<li>3<li> </ul><p x>と同じになっていますので</p></div>
<div><p b>，</p><ul><li>\<li>r<li>@<li>e<li>q<li>:<li>d<li>3<li> </ul><p l>という制御綴</p><ul><li> <li>(<li>\<li>r<li>@<li>e<li>q<li>:<li>d<li>3</ul></div>
<div><p h>の内容は</p><p b>，</p><ul><li>{<li> <li>8<li>.<li>1<li>2<li>}<li>{<li>3<li>}<li>)<li> </ul><p n>が作成されます</p><p b>．</p><p f>これが</p><p b>，</p><ul><li>\<li>e<li>d<li>e<li>f<li> </ul><p r>で展開されたのちに</p><p b>，</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>a<li> </ul><p v>に設定されるのですから</p><p b>，</p><p d>結局</p><p b>，</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>a<li> </ul><p b>の</p></div>
<div><p f>内容が</p><ul><li>{<li>8<li>.<li>1<li>2<li>}<li>{<li>3<li>}</ul><p j>となります</p><p b>．</p></div>
<div class=_mark id=mark36><a  href='#toc36'><p b>第</p><ul><li> <li>8<li> </ul><p b>章</p><ul><li>.<li> </ul><p z>相互参照とリスト処理の応用</p><ul><li> <li>5<li>1</ul></a></div>
<div><ul><li>4<li> <li>.<li> <li>\<li>@<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> </ul><p b>は</p><ul><li> <li>2<li> </ul><p bo>個の引数を分離して最初のものだけを残して</p><p b>，</p><ul><li>\<li>t<li>t<li>t<li>e<li>m<li>p<li>a<li> </ul><p bo>に文字列として格納する働きをもつものです</p><p b>．</p><p f>これを</p><ul><li>\<li>@</ul></div>
<div><ul><li>t<li>e<li>m<li>p<li>a<li> </ul><p t>に作用させるわけです</p><p b>．</p><p r>この過程をみるため</p><p b>，</p><p h>擬似的に</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>a</ul></div>
<div><p p>に文字列を収めて</p><p b>，</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li>{<li>{<li>8<li>.<li>1<li>2<li>}<li>{<li>3<li>}<li>}</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li> <li>\<li>@<li>n<li>i<li>l<li>\<li>n<li>u<li>l<li>l</ul></div>
<div><p n>抽出された番号</p><ul><li> <li>(<li>=<li>\<li>t<li>t<li>t<li>e<li>m<li>p<li>a<li>)</ul><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p z>なる処理を行ってみましょう</p><p b>．</p><p r>出力は次の通りです</p><p b>．</p><ul><li> </ul><p n>抽出された番号</p><ul><li> <li>(<li>=<li>8<li>.<li>1<li>2<li>)</ul><p b>．</p></div>
<div><ul><li>5<li>.<li> </ul><p d>この</p><ul><li>\<li>t<li>t<li>t<li>e<li>m<li>p<li>a<li> <li>(</ul><p h>文字列は</p><ul><li> <li>8<li>.<li>1<li>2<li>)<li> </ul><p b>に</p><ul><li>\<li>@<li>p<li>e<li>r<li>i<li>o<li>d<li>f<li>o<li>r<li> </ul><p j>を働かせて</p><p b>，</p><ul><li>\<li>t<li>t<li>t<li>e<li>m<li>p<li> </ul><p l>の内容として</p><p b>，</p><p f>文字列</p><ul><li> <li>1<li>2<li> </ul><p j>を残します</p><p b>．</p><p p>この処理の過程は</p><p b>，</p></div>
<div><p x>前節で詳しく説明しました</p><p b>．</p></div>
<div><ul><li>6<li>.<li> <li>\<li>@<li>@<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> </ul><p l>命令によって</p><p b>，</p><ul><li>\<li>t<li>t<li>t<li>e<li>m<li>p<li> </ul><p f>の内容</p><ul><li> <li>(</ul><p f>文字列</p><ul><li> <li>1<li>2<li>)<li> </ul><p l>を数値化して</p><p b>，</p><p h>カウンタ</p><p b>ー</p><ul><li>\<li>t<li>e<li>m<li>p<li>r<li>e<li>f<li> </ul><p j>に収めます</p><p b>．</p></div>
<div><ul><li>8<li> <li>.<li>4<li> </ul><p l>その他上記の</p><ul><li>\<li>R<li>E<li>F<li> </ul><p r>命令の定義の中には</p><p b>，</p><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d</ul><p b>，</p><ul><li>\<li>@<li>w<li>a<li>r<li>n<li>i<li>n<li>g</ul><p b>，</p><ul><li>\<li>@<li>c<li>a<li>r</ul><p b>，</p><ul><li>\<li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li> </ul><p d>など</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p t>の有用な隠しコマンド</p></div>
<div><p r>がふくまれています</p><p b>．</p><p h>これらは</p><p b>，</p><p be>別の機会に説明することにします</p><p b>．</p></div>
<div></div>
<div><ul><li>5<li>3</ul></div>
<div><p b>第</p><ul><li>9</ul><p b>章</p><ul><li> </ul><p r>補助ファイルの活用</p><ul><li>(<li>1<li>)</ul></div>
<div><p h>文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p n>を使っていると</p><p b>，</p><p di>処理の際にいろいろなファイルが自動発生していることに気がついていらっしゃることでしょう</p><p b>．</p><p f>この中</p></div>
<div><p b>で</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p h>ファイル</p><ul><li> <li>(</ul><p l>補助ファイル</p><ul><li>)<li> </ul><p b>が</p><p b>，</p><p bw>相互参照などを行うために使われているファイルです</p><p b>．</p><p f>今回は</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p v>ファイルの活用を解説し</p></div>
<div><p d>ます</p><p b>．</p></div>
<div><ul><li>9<li>.<li>1<li> </ul><p x>補助ファイルへの書き込み</p></div>
<div><ul><li>a<li>u<li>x<li> <li> </ul><p bc>ファイルを有効に使うためには</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p z>処理の際に発生するカウンタ</p><p b>ー</p><p bs>の値などの出力手段を知っておく必要があります</p><p b>．</p><p b>こ</p></div>
<div><p d>れは</p><p b>，</p><p l>実に簡単です</p><p b>．</p><ul><li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li> </ul><p b>に</p><ul><li> <li>a<li>u<li>x<li> </ul><p t>ファイルの出力ストリ</p><p b>ー</p><p z>ム番号が保存されているので</p><p b>，</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p x>のように指定するだけです</p><p b>．</p><ul><li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li> </ul><p j>はその場で</p><p b>，</p><p bc>すぐに出力するという意味です</p><p b>．</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li> </ul><p z>が出力させるための命令です</p><p b>．</p><p f>中括弧</p></div>
<div><p bi>の中に出力させたい文字列を書きます</p><p b>．</p><ul><li>a<li>u<li>x<li> </ul><p j>ファイルは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p x>処理中に読み込まれるので</p><p b>，</p><p h>ここでは</p><p b>，</p><p n>何もしない命令</p><ul><li>\<li>r<li>e<li>l<li>a<li>x<li> </ul><p b>を</p></div>
<div><ul><li> <li>3<li> </ul><p bc>個続けて出力するようにします</p><p b>．</p><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li> </ul><p b>は</p><p b>，</p><p bq>後続の制御綴を文字列のまま出力する命令です</p><p b>．</p></div>
<div><p z>この命令を書いたファイルが</p><ul><li> <li>t<li>e<li>s<li>t<li>.<li>t<li>e<li>x<li> </ul><p n>であるとします</p><p b>．</p><p l>ファイル名が</p><ul><li> <li>t<li>e<li>s<li>t<li>.<li>t<li>e<li>x<li> </ul><p f>なので</p><p b>，</p><p h>処理後に</p><p b>，</p><ul><li>t<li>e<li>s<li>t<li>.<li>a<li>u<li>x</ul></div>
<div><p p>が発生しています</p><p b>．</p><p f>これを</p><p b>，</p><p h>エディタ</p><p b>ー</p><p be>を使って覗いてみてごらんなさい</p><p b>．</p><ul><li>t<li>e<li>x<li> </ul><p bc>ファイルの内容にもよりますが</p><p b>，</p></div>
<div><ul><li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><p be>のように出力されているはずです</p><p b>．</p><p d>この</p><ul><li> <li>2<li> <li> </ul><p f>行目が</p><p b>，</p><p f>上記の</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li> <li> </ul><p x>命令で書き込んだものです</p><p b>．</p><ul><li>a<li>u<li>x<li> </ul><p z>ファイルに書き込んだ命令は</p><p b>，</p></div>
<div><ul><li>a<li>u<li>x<li> </ul><p bc>ファイルが読み込まれたときに</p><p b>，</p><p l>実行されます</p><p b>．</p><p f>しかし</p><p b>，</p><ul><li>\<li>r<li>e<li>l<li>a<li>x<li> </ul><p x>は何もしない命令ですから</p><p b>，</p><p t>当然何も起こりません</p><p b>．</p></div>
<div><p h>これでは</p><p b>，</p><p x>おもしろくありませんから</p><p b>，</p><ul><li>a<li>u<li>x<li> <li> </ul><p z>ファイルに書き込んだ命令が</p><ul><li> <li>a<li>u<li>x<li> </ul><p bw>ファイルが読み込まれたときに実行される場合を試し</p></div>
<div><p l>てみましょう</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>処理のときにエラ</p><p b>ー</p><p t>になるといけないので</p><p b>，</p><p f>無害の</p></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li> </ul><p v>命令を書き込んでみます</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>6<li>)</ul></div>
<div><ul><li>5<li>4<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li>{</ul><p h>試験出力</p><p b>．</p><p n>ただ今テスト中</p><p b>．</p><ul><li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li> </ul><p f>命令は</p><p b>，</p><p by>ディスプレイに引数に指定した内容を表示する命令です</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>処理中に</p><p b>「</p><p h>試験出力</p><p b>．</p><p n>ただ今テスト中</p><p b>．</p><p b>」</p><p d>がデ</p></div>
<div><p bq>ィスプレイに表示されるのを確かめてください</p><p b>．</p></div>
<div><p f>今度も</p><p b>，</p><p h>発生した</p><ul><li> <li>t<li>e<li>s<li>t<li>.<li>a<li>u<li>x<li> </ul><p b>を</p><p b>，</p><p h>エディタ</p><p b>ー</p><p be>を使って覗いてみてごらんなさい</p><p b>．</p><ul><li>t<li>e<li>x<li> </ul><p bc>ファイルの内容にもよりますが</p><p b>，</p></div>
<div><ul><li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li>{</ul><p h>試験出力</p><p b>．</p><p n>ただ今テスト中</p><p b>．</p><ul><li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>7<li>}</ul><p r>補助ファイルの活用</p><ul><li>}<li>{<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>l<li>o<li>f<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>a<li>d<li>d<li>v<li>s<li>p<li>a<li>c<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>1<li>0<li>p<li>t<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>l<li>o<li>t<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>a<li>d<li>d<li>v<li>s<li>p<li>a<li>c<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>1<li>0<li>p<li>t<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><ul><li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>7<li>.<li>1<li>}</ul><p x>補助ファイルへの書き込み</p><ul><li>}<li>{<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>g<li>d<li>e<li>f<li>\<li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li>{<li>2<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><ul><li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>7<li>.<li>2<li>}</ul><p be>補助ファイルに書き込まれた命令</p><ul><li>}<li>{<li>2<li>}<li>}</ul></div>
<div><p z>などの出力がえられています</p><ul><li> <li>(</ul><p f>これは</p><p b>，</p><p n>本文書ファイル</p><ul><li> <li>t<li>i<li>m<li>a<li>t<li>a<li>0<li>6<li> <li>.<li>t<li>e<li>x<li> </ul><p b>の</p><ul><li> <li>a<li>u<li>x<li> </ul><p n>ファイルの出力</p><p b>．</p><p l>紙面の都合上</p><p b>，</p><p r>適当に行を折り返し</p></div>
<div><p j>てあります</p><ul><li>)</ul><p b>．</p><p h>この中に</p><ul><li> <li>(<li>3<li> </ul><p d>行目</p><ul><li>)</ul><p b>，</p><p f>確かに</p><p b>，</p></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li>{</ul><p h>試験出力</p><p b>．</p><p n>ただ今テスト中</p><p b>．</p><ul><li>}</ul></div>
<div><p r>が出力されています</p><p b>．</p></div>
<div><p h>もう一度</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>処理をしてください</p><p b>．</p><p f>今度は</p><p b>，</p><p h>処理中に</p><p b>「</p><p h>試験出力</p><p b>．</p><p n>ただ今テスト中</p><p b>．</p><p b>」</p><p b>が</p><ul><li> <li>2<li> </ul><p bc>回ディスプレイに表示されます</p><p b>．</p><ul><li>\</ul></div>
<div><ul><li>t<li>y<li>p<li>e<li>o<li>u<li>t<li> <li> </ul><p f>命令は</p><p b>，</p><ul><li>t<li>e<li>s<li>t<li>.<li>a<li>u<li>x<li> </ul><p bi>が読み込まれたときに有効になります</p><p b>．</p><p f>つまり</p><p b>，</p><p j>この例から</p><p b>，</p><ul><li>t<li>e<li>s<li>t<li>.<li>a<li>u<li>x<li> </ul><p b>が</p><ul><li> <li>2<li> </ul><p x>回読み込まれるのがわかり</p></div>
<div><p d>ます</p><p b>．</p><p bk>ディスプレイに表示されるログの中にも</p><p b>，</p><ul><li>(<li>t<li>e<li>s<li>t<li>.<li>a<li>u<li>x<li>)</ul></div>
<div><p b>が</p><ul><li> <li>2<li> </ul><p ck>回読み込まれていることが示されていますので注意してご覧ください</p><p b>．</p></div>
<div><p h>ちなみに</p><p b>，</p><p f>上記の</p><ul><li> <li>a<li>u<li>x<li> <li> </ul><p t>ファイルの出力のうち</p><p b>，</p><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}</ul><p b>は</p><p b>，</p><p l>目次の項目を</p><ul><li> <li>t<li>o<li>c<li> </ul><p h>ファイル</p><ul><li> <li>(</ul><p j>この場合は</p><ul><li> <li>t<li>e<li>s<li>t<li>.<li>t<li>o<li>c<li>)<li> </ul><p h>に出力す</p></div>
<div><p p>るためのものです</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>\<li> <li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p bm>命令を宣言したときにのみ有効になります</p><p b>．</p><p p>これらについては</p><p b>，</p><p r>別の機会に説明しま</p></div>
<div><p b>す</p><p b>．</p></div>
<div><ul><li>9<li> <li>.<li>2<li> </ul><p bo>補助ファイルに書き込まれた命令もうすこし</p><p b>，</p><p bc>実用的なことをしてみましょう</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>や</p><ul><li>\<li>r<li>e<li>f<li> </ul><p b>で</p><p b>，</p><p j>相互参照を</p></div>
<div><p p>行っていることは</p><p b>，</p><p p>ご存じの通りです</p><p b>．</p><p h>どうして</p><p b>，</p><p bk>こんな複雑なことができるのだろうかと</p><p b>，</p><p bg>一度は疑問をもたれたことでしょう</p><p b>．</p><p b>す</p></div>
<div><p d>でに</p><p b>，</p><p bc>前の章にも一部説明しましたが</p><p b>，</p><p bm>この説明を聞いても実際は理解することは</p><p b>，</p><p v>むずかしいとおもいます</p><p b>．</p></div>
<div><p h>本節では</p><p b>，</p><p bu>相互参照のメカニズムの基本的な事項を知るために</p><p b>，</p><p bs>実例を示しながら詳しく調べてゆくことにします</p><p b>．</p><p d>まず</p><p b>，</p><p j>次のような</p></div>
<div><p f>命令を</p><p b>，</p><p bm>文書の適当なところに書いておきましょう</p><p b>．</p></div>
<div class=_mark id=mark37><a  href='#toc37'><p b>第</p><ul><li> <li>9<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>1<li>)<li> <li>5<li>5</ul></a></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li>}<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li>{<li>?<li>?<li>}<li>}<li>{<li>}</ul></div>
<div><ul><li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>g<li>d<li>e<li>f<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>\<li>c<li>o<li>u<li>n<li>t<li>0<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li> <li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>A<li>}<li>{<li>B<li>}<li>{<li>C<li>}</ul><p j>なる命令は</p><p b>，</p><ul><li>\<li>A<li> </ul><p bo>なる制御綴が定義されていないときには処理</p><ul><li> <li>B<li> </ul><p f>を行い</p><p b>，</p><p z>定義されているときには処理</p><ul><li> <li>C<li> </ul><p b>を</p></div>
<div><p v>行う機能をもっています</p><p b>．</p><p h>ここでは</p><p b>，</p><ul><li>\<li> <li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li> </ul><p bi>なる命令の有無をチェックしています</p><p b>．</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li> </ul><p l>命令の書式は</p><p b>，</p><p r>すでに説明しました</p></div>
<div><p b>．</p><ul><li> </ul><p l>初出の命令は</p><p b>，</p><ul><li>\<li> <li>n<li>u<li>m<li>b<li>e<li>r<li> </ul><p d>です</p><p b>．</p><p f>これは</p><p b>，</p><p h>カウンタ</p><p b>ー</p><p h>レジスタ</p><p b>ー</p><ul><li> <li>(</ul><p h>カウンタ</p><p b>ー</p><p x>を保存するためのレジスタ</p><p b>ー</p><ul><li>)<li> </ul><p t>の値をアラビア数字で</p></div>
<div><p z>出力する機能をもっています</p><p b>．</p><ul><li>\<li>c<li>o<li>u<li>n<li>t<li>0<li> </ul><p j>はカウンタ</p><p b>ー</p><p h>レジスタ</p><p b>ー</p><p b>で</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p d>では</p><p b>，</p><p h>現在のペ</p><p b>ー</p><p be>ジを保存している特別なものです</p><p b>．</p></div>
<div><p f>ここで</p><p b>，</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p h>現在のペ</p><p b>ー</p><p f>ジ番号</p><ul><li> <li>=<li> <li>\<li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e</ul></div>
<div><p r>と書いてみましょう</p><p b>．</p><p t>次の出力がえられます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p h>現在のペ</p><p b>ー</p><p f>ジ番号</p><ul><li> <li>=<li> <li>?<li>?</ul></div>
<div><ul><li>1<li> <li> </ul><p f>回目は</p><ul><li>\<li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li> </ul><p v>が定義されていないので</p><p b>，</p><p be>このような出力がえられることは</p><p b>，</p><p r>おわかりと思います</p><p b>．</p><p p>処理後に発生した</p><ul><li> <li>a<li>u<li>x<li> </ul><p d>ファ</p></div>
<div><p f>イルを</p><p b>，</p><p h>エディタ</p><p b>ー</p><p be>を使って覗いてみてごらんなさい</p><p b>．</p><p j>出力の中に</p><p b>，</p><p j>次のような</p></div>
<div><ul><li>1<li> <li> </ul><p p>行があるはずです</p><ul><li> <li>(</ul><p b>ペ</p><p b>ー</p><p h>ジ番号は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>処理によって</p><p b>，</p><p t>異なることもあります</p><ul><li>)</ul><p b>．</p><p d>上の</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li> </ul><p bc>文の引数の内容と比較してみれ</p></div>
<div><p b>ば</p><p b>，</p><p t>一層理解が深まります</p><p b>．</p></div>
<div><ul><li>\<li>g<li>d<li>e<li>f<li>\<li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li>{<li>5<li>5<li>}</ul></div>
<div><p r>ここに書き込まれた</p><ul><li>\<li>g<li>d<li>e<li>f<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>d<li>e<li>f<li> </ul><p f>の略で</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p co>ファイルのそとでもこの定義が有効になるようにする機能をもっています</p><p b>．</p></div>
<div><p h>この結果</p><p b>，</p><ul><li>2<li> </ul><p f>回目の</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>処理以降は</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p bk>ファイルのこの命令が実行されますので</p><p b>，</p><p t>次の出力がえられます</p><p b>．</p></div>
<div><ul><li>(</ul><p b>例</p><ul><li>)<li> </ul><p h>現在のペ</p><p b>ー</p><p f>ジ番号</p><ul><li> <li>=<li> <li>5<li>5</ul></div>
<div></div>
<div><ul><li>5<li>7</ul></div>
<div><p b>第</p><ul><li>1<li>0</ul><p b>章</p><ul><li> </ul><p r>補助ファイルの活用</p><ul><li>(<li>2<li>)</ul></div>
<div><p h>文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><ul><li>1<li>0<li>.<li>1<li> </ul><p b>ペ</p><p b>ー</p><p l>ジ番号の工夫</p></div>
<div><ul><li>1<li>0<li> <li>.<li>1<li>.<li>1<li> </ul><p t>第一案通常のスタイル</p><ul><li> <li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> </ul><p h>などでは</p><p b>，</p><p b>ペ</p><p b>ー</p><p h>ジ番号は</p><ul><li> <li>1<li>,<li> <li>2<li>,<li> <li>.<li>.<li>.<li> </ul><p t>のように出力されます</p><p b>．</p><p j>これを総ペ</p><p b>ー</p><p b>ジ</p><ul><li> <li>(</ul><p h>たとえば</p><ul><li> <li>2<li>5</ul></div>
<div><p b>ペ</p><p b>ー</p><p h>ジとする</p><ul><li>)<li> </ul><p h>を添えて</p><ul><li>,<li> <li>1<li>/<li>2<li>5<li>,<li> <li>2<li>/<li>2<li>5<li>,<li> <li>.<li>.<li>.<li> </ul><p bg>のように出力したいことがあります</p><p b>．</p><p h>この場合</p><p b>，</p><p d>総ペ</p><p b>ー</p><p be>ジの情報を獲得する必要がありま</p></div>
<div><p b>す</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p by>ファイルへの書き込みの手法で解決することができます</p><p b>．</p></div>
<div><p bi>次に完成したマクロと例文を示します</p><p b>．</p></div>
<div><ul><li>%<li>t<li>e<li>s<li>t<li>1<li>a<li>.<li>t<li>e<li>x<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>?<li>?<li>}<li>}<li>{<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>g<li>d<li>e<li>f<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>\<li>c<li>o<li>u<li>n<li>t<li>0<li>}<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>=<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>\<li>a<li>r<li>a<li>b<li>i<li>c<li>{<li>p<li>a<li>g<li>e<li>}<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>%</ul><p d>例文</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>a<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>b<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>c<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>d<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>e<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>f<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>g<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>h<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>i</ul></div>
<div><ul><li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>j<li> <li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p f>これを</p><ul><li> <li>t<li>e<li>s<li>t<li>1<li>a<li>.<li>t<li>e<li>x<li> </ul><p j>と名付けて</p><p b>，</p><p f>実際に</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p t>処理してみてください</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>を処理したときに</p><p b>，</p><ul><li>a<li>u<li>x</ul></div>
<div><p n>ファイルをみて</p><p b>，</p><p bw>何が書き込まれているか確かめるようにしてください</p><p b>．</p></div>
<div><p be>上記のマクロのを説明しましょう</p><p b>．</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li> </ul><p v>命令が肝心なものですが</p><p b>，</p><p f>これは</p><p b>，</p><p z>前回説明したことの応用です</p><p b>．</p><p j>この中には</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>w<li>r<li>i<li>t<li>e<li> </ul><p t>命令が使われています</p><p b>．</p><p be>その引数に書いてあることのうち</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p d>では</p><p b>，</p></div>
<div><p h>現在のペ</p><p b>ー</p><p h>ジ番号を</p><ul><li>\<li>c<li>o<li>u<li>n<li>t<li>0<li> </ul><p n>というカウンタ</p><p b>ー</p><p h>レジスタ</p><p b>ー</p><p t>に保存していることは</p><p b>，</p><p n>前に述べました</p><p b>．</p><p f>これを</p><ul><li>\<li>n<li>u<li>m<li>b<li>e<li>r<li> </ul><p p>命令で出力すると</p></div>
<div><p b>，</p><p b>ペ</p><p b>ー</p><p bi>ジ番号がアラビア数字で出力されます</p><p b>．</p><ul><li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>·<li>·<li>·<li>\<li>f<li>i<li> </ul><p j>という条件</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>7<li>)</ul></div>
<div><ul><li>5<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>まくろの八衢文は</p><p b>，</p><p by>補助ファイル類を発生させるのスイッチになっています</p><p b>．</p><p n>これについては</p><p b>，</p><p l>のちほど触れ</p></div>
<div><p n>ることにします</p><p b>．</p></div>
<div><p h>現在のペ</p><p b>ー</p><p v>ジ番号を出力する方法は</p><p b>，</p><ul><li>\<li> <li>C<li>u<li>r<li>r<li>P<li>a<li>g<li>e<li> <li> </ul><p bc>命令の作成の項で説明しました</p><p b>．</p><p bi>この類推ですぐわかるとおもいますが</p><p b>，</p><ul><li>\<li> <li>e<li>n<li>d<li> <li>{<li> </ul></div>
<div><ul><li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li> <li>}</ul><p r>が実行されたときに</p><p b>，</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li> </ul><p bc>命令が実行されるようにすれば</p><p b>，</p><p f>最終ペ</p><p b>ー</p><p d>ジが</p><ul><li> <li>a<li>u<li>x<li> </ul><p bc>ファイルに書き込まれるように</p></div>
<div><p h>なります</p><p b>．</p><p f>内部の</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li> </ul><p be>命令の引数をみるとわかるように</p><p b>，</p><p h>たとえば</p><p b>，</p><p d>総ペ</p><p b>ー</p><p f>ジ数が</p><ul><li> <li>2<li>5<li> </ul><p b>ペ</p><p b>ー</p><p j>ジの場合は</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p j>ファイルに</p></div>
<div><ul><li>\<li>g<li>d<li>e<li>g<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>2<li>5<li>}</ul></div>
<div><p bi>のように出力されることがわかります</p><p b>．</p><p f>実際に</p><p b>，</p><ul><li>t<li>e<li>s<li>t<li>1<li>a<li> <li>.<li>t<li>e<li>x<li> </ul><p f>を一度</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p n>処理したあとで</p><p b>，</p><p v>出力された補助ファイル</p><ul><li> <li>(<li>t<li>e<li>s<li>t<li>1<li>a<li>.</ul></div>
<div><ul><li>a<li>u<li>x<li>)<li> </ul><p r>をみて確かめること</p><p b>．</p><p f>これで</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p bc>ファイルが読み込まれたときに</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li> </ul><p l>の内容として</p><p b>，</p><ul><li>2<li>5<li> </ul><p z>が保存されることになります</p></div>
<div><p b>．</p></div>
<div><p d>さて</p><p b>，</p><ul><li>\<li> <li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul><p r>が実行されたときに</p><p b>，</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li> </ul><p ce>命令が実行されるようにするにはどうしたらよいのでしょうか</p><p b>．</p><p d>まず</p><p b>，</p></div>
<div><p d>元の</p><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}<li> <li>(</ul><p f>これは</p><p b>，</p><ul><li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li> </ul><p be>として定義されていることに注意</p><ul><li>)<li> </ul><p v>を一時保存しておきます</p><p b>．</p></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>=<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t</ul></div>
<div><p h>その上で</p><p b>，</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li> </ul><p n>命令を追加して</p><p b>，</p><p j>次のように</p><p b>，</p><p l>再定義します</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p r>この再定義の手法は</p><p b>，</p><p z>応用範囲の広いものですから</p><p b>，</p><p z>おぼえておくと役に立ちます</p><p b>．</p></div>
<div><p n>上記の方法では</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> </ul><p h>の出力は</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> </ul><p x>を再定義してありますので</p><p b>，</p><p f>もとの</p><ul><li> <li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> </ul><p bi>スタイルのものと同じではありません</p></div>
<div><p b>．</p><p h>たとえば</p><p b>，</p><p n>文中での参照は</p><p b>「</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> </ul><p b>ペ</p><p b>ー</p><p b>ジ</p><p b>」</p><p l>としたときに</p><p b>「</p><ul><li>1<li>/<li>2<li>5<li> </ul><p b>ペ</p><p b>ー</p><p b>ジ</p><p b>」</p></div>
<div><p z>などと出力されてしまいます</p><p b>．</p><p r>上記の例文の最終ペ</p><p b>ー</p><p d>ジに</p><ul><li>\<li> <li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> </ul><p r>としてありますので</p><p b>，</p><p bm>出力がこの形式になっていることを確かめ</p></div>
<div><p j>てください</p><p b>．</p><p d>また</p><p b>，</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p p>を宣言した場合も</p><p b>，</p><p r>出力される目次のペ</p><p b>ー</p><p h>ジ番号は</p><p b>，</p><p bg>やはりこの形式になってしまいます</p><p b>．</p></div>
<div><ul><li>1<li>0<li>.<li>1<li>.<li>2<li> </ul><p h>第二案柱</p><ul><li> <li>(</ul><p f>ヘッダ</p><p b>ー</p><ul><li>)<li> </ul><p d>や脚</p><ul><li> <li>(</ul><p f>フッタ</p><p b>ー</p><ul><li>)<li> </ul><p f>へのペ</p><p b>ー</p><p n>ジ番号の出力は</p><p b>，</p><p b>「</p><ul><li>1<li>/<li>2<li>5</ul><p b>」</p><p r>のようにしておいて</p><p b>，</p><p n>文中での参照は</p></div>
<div><p b>「</p><ul><li>\<li> <li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> </ul><p b>ペ</p><p b>ー</p><p b>ジ</p><p b>」</p><p l>としたときに</p><p b>「</p><ul><li>1<li> </ul><p b>ペ</p><p b>ー</p><p b>ジ</p><p b>」</p><p h>などとし</p><p b>，</p><p d>また</p><p b>，</p><p t>目次への出力も該当ペ</p><p b>ー</p><p bc>ジのみの出力としたい場合には</p><p b>，</p><p h>どうすれ</p></div>
<div><p b>ば</p><ul><li> </ul><p p>よいのでしょうか</p><p b>．</p><p f>これが</p><p b>，</p><p l>普通の方法の</p><ul><li> </ul><p v>ようにおもわれますので</p><p b>，</p><p n>すこしむずかし</p><ul><li> </ul><p h>いですが</p><p b>，</p><p r>挑戦してみましょう</p><p b>．</p><p f>方針は</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> </ul><p t>の定義はオリジナルの</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>ののままにして</p><p b>，</p></div>
<div><p bg>他の部分で変更を実現することです</p><p b>．</p><p bi>次に完成したマクロと例文を示します</p><p b>．</p></div>
<div><ul><li>%<li>t<li>e<li>s<li>t<li>2<li>.<li>t<li>e<li>x<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%<li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>%<li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>b<li>o<li>o<li>k<li>}</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>r<li>e<li>p<li>o<li>r<li>t<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>?<li>?<li>}<li>}<li>{<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>g<li>d<li>e<li>f<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>\<li>c<li>o<li>u<li>n<li>t<li>0<li>}<li>}<li>\<li>f<li>i<li>}</ul></div>
<div class=_mark id=mark38><a  href='#toc38'><p b>第</p><ul><li> <li>1<li>0<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>補助ファイルの活用</p><ul><li> <li>(<li>2<li>)<li> <li>5<li>9</ul></a></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>=<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>\<li>e<li>m<li>p<li>t<li>y<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>{<li>\<li>r<li>m<li>\<li>h<li>f<li>i<li>l<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>h<li>f<li>i<li>l<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>o<li>d<li>d<li>h<li>e<li>a<li>d<li>\<li>e<li>m<li>p<li>t<li>y<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>h<li>e<li>a<li>d<li>{<li>\<li>r<li>m<li>\<li>h<li>f<li>i<li>l<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>e<li>v<li>e<li>n<li>h<li>a<li>e<li>d<li>\<li>e<li>m<li>p<li>t<li>y<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>e<li>v<li>e<li>n<li>h<li>e<li>a<li>d<li>{<li>\<li>r<li>m<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>h<li>f<li>i<li>l<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>%</ul><p d>例文</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>a<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>b<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>c<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>d<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>e<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>f<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>g<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>h<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>i</ul></div>
<div><ul><li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>j<li> <li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p f>これを</p><ul><li> <li>t<li>e<li>s<li>t<li>2<li>.<li>t<li>e<li>x<li> </ul><p j>と名付けて</p><p b>，</p><p f>実際に</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p t>処理してみてください</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>を処理したときに</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p n>ファイルをみて</p><p b>，</p><p f>何が書</p></div>
<div><p bq>き込まれているか確かめるようにしてください</p><p b>．</p></div>
<div><p d>さて</p><p b>，</p><p p>マクロの解説です</p><p b>．</p><ul><li>\<li> <li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li> </ul><p bc>のところは前項と同じですので</p><p b>，</p><p be>後半の部分のみを説明しましょう</p><p b>．</p><p b>柱</p><ul><li> <li>(</ul><p f>ヘッダ</p><p b>ー</p><ul><li>)<li> </ul><p d>や脚</p></div>
<div><ul><li>(</ul><p f>フッタ</p><p b>ー</p><ul><li>)<li> <li> </ul><p r>に出力するときのみ</p><p b>「</p><ul><li>1<li>/<li>2<li>5</ul><p b>」</p><p z>などとする方法を採りますが</p><p b>，</p><p bq>どこを直したらよいのか調べる必要があります</p><p b>．</p><p j>このような</p></div>
<div><p p>ときに肝心なのは</p><p b>，</p><ul><li>(<li> <li>1<li>)<li> <li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>.<li> <li>s<li>t<li>y<li> </ul><p ca>などのスタイルファイルで該当のところを見つけることと</p><ul><li> <li>(<li>2<li>)<li> </ul><p z>目星をつけた制御綴の定義を</p></div>
<div><ul><li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li> <li>(<li>L<li>A<li>T<li>E<li>X<li> </ul><p n>の基本マクロ集</p><p b>．</p><p f>通常は</p><ul><li>\<li>t<li>e<li>x<li>\<li>m<li>a<li>c<li>r<li>o<li>s<li> </ul><p j>デレクトリ</p><p b>ー</p><p j>の中にある</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><ul><li>l<li>a<li>t<li>e<li>x<li>.<li>l<li>t<li>x<li> </ul><p f>が該当</p><ul><li>)<li> </ul><p l>で見つけるこ</p></div>
<div><p f>とです</p><p b>．</p></div>
<div><p h>これには</p><p b>，</p><p t>かなり経験が必要です</p><p b>．</p><p ca>まあ最初は試行錯誤でいろいろと試みるしかないでしょう</p><p b>．</p></div>
<div><p b>ケ</p><p b>ー</p><p j>ススタディ</p><p b>ー</p><p f>として</p><p b>，</p><p h>具体的に</p><p b>，</p><p z>この手順を行ってみましょう</p><p b>．</p><p z>スタイルファイルをエディタ</p><p b>ー</p><p h>で開いて</p><p b>，</p><p t>最後尾をみてください</p></div>
<div><p b>．</p><ul><li>\<li>p<li>s<li>@<li>p<li>l<li>a<li>i<li>n<li> <li>(<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>.<li>s<li>t<li>y<li> </ul><p b>と</p><ul><li> <li>j<li>r<li>e<li>p<li>o<li>r<li>t<li>.<li>s<li>t<li>y<li>)<li> </ul><p b>や</p><ul><li>\<li>p<li>s<li>@<li>h<li>e<li>a<li>d<li>i<li>n<li>g<li> <li>(<li>j<li>b<li>o<li>o<li>k<li>.<li>s<li>t<li>y<li>)<li> </ul><p x>が宣言されているはずです</p><p b>．</p><p f>これが</p><p b>，</p><p r>柱や脚の出力を決め</p></div>
<div><p t>るための命令なのです</p><p b>．</p><ul><li>\<li>p<li>s<li>@<li>p<li>l<li>a<li>i<li>n<li> </ul><p h>の定義は</p><p b>，</p><ul><li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x</ul></div>
<div><p bq>というマクロファイルの中で宣言されています</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>p<li>s<li>@<li>p<li>l<li>a<li>i<li>n<li>{<li>\<li>l<li>e<li>t<li>\<li>@<li>m<li>k<li>b<li>o<li>t<li>h<li>\<li>@<li>g<li>o<li>b<li>b<li>l<li>e<li>t<li>w<li>o</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>h<li>e<li>a<li>d<li>{<li>}<li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>{<li>\<li>r<li>m<li>\<li>h<li>f<li>i<li>l<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>h<li>f<li>i<li>l<li>}<li>\<li>d<li>e<li>f<li>\<li>@<li>e<li>v<li>e<li>n<li>h<li>e<li>a<li>d<li>{<li>}<li>\<li>l<li>e<li>t<li>\<li>@<li>e<li>v<li>e<li>n<li>f<li>o<li>o<li>t<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>}</ul></div>
<div><ul><li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> <li> </ul><p p>スタイルなどでは</p><p b>，</p><p b>脚</p><ul><li> <li>(</ul><p f>フッタ</p><p b>ー</p><ul><li>)<li> </ul><p d>にペ</p><p b>ー</p><p f>ジ番号</p><ul><li> <li>(</ul><p h>ノンブル</p><ul><li>)<li> <li> </ul><p x>が中央揃えで出力されます</p><p b>．</p><p p>この出力の仕様は</p><p b>，</p><ul><li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t</ul></div>
<div><p bg>に収められていることがわかります</p><ul><li> <li>(</ul><p t>中央揃えの決まり文句</p><p b>，</p><p h>すなわち</p><p b>，</p><p f>二つの</p><ul><li>\<li>h<li>f<li>i<li>l</ul></div>
<div><p b>で</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li> </ul><p x>を挟んでいるところに注目</p><ul><li>)</ul><p b>．</p><p j>したがって</p><p b>，</p><p bk>この部分を直せばよいことがわかります</p><p b>．</p></div>
<div><ul><li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> <li>.<li>s<li>t<li>y<li> </ul><p j>だけでなく</p><p b>，</p><p bm>ほかのスタイルでも使えるようにするには</p><p b>，</p><ul><li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li> </ul><p b>が</p><p b>，</p><p b>空</p><ul><li> <li>(<li>\<li>e<li>m<li>p<li>t<li>y<li>)<li> </ul><p x>でないかどうかを判断して</p><p b>，</p><p b>処</p></div>
<div><p p>理を分岐させます</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>\<li>i<li>f<li>x<li> </ul><p z>文を利用して実現しています</p><p b>．</p><p be>中央揃えの決まり文句のところを</p></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>\<li>e<li>m<li>p<li>t<li>y<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>{<li>\<li>r<li>m<li>\<li>h<li>f<li>i<li>l<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>h<li>f<li>i<li>l<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>6<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bc>まくろの八衢のように変えます</p><p b>．</p><p f>これで</p><p b>，</p><p t>中央揃えでノンブルを</p><ul><li> <li>1<li>/<li>2<li>5<li> </ul><p bi>のように出力できることがおわかりで</p></div>
<div><p f>しょう</p><p b>．</p><p l>ノンブルが柱</p><ul><li> <li>(</ul><p f>ヘッダ</p><p b>ー</p><ul><li>)<li> </ul><p bi>に現れるときも同様の方法をとります</p><p b>．</p><p h>すなわち</p><p b>，</p><p j>この場合は</p><p b>，</p><ul><li>\<li>@<li>o<li>d<li>d<li>h<li>e<li>a<li>d<li> </ul><p b>と</p><ul><li>\<li>@<li>e<li>v<li>e<li>n<li>h<li>e<li>a<li>d</ul></div>
<div><p h>について</p><p b>，</p><p bg>空でないときに再定義するわけです</p><p b>．</p></div>
<div><p bm>スタイルファイルを新しく作成する場合は</p><p b>，</p><p bi>このような一時凌ぎの方法ではなくて</p><p b>，</p><p f>正式に</p><ul><li>\<li>p<li>s<li>@<li>p<li>l<li>a<li>i<li>n</ul></div>
<div><p bm>に相当する命令を作るのがよいと思います</p><p b>．</p><p h>たとえば</p><p b>，</p><p z>次の例が参考になるでしょう</p><p b>．</p></div>
<div><ul><li>%<li>t<li>e<li>s<li>t<li>3<li>.<li>t<li>e<li>x<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%</ul><p x>スタイルファイルに入れる</p></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>?<li>?<li>}<li>}<li>{<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>g<li>d<li>e<li>f<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>\<li>c<li>o<li>u<li>n<li>t<li>0<li>}<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>=<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>p<li>s<li>@<li>t<li>o<li>t<li>a<li>l<li>p<li>a<li>g<li>e<li>s<li>t<li>y<li>l<li>e<li>{<li>\<li>l<li>e<li>t<li>\<li>@<li>m<li>k<li>b<li>o<li>t<li>h<li>\<li>@<li>g<li>o<li>b<li>b<li>l<li>e<li>t<li>w<li>o</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>h<li>e<li>a<li>d<li>{<li>}<li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>{<li>\<li>r<li>m<li>\<li>h<li>f<li>i<li>l<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>h<li>f<li>i<li>l<li>}<li>\<li>d<li>e<li>f<li>\<li>@<li>e<li>v<li>e<li>n<li>h<li>e<li>a<li>d<li>{<li>}<li>\<li>l<li>e<li>t<li>\<li>@<li>e<li>v<li>e<li>n<li>f<li>o<li>o<li>t<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>}</ul></div>
<div><ul><li>\<li>p<li>s<li>@<li>t<li>o<li>t<li>a<li>l<li>p<li>a<li>g<li>e<li>s<li>t<li>y<li>l<li>e</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>%</ul><p d>例文</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>a<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>b<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>c<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>d<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>e<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>f<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>g<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>h<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>i</ul></div>
<div><ul><li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>j<li> <li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p f>新しく</p><ul><li>\<li>p<li>s<li>@<li>t<li>o<li>t<li>a<li>l<li>p<li>a<li>g<li>e<li>s<li>t<li>y<li>l<li>e<li> </ul><p r>命令を定義しておき</p><p b>，</p><p ca>これをスタイルファイルの最後尾などで宣言するわけです</p><p b>．</p></div>
<div><ul><li>1<li>0<li>.<li>1<li>.<li>3<li> </ul><p r>そのほかの方法総ペ</p><p b>ー</p><p t>ジ数の取得に関しては</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>f<li> </ul><p bc>を使う方法も報告されています</p><p b>．</p><p l>たとえば岩熊</p><p b>・</p><p f>古川の</p></div>
<div><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> </ul><p bg>のマクロやスタイルファイルの利用</p><p b>」</p><p d>の第</p><ul><li> <li>3<li>.<li>4<li> </ul><p be>項に詳しく説明されていますので</p><p b>，</p><p p>参照してください</p><p b>．</p><p r>本項の方法と比較検</p></div>
<div><p h>討すると</p><p b>，</p><p cc>マクロ作成の技術をさらに高めるのに役に立つとおもいます</p><p b>．</p></div>
<div><ul><li>6<li>1</ul></div>
<div><p b>第</p><ul><li>1<li>1</ul><p b>章</p><ul><li> </ul><p bi>スタイルファイルの仕立て方文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li>2<li> <li>.<li>0<li>9<li> </ul><p j>の時代には</p><p b>，</p><p bm>オプションスタイルと呼ばれていましたが</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>になってからパッケ</p><p b>ー</p><p bc>ジファイルと呼ばれるようにな</p></div>
<div><p j>っています</p><p b>．</p><p h>ここでは</p><p b>，</p><p f>拡張子</p><ul><li>.<li> <li>s<li>t<li>y<li> </ul><p j>にちなんで</p><p b>，</p><p bi>スタイルファイルと呼ぶことにします</p><p b>．</p><p bm>いろいろな機能をもったスタイルファイル</p></div>
<div><p p>が出回っています</p><p b>．</p><p p>自作のマクロでも</p><p b>，</p><p x>汎用性がありそうなものは</p><p b>，</p><p cc>スタイルファイルとしておけば便利に使えるようになります</p><p b>．</p><p b>手</p></div>
<div><p f>順はは</p><p b>，</p><p p>きわめて簡単です</p><p b>．</p></div>
<div><ul><li>1<li>1<li>.<li>1<li> </ul><p bc>スタイルファイルの登録と使用</p></div>
<div><ul><li>1<li>1<li>.<li>1<li>.<li>1<li> </ul><p bc>登録手順前の章で作ったマクロ</p><ul><li> <li>(<li>t<li>e<li>s<li>t<li>2<li>.<li>t<li>e<li>x<li>)<li> </ul><p bm>をスタイルファイルに仕立ててみましょう</p><p b>．</p></div>
<div><ul><li>1<li>.<li> </ul><p f>名称は</p><p b>，</p><p r>何でもよいのですが</p><p b>，</p><p l>拡張子を必ず</p><ul><li>.<li>s<li>t<li>y<li> </ul><p h>とします</p><p b>．</p><p h>ここでは</p><p b>，</p><ul><li>c<li>l<li>p<li>a<li>g<li>e<li>.<li>s<li>t<li>y<li> <li>(<li>c<li>u<li>r<li>r<li>e<li>n<li>t<li>/<li>l<li>a<li>s<li>t<li>p<li>a<li>g<li>e<li>)</ul></div>
<div><p v>とでもしておきましょう</p><p b>．</p></div>
<div><ul><li>2<li>.<li> <li>t<li>e<li>x<li> </ul><p p>ファイルの中では</p><p b>，</p><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r<li> </ul><p b>と</p><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r<li> </ul><p r>の宣言が必要ですが</p><p b>，</p><ul><li>s<li>t<li>y<li> </ul><p x>ファイルの中では不要です</p><p b>．</p></div>
<div><ul><li>3<li> <li>.<li> </ul><p n>例文を添えると</p><p b>，</p><p x>あとあとのために便利です</p><p b>．</p><p bg>別ファイルとする方法もありますが</p><p b>，</p><p bo>短いときはマクロの記載が終わったところで</p></div>
<div><ul><li> <li>\<li>e<li>n<li>d<li>i<li>n<li>p<li>u<li>t<li> </ul><p j>命令を書き</p><p b>，</p><p bi>それ以降に例文を載せるのが簡便です</p><p b>．</p></div>
<div><ul><li>4<li>.<li> </ul><p bm>是非とも必要というわけではありませんが</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p h>実行時に</p><p b>，</p><p cg>ディスプレイにこのオプションファイルが使われたことを表示し</p></div>
<div><p h>ましょう</p><p b>．</p><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li> </ul><p n>命令で行います</p><p b>．</p></div>
<div><ul><li>5<li>.<li> </ul><p d>作者</p><p b>，</p><p d>日付</p><p b>，</p><p b>バ</p><p b>ー</p><p bo>ジョンなどをコメントとして書いておきます</p><p b>．</p><p f>これは</p><p b>，</p><p x>後日の保守に役に立ちます</p><p b>．</p></div>
<div><p f>もしも</p><p b>，</p><p bi>ほかのファイルを改変したものならば</p><p b>，</p><p bc>その旨も記載しておきましょう</p><p b>．</p></div>
<div><p ce>このようにして作ったオプションファイルの例を次に示します</p><p b>．</p></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li>c<li>l<li>p<li>a<li>g<li>e<li>.<li>s<li>t<li>y<li> <li>(<li>v<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>)<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li>{<li>O<li>p<li>t<li>i<li>o<li>n<li> <li>S<li>t<li>y<li>l<li>e<li> </ul><p b>‘</p><ul><li>c<li>l<li>p<li>a<li>g<li>e</ul><p b>’</p><ul><li> <li>(<li>v<li>.<li> <li>1<li>.<li>0<li>0<li>)<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li>}</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>8<li>)</ul></div>
<div><ul><li>6<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>?<li>?<li>}<li>}<li>{<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>g<li>d<li>e<li>f<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>\<li>c<li>o<li>u<li>n<li>t<li>0<li>}<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>=<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>\<li>e<li>m<li>p<li>t<li>y<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>f<li>o<li>o<li>t<li>{<li>\<li>r<li>m<li>\<li>h<li>f<li>i<li>l<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>h<li>f<li>i<li>l<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>o<li>d<li>d<li>h<li>e<li>a<li>d<li>\<li>e<li>m<li>p<li>t<li>y<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>o<li>d<li>d<li>h<li>e<li>a<li>d<li>{<li>\<li>r<li>m<li>\<li>h<li>f<li>i<li>l<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>@<li>e<li>v<li>e<li>n<li>h<li>a<li>e<li>d<li>\<li>e<li>m<li>p<li>t<li>y<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>e<li>v<li>e<li>n<li>h<li>e<li>a<li>d<li>{<li>\<li>r<li>m<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>h<li>f<li>i<li>l<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>i<li>n<li>p<li>u<li>t<li>%</ul><p t>これ以下は無視される</p></div>
<div><ul><li>%</ul><p d>例文</p></div>
<div><ul><li>%<li>t<li>e<li>s<li>t<li>2<li>.<li>t<li>e<li>x<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%<li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>%<li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>b<li>o<li>o<li>k<li>}</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>r<li>e<li>p<li>o<li>r<li>t<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>[<li>c<li>l<li>p<li>a<li>g<li>e<li>]</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>a<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>b<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>c<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>d<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>e<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>f<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>g<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>h<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>i</ul></div>
<div><ul><li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> <li>j<li> <li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%<li>t<li>h<li>e<li> <li>e<li>n<li>d<li> <li>o<li>f<li> <li>c<li>l<li>p<li>a<li>g<li>e<li>.<li>s<li>t<li>y<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><p bs>複雑なスタイルファイルもまったく同じことです</p><p b>．</p><ul><li>c<li>l<li>p<li>a<li>g<li>e<li>.<li>s<li>t<li>y<li> </ul><p b>を</p><ul><li> <li>T<li>E<li>X<li> </ul><p v>の標準入力ディレクトリ</p><p b>ー</p><ul><li> <li>(</ul><p f>普通は</p><p b>，</p></div>
<div><ul><li>\<li>t<li>e<li>x<li>\<li>i<li>n<li>p<li>u<li>t<li>s<li> </ul><p d>など</p><ul><li>)<li> </ul><p l>に格納します</p><p b>．</p></div>
<div><ul><li>1<li>1<li>.<li>1<li>.<li>2<li> </ul><p cq>自作のスタイルファイルの使用通常のオプションスタイルファイルと同じで</p><p b>，</p><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li> </ul><p n>で読み込みます</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>[<li>c<li>l<li>p<li>a<li>g<li>e<li>]</ul></div>
<div><p t>このようにするだけで</p><p b>，</p><p bs>簡単に目的の命令や機能が使えるようになります</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li>2<li>.<li>0<li>9</ul><p d>では</p><p b>，</p><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>s<li>t<li>y<li>l<li>e</ul></div>
<div><p bq>のオプション引数の中に書き込んでいましたが</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><p bg>上記のように変更されていますので</p><p b>，</p><p n>注意が必要です</p><ul><li>.</ul></div>
<div class=_mark id=mark39><a  href='#toc39'><p b>第</p><ul><li> <li>1<li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p z>スタイルファイルの仕立て方</p><ul><li> <li>6<li>3</ul></a></div>
<div><ul><li>1<li>1<li>.<li>2<li> </ul><p r>複雑な例実例として</p><p b>，</p><ul><li>F<li>P<li>R<li>I<li>N<li>T<li> <li>M<li>E<li>S<li> <li>1<li>1<li> <li>(<li>#<li>1<li>6<li>8<li>7<li>)<li> </ul><p z>にアップしたものを載せます</p><p b>．</p><p j>次の手順で</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>処理をしてください</p><p b>．</p></div>
<div><ul><li>%</ul><p d>手順</p></div>
<div><ul><li>%<li>(<li>1<li>)<li> </ul><p r>この書き込み全体を</p><p b>，</p><p j>ファイル名</p><ul><li> <li>p<li>a<li>g<li>e<li>b<li>l<li>c<li>k<li>.<li>s<li>t<li>y<li> </ul><p v>として格納してください</p><p b>．</p></div>
<div><ul><li>%<li> </ul><p bs>例文以下も切り離さずにそのままいれてください</p><p b>．</p></div>
<div><ul><li>%<li>(<li>2<li>)<li> </ul><p j>例文以下を</p><ul><li> <li>t<li>e<li>s<li>t<li>.<li>t<li>e<li>x<li> </ul><p v>などの名前にして格納し</p><p b>，</p><ul><li>l<li>a<li>t<li>e<li>x<li> </ul><p d>処理</p><ul><li> <li>(<li>2<li> </ul><p f>回以上</p><ul><li>)<li> </ul><p l>してください</p><p b>．</p></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>%<li> <li>p<li>a<li>g<li>e<li>b<li>l<li>c<li>k<li>.<li>s<li>t<li>y<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%<li> <li>\<li>s<li>e<li>t<li>F<li>i<li>r<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>1<li>0<li>2<li>}<li> <li>:<li> </ul><p n>最初の見かけペ</p><p b>ー</p><p h>ジを設定</p><ul><li> <li>(<li>e<li>.<li>g<li>.<li> <li>1<li>0<li>2<li>)</ul></div>
<div><ul><li>%<li> <li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>:<li> </ul><p d>総ペ</p><p b>ー</p><p d>ジ数</p></div>
<div><ul><li>%<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>:<li> </ul><p d>実ペ</p><p b>ー</p><p b>ジ</p><ul><li>/</ul><p d>総ペ</p><p b>ー</p><p b>ジ</p><ul><li> <li>(<li>e<li>.<li>g<li>.<li> <li>2<li>/<li>1<li>0<li>)<li> </ul><p l>のように出力</p></div>
<div><ul><li>%<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>:<li> </ul><p d>実ペ</p><p b>ー</p><p b>ジ</p><ul><li> <li>(<li>e<li>.<li>g<li>.<li> <li>2<li>)<li> </ul><p l>のように出力</p></div>
<div><ul><li>%<li> <li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>:<li> </ul><p h>見かけペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>%<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li>:<li> </ul><p b>ペ</p><p b>ー</p><p z>ジ数に応じてブロックを出力</p></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>%<li>%<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r<li>%</ul><p bw>スタイルファイルとするときはこれをコメントアウト</p></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}<li>{<li>\<li>g<li>d<li>e<li>f<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>?<li>?<li>}<li>}<li>{<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li> <li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>=<li>0</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>F<li>i<li>r<li>s<li>t<li>P<li>@<li>g<li>e<li> <li>\<li>F<li>i<li>r<li>s<li>t<li>P<li>@<li>g<li>e<li>=<li>1</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>e<li>t<li>F<li>i<li>r<li>s<li>t<li>P<li>a<li>g<li>e<li>#<li>1<li>{<li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>p<li>a<li>g<li>e<li>}<li>{<li>#<li>1<li>}<li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>F<li>i<li>r<li>s<li>t<li>P<li>@<li>g<li>e<li>=<li>#<li>1<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>%</ul></div>
<div><ul><li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>=<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>-<li>\<li>F<li>i<li>r<li>s<li>t<li>P<li>@<li>g<li>e</ul></div>
<div><ul><li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>g<li>d<li>e<li>f<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>t<li>h<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>}<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>=<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>-<li>\<li>F<li>i<li>r<li>s<li>t<li>P<li>@<li>g<li>e</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>\<li>@<li>n<li>e<li> <li>\<li>t<li>h<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>/<li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>{<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>=<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>-<li>\<li>F<li>i<li>r<li>s<li>t<li>P<li>@<li>g<li>e</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>\<li>@<li>n<li>e<li> <li>\<li>t<li>h<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li>{<li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li> <li>(<li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>)<li> <li>\<li>h<li>s<li>k<li>i<li>p<li>1<li>0<li>p<li>t</ul></div>
<div><ul><li>\<li>i<li>f<li>c<li>a<li>s<li>e<li>\<li>N<li>e<li>t<li>P<li>@<li>g<li>e</ul></div>
<div><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>□</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>□</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>□</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>□</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><ul><li>6<li>4<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><p b>■</p><ul><li> <li>\<li>o<li>r</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>@<li>c<li>t<li>r<li>e<li>r<li>r<li>\<li>f<li>i<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>=<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>\<li>o<li>r<li>i<li>g<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%<li>%<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r<li>%</ul><p bw>スタイルファイルとするときはこれをコメントアウト</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>i<li>n<li>p<li>u<li>t<li> <li>%</ul><p bg>スタイルファイルとするとき先頭の</p><ul><li>%</ul><p f>を除く</p></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul><p d>例文</p><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>p<li>a<li>g<li>e<li>b<li>l<li>c<li>k<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>F<li>i<li>r<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>1<li>0<li>2<li>}</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>p<li>a<li>g<li>e<li>}<li>:</ul></div>
<div><p n>この文書の総ペ</p><p b>ー</p><p d>ジは</p><p b>，</p><ul><li>\<li>L<li>a<li>s<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p f>ジです</p><p b>．</p><p l>そのうちの第</p><ul><li>\<li>t<li>h<li>e<li>N<li>e<li>t<li>P<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><ul><li>(</ul><p b>第</p><ul><li>\<li>t<li>h<li>e<li>p<li>a<li>g<li>e<li>{<li>}</ul><p b>ペ</p><p b>ー</p><p b>ジ</p><ul><li>)<li> <li>\<li>p<li>a<li>r<li> <li>\<li>p<li>l<li>a<li>c<li>e<li>b<li>l<li>o<li>c<li>k<li>s<li> <li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%</ul><p by>スタイルファイルとするときもここまで入れてください</p><ul><li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a</ul></div>
<div><ul><li>%<li> <li>t<li>h<li>e<li> <li>e<li>n<li>d<li> <li>o<li>f<li> <li>p<li>a<li>g<li>e<li>b<li>l<li>c<li>k<li>.<li>s<li>t<li>y</ul></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul><p f>終わり</p><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>6<li>5</ul></div>
<div><p b>第</p><ul><li>1<li>2</ul><p b>章</p><ul><li> </ul><p b>ペ</p><p b>ー</p><p x>ジごとの脚注番号文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><ul><li>a<li>u<li>x<li> <li> </ul><p z>ファイルの活用の好例として</p><p b>，</p><p l>脚注番号をペ</p><p b>ー</p><p bk>ジごとにリセットする方法を解説します</p><p b>．</p><p n>これに関しては</p><p b>，</p><ul><li>@<li>n<li>i<li>f<li>t<li>y<li> <li>(<li>N<li>I<li>F<li>T<li>Y<li>-<li>S<li>e<li>r<li>v<li>e</ul></div>
<div><ul><li>)<li> <li>F<li>S<li>N<li>O<li>T<li>E<li> </ul><p h>の会議室</p><ul><li> <li>1<li>3<li> </ul><p b>で</p><p b>，</p><p v>活発な質疑がありました</p><p b>．</p><ul><li>4<li>8<li>8<li>3<li> </ul><p b>番</p><ul><li> <li>(</ul><p b>「</p><p z>脚注について教えてください</p><p b>」</p><ul><li>)<li> </ul><p be>の書き込みから始まるコメントチ</p></div>
<div><p h>ェインは</p><p b>，</p><p bk>皆さんがそれぞれのアイディアを出して</p><p b>，</p></div>
<div><p by>いろいろ工夫したマクロが提案した過程が示されていて</p><p b>，</p><p bc>たいへんにおもしろくよめます</p><p b>．</p><p f>本章は</p><p b>，</p><p t>その質疑を参考にして</p><p b>，</p><p h>書いたも</p></div>
<div><p f>のです</p><p b>．</p></div>
<div><ul><li>1<li>2<li>.<li>1<li> </ul><p n>親子関係の更改</p><p b>—</p><p t>不十分脚注の番号をペ</p><p b>ー</p><p bq>ジごとに独立に振りたいということがあります</p><p b>．</p><p l>この目的には</p><p b>，</p><ul><li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p h>カウンタ</p><p b>ー</p></div>
<div><p b>を</p></div>
<div><ul><li>p<li>a<li>g<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><p bq>に従属させればよいと考えるのが普通でしょう</p><p b>．</p><p d>まず</p><p b>，</p><p v>これを試してみましょう</p><p b>．</p></div>
<div><p b>こ</p><ul><li> </ul><p f>のとき</p><p b>，</p><ul><li>p<li>a<li>g<li>e<li> </ul><p b>カ</p><ul><li> </ul><p f>ウンタ</p><p b>ー</p><p b>や</p><ul><li> <li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> <li> </ul><p h>カウンタ</p><p b>ー</p><p b>は</p><ul><li> </ul><p n>すでに定義済み</p><ul><li> </ul><p l>のものなので</p><p b>，</p><ul><li> </ul></p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p h>命令は使</p><ul><li> </ul><p h>えません</p><p b>．</p><p f>拙著の</p></div>
<div><ul><li>m<li>a<li>t<li>h<li>c<li>h<li>e<li>m<li>.<li>s<li>t<li>y<li> </ul><p d>には</p><p b>，</p><ul><li>\<li>r<li>e<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p x>命令を作成してありますが</p><p b>，</p><p n>本質的な部分は</p></div>
<div><ul><li>\<li>@<li>a<li>d<li>d<li>t<li>o<li>r<li>e<li>s<li>e<li>t<li> </ul><p l>命令のみです</p><p b>．</p><p v>次の例を試してください</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>a<li>d<li>d<li>t<li>o<li>r<li>e<li>s<li>e<li>t<li>{<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>}<li>{<li>p<li>a<li>g<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p f>節番号</p><ul><li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>A<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>B<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>C<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>D<li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p f>節番号</p><ul><li>}</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>E<li>}</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>F<li>}</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>G<li>}</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>8<li>a<li>)</ul></div>
<div><ul><li>6<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p d>脚注</p><ul><li> <li>H<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p bi>これでうまくいったような気がします</p><p b>．</p><p h>ところが</p><p b>，</p><p z>これはたまたまなのであって</p><p b>，</p><p r>実は不十分なのです</p><p b>．</p><p j>この場合は</p><p b>，</p><ul><li>\<li> <li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li> </ul><p b>で</p></div>
<div><p b>ペ</p><p b>ー</p><p bo>ジの分割を明示したのでうまくいったのです</p><p b>．</p><p f>実際に</p><p b>，</p><p z>次のようなファイルを作って</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>処理をしてみますと</p><p b>，</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>@<li>a<li>d<li>d<li>t<li>o<li>r<li>e<li>s<li>e<li>t<li>{<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>}<li>{<li>p<li>a<li>g<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p n>脚注をたくさん</p><ul><li>}<li> <li>\<li>p<li>a<li>r</ul></div>
<div><ul><li>(</ul><p f>これを</p><ul><li> <li>2<li> </ul><p b>ペ</p><p b>ー</p><p z>ジ以上になるように繰り返す</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>2<li> </ul><p b>ペ</p><p b>ー</p><p j>ジ目以降で</p><p b>，</p><ul><li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><p bs>のリセット異常が起こっていることがわかります</p><p b>．</p></div>
<div><ul><li>T<li>E<li>X<li> </ul><p d>のペ</p><p b>ー</p><p n>ジ分割処理では</p><p b>，</p><p z>ファイルを先読みしておいて</p><p b>，</p><p bw>適当な分割点をさがして分割するようになっています</p><p b>．</p><p h>このため</p><p b>，</p><p b>ペ</p><p b>ー</p><p b>ジ</p></div>
<div><p bo>の終わりに近いところに脚注があった場合に</p><p b>，</p><p bi>分割点より前になるか後になるかはペ</p><p b>ー</p><p bg>ジ整形をして始めてわかるわけです</p><p b>．</p><p h>したがっ</p></div>
<div><p b>て</p><p b>，</p><p p>運の悪いときには</p><p b>，</p><ul><li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> <li> </ul><p h>カウンタ</p><p b>ー</p><p z>のリセットされないまま次ペ</p><p b>ー</p><p bs>ジ送りになってしまうという事態がおこるのです</p><p b>．</p><p b>ペ</p><p b>ー</p></div>
<div><p bu>ジの先頭で脚注番号が異常になるのはこのためです</p><p b>．</p></div>
<div><ul><li>1<li>2<li>.<li>2<li> <li>a<li>u<li>x<li> </ul><p z>ファイルの活用このためには</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>処理したときに</p><p b>，</p><p x>全部の脚注が実際にどのペ</p><p b>ー</p><p p>ジに現れているか</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p j>ファイルに</p></div>
<div><p j>書き出して</p><p b>，</p><p p>この情報をもとに</p><ul><li> <li>2<li> <li> </ul><p j>回目以降の</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p f>処理で</p><p b>，</p><p bg>正しい脚注番号を振るようにします</p><p b>．</p><p z>完成したマクロの定義を次に</p></div>
<div><p h>示します</p><p b>．</p><p n>適当に改行して</p><p b>，</p><p x>要所に注釈行を入れました</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%<li> <li>P<li>a<li>g<li>e<li>-<li>D<li>e<li>p<li>e<li>n<li>d<li>e<li>n<li>t<li> <li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>s<li> <li>b<li>y<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>6<li>/<li>0<li>6</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li> <li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>\<li>z<li>@<li> <li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>C<li>u<li>r<li>r<li>P<li>@<li>g<li>e<li> <li>\<li>C<li>u<li>r<li>r<li>P<li>@<li>g<li>e<li>\<li>z<li>@</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>#<li>1<li>#<li>2<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>=<li>#<li>2<li> <li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>><li>\<li>C<li>u<li>r<li>r<li>P<li>@<li>g<li>e</ul></div>
<div><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>g<li>d<li>e<li>f<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>@<li>f<li>t<li>n<li>t<li>@<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>{<li>#<li>2<li>}<li>\<li>C<li>u<li>r<li>r<li>P<li>@<li>g<li>e<li>=<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>#<li>1<li>{<li>%</ul><p b>ペ</p><p b>ー</p><p p>ジごとの脚注番号</p></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>\<li>@<li>n<li>e<li>%</ul><p l>総脚注番号を</p><ul><li> <li>1<li> </ul><p j>だけふやす</p></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>@<li>f<li>t<li>n<li>t<li>@<li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>%<li>\<li>@<li>f<li>t<li>n<li>t<li>*<li>*</ul><p r>が定義されているか</p></div>
<div><ul><li>{<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{<li>#<li>1<li>}<li>}<li>%</ul><p v>定義されていないときは</p><ul><li> <li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p l>命令そのまま</p></div>
<div><ul><li>{<li>\<li>c<li>@<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>\<li>z<li>@<li> <li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{<li>#<li>1<li>}<li>}<li>%</ul><p p>定義済みのときは</p><ul><li> <li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p h>カウンタ</p><p b>ー</p></div>
<div><ul><li>%</ul><p r>をリセットしたのち</p><p b>，</p><ul><li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p j>命令を使う</p></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>{<li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>%</ul><p r>総脚注番号を展開後</p><ul><li>\<li>t<li>h<li>e<li>.<li>.<li> </ul><p f>に設定</p></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>t<li>h<li>e<li>\<li>z<li>@<li>%</ul><p f>これは</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li> </ul><p p>命令の一時無効化</p></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>n<li>e<li>x<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>%</ul><p h>出力命令</p><ul><li>\<li>n<li>e<li>x<li>t<li> </ul><p f>を定義</p></div>
<div class=_mark id=mark40><a  href='#toc40'><p b>第</p><ul><li> <li>1<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p b>ペ</p><p b>ー</p><p p>ジごとの脚注番号</p><ul><li> <li>6<li>7</ul></a></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>\<li>t<li>h<li>e<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>{<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li>}<li>}<li>}<li>%</ul><p j>出力の内容</p></div>
<div><ul><li>\<li>n<li>e<li>x<li>t<li>}<li>}<li>%<li>a<li>u<li>x<li> </ul><p n>ファイルへ出力</p><ul><li>:<li> <li>\<li>n<li>e<li>x<li>t<li> </ul><p p>実行しておこなう</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p l>脚注番号をペ</p><p b>ー</p><p p>ジごとにリセット</p><ul><li>\<li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p b>ペ</p><p b>ー</p><p p>ジごとの脚注番号</p><ul><li>}<li>\<li>p<li>a<li>r</ul></div>
<div><p b>（</p><p p>たくさん繰り返し</p><p b>）</p></div>
<div><p l>脚注番号をペ</p><p b>ー</p><p p>ジごとにリセット</p><ul><li>\<li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{</ul><p b>ペ</p><p b>ー</p><p p>ジごとの脚注番号</p><ul><li>}<li>\<li>p<li>a<li>r</ul></div>
<div><p b>（</p><p p>たくさん繰り返し</p><p b>）</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p be>マクロの定義の説明をしましょう</p><p b>．</p><p d>まず</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p j>ファイルに</p><p b>，</p><ul><li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>F<li>}<li>{<li>P<li>}</ul><p z>の形で出力するようにします</p><p b>．</p><ul><li>F<li> </ul><p j>は脚注番号</p><p b>，</p><ul><li>P<li> </ul><p d>はペ</p><p b>ー</p></div>
<div><p j>ジ番号です</p><p b>．</p><p h>たとえば</p><p b>，</p><p bg>次のように出力されるようにします</p><p b>．</p></div>
<div><ul><li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>1<li>}<li>{<li>1<li>}</ul></div>
<div><ul><li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>2<li>}<li>{<li>1<li>}</ul></div>
<div><ul><li>(</ul><p h>途中省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>2<li>6<li>}<li>{<li>1<li>}</ul></div>
<div><ul><li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>2<li>7<li>}<li>{<li>2<li>}</ul></div>
<div><ul><li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>2<li>8<li>}<li>{<li>2<li>}</ul></div>
<div><ul><li>(</ul><p d>後略</p><ul><li>)</ul></div>
<div><p j>このような</p><ul><li> <li>a<li>u<li>x<li> </ul><p by>ファイルへの出力を実現する方法の説明をまず行います</p><p b>．</p><ul><li>\<li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p r>命令の中に含まれる</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li> </ul><p r>命令のあとの中括弧</p></div>
<div><p bw>のなかの記述がこれにあたることはおわかりでしょう</p><p b>．</p><ul><li>\<li>l<li>e<li>t<li>\<li>t<li>h<li>e<li>\<li>z<li>@</ul><p h>の手法は</p><p b>，</p><ul><li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p d>問題</p><ul><li> <li>2<li>1<li>.<li>1<li>0<li> </ul><p bc>述べられていることの応用です</p><p b>．</p></div>
<div><p j>この場合は</p><p b>，</p><p b>ペ</p><p b>ー</p><p l>ジ番号の出力</p><ul><li> <li>(<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li>)</ul></div>
<div><p d>をペ</p><p b>ー</p><p r>ジ整形後の送り出し</p><ul><li> <li>(<li>\<li>s<li>h<li>i<li>p<li>o<li>u<li>t<li>)<li> </ul><p bg>時まで抑制する目的で使っています</p><p b>．</p></div>
<div><ul><li>\<li> <li>e<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>{<li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>%</ul><p r>総脚注番号を展開後</p><ul><li>\<li>t<li>h<li>e<li>.<li>.<li> </ul><p n>に設定の定義は</p><p b>，</p><p d>上の</p><ul><li>\<li>l<li>e<li>t<li>\<li>t<li>h<li>e<li>\<li>z<li>@</ul><p bc>による抑制機構が働かないよう</p></div>
<div><p n>にするためです</p><ul><li> <li>(<li>\<li>n<li>e<li>x<li>t<li> </ul><p j>の定義時に</p><ul><li>\<li>t<li>h<li>e<li> </ul><p t>を展開済みにしてある</p><ul><li>)</ul><p b>．</p><p f>これは</p><p b>，</p><ul><li>\<li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p n>命令の定義から</p><p b>，</p><p p>この記述をはずし</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li>@<li>f<li>n<li>@</ul></div>
<div><ul><li>t<li>o<li>t<li>a<li>l<li> </ul><p j>のかわりに</p></div>
<div><ul><li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li> </ul><p l>を用いたもの</p><ul><li> <li>(<li>\</ul><p z>が途中にあるかないかに注意</p><ul><li>)</ul><p b>，</p><p h>すなわち</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>#<li>1<li>{<li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>\<li>@<li>n<li>e</ul></div>
<div><ul><li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>@<li>f<li>t<li>n<li>t<li>@<li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>{<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{<li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>{<li>\<li>c<li>@<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>\<li>z<li>@<li> <li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>{<li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>%<li> <li>\<li>e<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>{<li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>%</ul><p d>削除</p></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>t<li>h<li>e<li>\<li>z<li>@<li>\<li>e<li>d<li>e<li>f<li>\<li>n<li>e<li>x<li>t<li>{<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>@<li>a<li>u<li>x<li>o<li>u<li>t<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e</ul></div>
<div><ul><li>{<li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>{<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li>}<li>}<li>}<li>\<li>n<li>e<li>x<li>t<li>}<li>}<li>%</ul><p l>下と入れ換え</p></div>
<div><ul><li>%<li> <li>{<li>\<li>t<li>h<li>e<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>{<li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li>}<li>}<li>}<li>\<li>n<li>e<li>x<li>t<li>}<li>}</ul></div>
<div><p z>をためしてみればわかります</p><p b>．</p><ul><li>a<li>u<li>x<li> </ul><p ci>ファイルに打ち出されたものをもとのものと比較してごらんなさい</p><ul><li> <li>(</ul><p f>すこし</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p n>ファイルの出力</p></div>
<div><p v>の見かけはわるいですが</p><p b>，</p><p bk>この定義でも多くの場合うまくゆきます</p><ul><li>)</ul><p b>．</p><p be>以上の説明を大雑把にまとめると</p><p b>，</p><p r>次のようになります</p><p b>．</p></div>
<div><ul><li>6<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>t<li>h<li>e<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li> </ul><p h>の定義時</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li> </ul><p d>より</p><p b>，</p><p p>総脚注番号が入る</p></div>
<div><ul><li>\<li>n<li>e<li>x<li>t<li> </ul><p h>の定義時</p><ul><li> <li>\<li>l<li>e<li>t<li>\<li>t<li>h<li>e<li>\<li>z<li>@</ul><p l>の抑制により</p><p b>，</p><ul><li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li> </ul><p j>の出力なし</p><p b>．</p><p bk>すでに入っている総脚注番号はそのまま</p></div>
<div><ul><li>\<li>n<li>e<li>x<li>t<li> </ul><p h>の実行時</p><ul><li> <li>(</ul><p j>送り出し時</p><ul><li>)<li> <li>\<li>t<li>h<li>e<li>\<li>c<li>@<li>p<li>a<li>g<li>e<li> </ul><p h>を実行し</p><p b>，</p><p b>ペ</p><p b>ー</p><p f>ジ出力</p><p b>．</p></div>
<div><p t>このことを頭に入れて</p><p b>，</p><p d>次ペ</p><p b>ー</p><p bk>ジ送りになった脚注を考えてみましょう</p><p b>．</p><p d>次ペ</p><p b>ー</p><p t>ジ送りになった時点で</p><p b>，</p><p j>総脚注番号</p><ul><li> <li>(</ul><p n>脚注の通し番号</p></div>
<div><ul><li>)<li> </ul><p t>は保持されていますが</p><p b>，</p><p b>ペ</p><p b>ー</p><p z>ジ番号は不定になっています</p><p b>．</p><p f>後者は</p><p b>，</p><p d>次の</p><ul><li>\<li>n<li>e<li>x<li>t</ul></div>
<div><p j>の実行時に</p><ul><li> <li>(</ul><p d>次ペ</p><p b>ー</p><p p>ジの送り出し時に</p><ul><li>)<li> </ul><p x>入れられることになります</p><p b>．</p></div>
<div><p d>さて</p><p b>，</p><ul><li>a<li>u<li>x<li> <li> </ul><p v>ファイルに打ち出された</p><ul><li>\<li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li> </ul><p v>命令がどのように働くか</p><p b>，</p><p z>その定義を調べてみましょう</p><p b>．</p><p l>これは簡単で</p><p b>，</p><p j>二番目の引</p></div>
<div><p b>数</p><ul><li> <li>(</ul><p b>ペ</p><p b>ー</p><p d>ジ数</p><ul><li>)<li> </ul><p b>が</p><ul><li> <li>1<li> </ul><p p>だけ増えたときに</p><p b>，</p><p bo>この時の第一引数を含んだ制御綴を作ります</p><p b>．</p><p j>上に載せた</p><ul><li> <li>a<li>u<li>x<li> </ul><p r>ファイルの出力では</p><p b>，</p><ul><li>\<li>f<li>t<li>n<li>t<li>@</ul></div>
<div><ul><li>p<li>a<li>g<li>e<li>{<li>1<li>}<li>{<li>1<li>}</ul><p d>から</p><ul><li>\<li>@<li>f<li>t<li>n<li>t<li>@<li>1<li> <li>(</ul><p f>内容は</p><ul><li> <li>1<li>)<li> </ul><p f>および</p></div>
<div><ul><li>\<li> <li>f<li>t<li>n<li>t<li>@<li>p<li>a<li>g<li>e<li>{<li>2<li>7<li>}<li>{<li>2<li>}</ul><p d>から</p><ul><li>\<li>@<li>f<li>t<li>n<li>t<li>@<li>2<li>7<li> <li>(</ul><p f>内容は</p><ul><li> <li>2<li>)<li> </ul><p l>が作られます</p><p b>．</p><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> </ul><p ce>を使った条件文はそんなにむずかしいことをやっているわけで</p></div>
<div><p p>はありませんから</p><p b>，</p><p bc>容易に理解できるとおもいます</p><p b>．</p></div>
<div><p d>再び</p><p b>，</p><ul><li>\<li>F<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p t>の定義に戻りましょう</p><p b>．</p></div>
<div><ul><li>\<li>@<li> <li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>@<li>f<li>t<li>n<li>t<li>@<li>\<li>t<li>h<li>e<li>\<li>@<li>f<li>n<li>@<li>t<li>o<li>t<li>a<li>l<li>}<li>%<li>\<li>@<li>f<li>t<li>n<li>t<li>*<li>*</ul><p t>が定義されているかは</p><p b>，</p><ul><li>\<li>@<li>t<li>f<li>n<li>t<li>*</ul><p z>が定義されていないときには</p><p b>，</p><p p>次の中括弧の処理</p><ul><li> <li>(</ul></div>
<div><p h>ここでは</p><ul><li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p j>命令の実行</p><ul><li>)<li> </ul><p f>を行い</p><p b>，</p></div>
<div><p t>定義されているときは</p><p b>，</p><p v>さらに次の中括弧の処理</p><p b>　</p><ul><li> <li>(<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><p r>をリセットしたのち</p><p b>，</p><ul><li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e</ul></div>
<div><p j>命令の実行</p><ul><li>)<li> </ul><p n>を行っています</p><p b>．</p><p f>これで</p><p b>，</p><p b>ペ</p><p b>ー</p><p bm>ジごとの脚注番号の出力が実現できました</p><p b>．</p></div>
<div><ul><li>6<li>9</ul></div>
<div><p b>第</p><ul><li>1<li>3</ul><p b>章</p><ul><li> </ul><p z>中間ファイルの新設文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p j>これまでは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>既存の補助ファイル</p><ul><li> <li>(<li>.<li>a<li>u<li>x<li> </ul><p h>ファイル</p><ul><li>)<li> </ul><p be>を活用する方法を述べてきました</p><p b>．</p><p bg>この範囲でもかなりのことができる</p></div>
<div><p bk>ことがおわかりいただけたとおもいます</p><p b>．</p><p f>さらに</p><p b>，</p><p p>その上級編として</p><p b>，</p><p bq>特別な目的をもった中間ファイルを新設すれば</p><p b>，</p><p l>見通しよく解</p></div>
<div><p t>決できる例を示します</p><p b>．</p><p f>今回は</p><p b>，</p><p j>表の下に注</p><ul><li> <li>(</ul><p d>表注</p><ul><li>)</ul></div>
<div><p b>を</p><ul><li> </ul><p r>便利に入れるための</p><ul><li> <li>t<li>b<li>l<li>n<li>o<li>t<li>e<li> </ul><p d>環境</p><ul><li> </ul><p r>を作ってみましょう</p><p b>．</p><p h>このとき</p><ul><li> </ul><p b>に</p><p b>，</p><ul><li>.<li>t<li>b<li>n<li> </ul><p r>という拡張子をもっ</p><ul><li> </ul><p z>た中間ファイルを新設します</p><p b>．</p></div>
<div><ul><li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>s<li> <li>.<li>s<li>t<li>y<li> </ul><p bs>というスタイルファイルに仕立ててありますので</p><p b>，</p><p bm>これをオプションに指定することによって</p><p b>，</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>，</p><ul><li>\<li>T<li>N<li>r<li>e<li>f</ul><p b>，</p><ul><li>\</ul></div>
<div><ul><li>T<li>N<li>t<li>e<li>x<li> </ul><p t>などの命令が使えます</p><p b>．</p></div>
<div><ul><li>1<li>3<li>.<li>1<li> </ul><p b>ソ</p><p b>ー</p><p l>スリストまず</p><p b>，</p><p z>オプションスタイルファイル</p><ul><li> <li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>s<li>.<li>s<li>t<li>y<li> </ul><p d>のソ</p><p b>ー</p><p r>スリストを示します</p><p b>．</p></div>
<div><ul><li>%<li> <li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>s<li>.<li>s<li>t<li>y</ul></div>
<div><ul><li>%<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>6<li>/<li>1<li>3<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>K<li>E<li>Y<li>}<li>:<li> <li>K<li>E<li>Y<li> <li>i<li>s<li> <li>a<li> <li>r<li>e<li>f<li>e<li>r<li>e<li>n<li>c<li>e<li> <li>k<li>e<li>y</ul></div>
<div><ul><li>%<li> <li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>K<li>E<li>Y<li>}<li>:<li> <li>K<li>E<li>Y<li> <li>i<li>s<li> <li>a<li> <li>r<li>e<li>f<li>e<li>r<li>e<li>n<li>c<li>e<li> <li>k<li>e<li>y</ul></div>
<div><ul><li>%<li> <li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>K<li>E<li>Y<li>}<li>{<li>T<li>E<li>X<li>T<li>}<li>:<li> <li>K<li>E<li>Y<li> <li>i<li>s<li> <li>a<li> <li>r<li>e<li>f<li>e<li>r<li>e<li>n<li>c<li>e<li> <li>k<li>e<li>y<li>.<li> <li>T<li>E<li>X<li>T<li> <li>i<li>s<li> <li>t<li>h<li>e<li> <li>t<li>e<li>x<li>t<li> <li>o<li>f</ul></div>
<div><ul><li>%<li> <li>a<li> <li>t<li>a<li>b<li>l<li>e<li> <li>n<li>o<li>t<li>e</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li>{<li>O<li>p<li>t<li>i<li>o<li>n<li> <li>S<li>t<li>y<li>l<li>e<li> </ul><p b>‘</p><ul><li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>s</ul><p b>’</p><ul><li> <li>1<li>9<li>9<li>5<li>/<li>0<li>6<li>/<li>1<li>3<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>}</ul></div>
<div><ul><li>%<li> <li>c<li>r<li>e<li>a<li>t<li>e<li> <li>a<li>n<li>d<li> <li>o<li>p<li>e<li>n<li> <li>.<li>t<li>b<li>n<li> <li>f<li>i<li>l<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>{<li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>n<li>e<li>w<li>w<li>r<li>i<li>t<li>e<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>o<li>p<li>e<li>n<li>o<li>u<li>t<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>b<li>n<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>@<li>n<li>o<li>b<li>r<li>e<li>a<li>k<li>f<li>a<li>l<li>s<li>e<li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>}</ul></div>
<div><ul><li>%<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>,<li> <li>T<li>N<li>r<li>e<li>f<li>,<li> <li>T<li>N<li>t<li>e<li>x<li>t</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>{<li>0<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>#<li>1<li>{<li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>#<li>1<li>}<li>$<li>^<li>{<li>*<li>\<li>t<li>h<li>e<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>$<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>r<li>e<li>f<li>#<li>1<li>{<li>$<li>^<li>{<li>*<li>\<li>r<li>e<li>f<li>{<li>#<li>1<li>}<li>}<li>$<li>}</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>8<li>b<li>)</ul></div>
<div><ul><li>7<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>o<li>t<li>e<li>#<li>1<li>#<li>2<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li>=<li>#<li>1<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>\<li>t<li>h<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li>}<li>{<li>#<li>2<li>}<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>#<li>1<li>#<li>2<li>{<li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>r<li>@<li>#<li>1<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>=<li>0<li>}<li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li>{<li>\<li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li>{<li>r<li>@<li>#<li>1<li>}<li>}<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>c<li>a<li>r<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li> <li>\<li>@<li>n<li>i<li>l<li>\<li>n<li>u<li>l<li>l<li>}<li>%</ul></div>
<div><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>=<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>}<li>\<li>T<li>N<li>o<li>t<li>e<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>}<li>{<li>#<li>2<li>}<li>\<li>i<li>g<li>n<li>o<li>r<li>e<li>s<li>p<li>a<li>c<li>e<li>s<li>}</ul></div>
<div><ul><li>%<li> <li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>,<li> <li>s<li>w<li>i<li>t<li>c<li>h<li> <li>f<li>o<li>r<li> <li>a<li>n<li> <li>o<li>i<li>k<li>o<li>m<li>i<li> <li>f<li>o<li>r<li>m<li>a<li>t</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>i<li>f<li>\<li>i<li>f<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> <li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>f<li>a<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>#<li>1<li>#<li>2<li>{<li>\<li>i<li>f<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> <li>$<li>^<li>{<li>*<li>#<li>1<li>}<li>$<li>~<li>#<li>2<li>\<li>h<li>s<li>k<li>i<li>p<li>1<li>.<li>5<li>e<li>m</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>n<li>o<li>i<li>n<li>d<li>e<li>n<li>t<li>$<li>^<li>{<li>*<li>#<li>1<li>}<li>$<li>\<li>h<li>s<li>k<li>i<li>p<li>1<li>e<li>m<li>#<li>2<li>\<li>p<li>a<li>r<li>\<li>v<li>s<li>k<li>i<li>p<li>.<li>5<li>e<li>x<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>%<li> <li>c<li>l<li>o<li>s<li>e<li> <li>.<li>t<li>b<li>n<li> <li>f<li>i<li>l<li>e<li> <li>-<li>-<li>-<li> <li>p<li>r<li>i<li>n<li>t<li> <li>t<li>a<li>b<li>l<li>e<li>n<li>o<li>t<li>e<li>s</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>T<li>b<li>l<li>n<li>o<li>t<li>e<li>{<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>c<li>l<li>o<li>s<li>e<li>o<li>u<li>t<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>s<li>i<li>z<li>e</ul></div>
<div><ul><li>\<li>p<li>a<li>r<li>\<li>n<li>o<li>i<li>n<li>d<li>e<li>n<li>t<li>\<li>i<li>n<li>p<li>u<li>t<li>{<li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>b<li>n<li>}<li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>}</ul></div>
<div><ul><li>%<li> <li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}<li>.<li>.<li>.<li>\<li>e<li>n<li>d<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>d<li>i<li>m<li>e<li>n<li>\<li>T<li>N<li>d<li>i<li>m<li>e<li>n</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>{<li>\<li>@<li>i<li>f<li>n<li>e<li>x<li>t<li>c<li>h<li>a<li>r<li>[<li>{<li>\<li>@<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}<li>{<li>\<li>@<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>[<li>\<li>t<li>e<li>x<li>t<li>w<li>i<li>d<li>t<li>h<li>]<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>[<li>#<li>1<li>]<li>{<li>\<li>T<li>N<li>d<li>i<li>m<li>e<li>n<li>=<li>#<li>1<li>\<li>t<li>h<li>e<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>{<li>\<li>p<li>a<li>r<li>\<li>v<li>s<li>k<li>i<li>p<li>1<li>e<li>x</ul></div>
<div><ul><li>\<li>m<li>i<li>n<li>i<li>p<li>a<li>g<li>e<li>{<li>\<li>T<li>N<li>d<li>i<li>m<li>e<li>n<li>}<li>\<li>b<li>a<li>s<li>e<li>l<li>i<li>n<li>e<li>s<li>k<li>i<li>p<li>=<li>0<li>.<li>5<li>e<li>x<li> <li>\<li>t<li>h<li>e<li>T<li>b<li>l<li>n<li>o<li>t<li>e<li> <li>\<li>e<li>n<li>d<li>m<li>i<li>n<li>i<li>p<li>a<li>g<li>e<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>i<li>n<li>p<li>u<li>t</ul></div>
<div><ul><li>%<li>(<li>E<li>x<li>a<li>m<li>p<li>l<li>e<li>s<li>)</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>s<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>(</ul><p d>省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%<li> <li>t<li>h<li>e<li> <li>e<li>n<li>d<li> <li>o<li>f<li> <li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>s<li>.<li>s<li>t<li>y<li> <li>(<li>1<li>9<li>9<li>5<li>/<li>0<li>6<li>/<li>1<li>3<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>)</ul></div>
<div><ul><li>1<li>3<li>.<li>2<li> </ul><p l>機能と使い方</p></div>
<div><ul><li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>s<li> <li>.<li>s<li>t<li>y<li> </ul><p b>は</p><p b>，</p><p bq>オプションスタイルファイルになっていますが</p><p b>，</p><p h>本章では</p><p b>，</p><p n>この箇所の上に</p><p b>，</p><p be>命令の定義を書き込んであります</p><p b>．</p></div>
<div><p be>使えるおもな命令を次に示します</p><p b>．</p></div>
<div><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>K<li>E<li>Y<li>}<li>:<li> </ul><p x>表注の初出のところに書く</p><p b>．</p><ul><li>K<li>E<li>Y<li> </ul><p h>は参照キ</p><p b>ー</p><p j>をあらわす</p><p b>．</p></div>
<div><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>K<li>E<li>Y<li>}<li>:<li> </ul><p z>既出の表注の番号を参照して</p><p b>，</p><p r>その番号を出力する</p><p b>．</p><ul><li> <li>K<li>E<li>Y<li> </ul><p t>は対応するものを指定</p><p b>．</p></div>
<div><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>K<li>E<li>Y<li>}<li>{<li>T<li>E<li>X<li>T<li>}<li>:<li> </ul><p b>キ</p><p b>ー</p><p bc>は対応する初出のものを入れる</p><p b>．</p><p n>表注の内容を第</p><ul><li> <li>2<li> </ul><p p>引数に書き入れる</p><p b>．</p></div>
<div><p n>これらの命令は</p><p b>，</p><p j>表組全体を</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}<li>[<li>W<li>D<li>]<li> <li>.<li>.<li>.<li> <li>\<li>e<li>n<li>d<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}</ul></div>
<div class=_mark id=mark41><a  href='#toc41'><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>中間ファイルの新設</p><ul><li> <li>7<li>1</ul></a></div>
<div><p l>というように</p><p b>，</p><ul><li>t<li>b<li>l<li>n<li>o<li>t<li>e<li> </ul><p z>環境の中におくようにすると</p><p b>，</p><p x>使用できるようになります</p><p b>．</p><p n>オプション引数</p><ul><li> <li>W<li>D<li> </ul><p b>は</p><p b>，</p></div>
<div><p bg>表注の出力の幅を指定するものです</p><p b>．</p><p ca>表組の組あがった幅に合わせる必要があるときに使います</p><p b>．</p><p r>実例を示しましょう</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>{</ul><p l>表注の入れ方</p><ul><li>-<li>-<li>-</ul><p h>列挙形式</p><ul><li>}</ul></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>t<li>t<li>:<li>1<li>2<li>a<li>1<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}<li>[<li>8<li>c<li>m<li>]</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}<li>{<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>}</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>\<li>m<li>u<li>l<li>t<li>i<li>c<li>o<li>l<li>u<li>m<li>n<li>{<li>2<li>}<li>{<li>|<li>c<li>}<li>{<li>}<li> <li>&</ul></div>
<div><p b>α</p><ul><li> <li>&<li> </ul><p b>β</p><ul><li> <li>&<li> </ul><p b>γ</p><ul><li> <li>&<li> </ul><p b>δ</p><ul><li> <li>&<li> </ul><p b>η</p><ul><li> <li>&<li> </ul><p b>ζ</p><ul><li> <li>\<li>\</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>\<li>m<li>u<li>l<li>t<li>i<li>c<li>o<li>l<li>u<li>m<li>n<li>{<li>8<li>}<li>{<li>|<li>l<li>|<li>}<li>{</ul><p d>項目</p><ul><li> <li>A<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>c<li>l<li>i<li>n<li>e<li>{<li>2<li>-<li>8<li>}</ul></div>
<div><ul><li>&<li> </ul><p d>項目</p><p b>１</p><ul><li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>A<li>1<li>}<li> <li>&<li> <li>×<li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>1<li>}</ul></div>
<div><ul><li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>A<li>2<li>}<li>&<li> <li>×<li> <li>&<li> </ul><p b>○</p><ul><li> <li>\<li>\</ul></div>
<div><ul><li>\<li>c<li>l<li>i<li>n<li>e<li>{<li>2<li>-<li>8<li>}</ul></div>
<div><ul><li>&<li> </ul><p d>項目</p><p b>２</p><ul><li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>2<li>}<li> <li>&<li> </ul><p b>○</p><ul><li> <li>&<li> </ul><p b>△</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>A<li>3<li>}<li>&<li> <li>×</ul></div>
<div><ul><li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>A<li>4<li>}<li> <li>&<li> </ul><p b>△</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>3<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>c<li>l<li>i<li>n<li>e<li>{<li>2<li>-<li>8<li>}</ul></div>
<div><ul><li>&<li> </ul><p d>項目</p><p b>３</p><ul><li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>1<li>}<li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>1<li>}<li> <li>&<li> <li>×<li> <li>&<li> <li>×</ul></div>
<div><ul><li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>1<li>}<li> <li>&<li> <li>×<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>\<li>m<li>u<li>l<li>t<li>i<li>c<li>o<li>l<li>u<li>m<li>n<li>{<li>8<li>}<li>{<li>|<li>l<li>|<li>}<li>{</ul><p d>項目</p><ul><li> <li>B<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>c<li>l<li>i<li>n<li>e<li>{<li>2<li>-<li>8<li>}</ul></div>
<div><ul><li>&<li> </ul><p d>項目</p><p b>１</p><ul><li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>A<li>5<li>}<li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>5<li>}<li> <li>&<li> <li>×<li> <li>&<li> <li>×</ul></div>
<div><ul><li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>A<li>6<li>}<li>&<li> <li>×<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>c<li>l<li>i<li>n<li>e<li>{<li>2<li>-<li>8<li>}</ul></div>
<div><ul><li>&<li> </ul><p d>項目</p><p b>２</p><ul><li> <li>&<li> <li>×<li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>{<li>A<li>7<li>}<li>&<li> <li>×<li> <li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>7<li>}</ul></div>
<div><ul><li>&<li> </ul><p b>○</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li>{<li>A<li>7<li>}<li> <li>&<li> <li>×<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>1<li>}<li>{</ul><p l>脚注は参照キ</p><p b>ー</p><p r>によって参照します</p><p b>．</p></div>
<div><p t>脚注の内容はまとめて</p><p b>，</p><p z>ここに示すように列挙します</p><p b>．</p><ul><li>}</ul></div>
<div><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>2<li>}<li>{</ul><p d>脚注</p><ul><li> <li>2<li>}<li> <li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>3<li>}<li>{</ul><p d>脚注</p><ul><li> <li>3<li>}<li> <li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>4<li>}<li>{</ul><p d>脚注</p><ul><li> <li>4<li>}</ul></div>
<div><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>5<li>}<li>{</ul><p d>脚注</p><ul><li> <li>5<li>}<li> <li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>6<li>}<li>{</ul><p d>脚注</p><ul><li> <li>6<li>}<li> <li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>7<li>}<li>{</ul><p d>脚注</p><ul><li> <li>7<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>l<li>e<li>}</ul></div>
<div><ul><li>7<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>まくろの八衢表</p><ul><li> <li>1<li>3<li>.<li>1<li>:<li> </ul><p l>表注の入れ方</p><p b>—</p><p h>列挙形式</p></div>
<div><p b>α</p><ul><li> </ul><p b>β</p><ul><li> </ul><p b>γ</p><ul><li> </ul><p b>δ</p><ul><li> </ul><p b>η</p><ul><li> </ul><p b>ζ</p></div>
<div><p d>項目</p><ul><li> <li>A</ul></div>
<div><p d>項目</p><p b>１</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>2<li> <li>×<li> </ul><p b>○</p></div>
<div><p d>項目</p><p b>２</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>2<li> </ul><p b>○</p><ul><li> </ul><p b>△</p><ul><li> </ul><p b>∗</p><ul><li>3<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>4<li> </ul><p b>△</p><ul><li> </ul><p b>∗</p><ul><li>3</ul></div>
<div><p d>項目</p><p b>３</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li> <li>×<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li> <li>×</ul></div>
<div><p d>項目</p><ul><li> <li>B</ul></div>
<div><p d>項目</p><p b>１</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>5<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>5<li> <li>×<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>6<li> <li>×</ul></div>
<div><p d>項目</p><p b>２</p><ul><li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>7<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>7<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>7<li> <li>×</ul></div>
<div><p b>∗</p><ul><li>1<li> </ul><p l>脚注は参照キ</p><p b>ー</p><p r>によって参照します</p><p b>．</p><p t>脚注の内容はまとめて</p><p b>，</p></div>
<div><p z>ここに示すように列挙します</p><p b>．</p></div>
<div><p b>∗</p><ul><li>2<li> </ul><p d>脚注</p><ul><li> <li>2</ul></div>
<div><p b>∗</p><ul><li>3<li> </ul><p d>脚注</p><ul><li> <li>3</ul></div>
<div><p b>∗</p><ul><li>4<li> </ul><p d>脚注</p><ul><li> <li>4</ul></div>
<div><p b>∗</p><ul><li>5<li> </ul><p d>脚注</p><ul><li> <li>5</ul></div>
<div><p b>∗</p><ul><li>6<li> </ul><p d>脚注</p><ul><li> <li>6</ul></div>
<div><p b>∗</p><ul><li>7<li> </ul><p d>脚注</p><ul><li> <li>7</ul></div>
<div><p h>この結果</p><p b>，</p><p b>表</p><ul><li> <li>1<li>3<li>.<li>1<li> </ul><p x>のような出力がえられます</p><p b>．</p><p n>処理の内部では</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>/<li>\<li>r<li>e<li>f<li> </ul><p bc>の仕組みを応用していますので</p><p b>，</p><p r>正しい参照番号を得</p></div>
<div><p j>るためには</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p f>処理は</p><ul><li> <li>2<li> </ul><p n>回以上必要です</p><p b>．</p></div>
<div><p bm>表注の出力を追い込み形式にしたいときは</p><p b>，</p><ul><li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>t<li>r<li>u<li>e<li> </ul><p bk>というスイッチを用意してありますので</p><p b>，</p></div>
<div><ul><li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>t<li>r<li>u<li>e<li> </ul><p l>と宣言します</p><p b>．</p><p z>もとの列挙形式に戻すときは</p><p b>，</p><ul><li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>f<li>a<li>l<li>s<li>e<li> </ul><p h>とします</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>{</ul><p l>表注の入れ方</p><ul><li>-<li>-<li>-</ul><p l>追い込み形式</p><ul><li>}</ul></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>t<li>t<li>:<li>1<li>2<li>a<li>2<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}<li>[<li>8<li>c<li>m<li>]</ul></div>
<div><ul><li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>t<li>r<li>u<li>e</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}<li>{<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>c<li>|<li>}</ul></div>
<div><ul><li>(</ul><p d>省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>{<li>A<li>a<li>1<li>}<li>{</ul><p l>脚注は参照キ</p><p b>ー</p><p r>によって参照します</p><p b>．</p></div>
<div><p t>脚注の内容はまとめて</p><p b>，</p><p z>ここに示すように列挙します</p><p b>．</p><ul><li>}</ul></div>
<div><ul><li>(</ul><p d>省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>l<li>e<li>}</ul></div>
<div><p h>この結果</p><p b>，</p><p b>表</p><ul><li> <li>1<li>3<li>.<li>2<li> </ul><p x>のような出力がえられます</p><p b>．</p><p l>表注の番号は</p><p b>，</p><p bi>前の表からの続き番号にしてあります</p><p b>．</p><p f>もしも</p><p b>，</p><p r>リセットしたいとき</p></div>
<div><p b>は</p><p b>，</p><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p t>命令を使ってください</p><p b>．</p></div>
<div class=_mark id=mark42><a  href='#toc42'><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>中間ファイルの新設</p><ul><li> <li>7<li>3</ul></a></div>
<div><p b>表</p><ul><li> <li>1<li>3<li>.<li>2<li>:<li> </ul><p l>表注の入れ方</p><p b>—</p><p l>追い込み形式</p></div>
<div><p b>α</p><ul><li> </ul><p b>β</p><ul><li> </ul><p b>γ</p><ul><li> </ul><p b>δ</p><ul><li> </ul><p b>η</p><ul><li> </ul><p b>ζ</p></div>
<div><p d>項目</p><ul><li> <li>A</ul></div>
<div><p d>項目</p><p b>１</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>8<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>8<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>9<li> <li>×<li> </ul><p b>○</p></div>
<div><p d>項目</p><p b>２</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>9<li> </ul><p b>○</p><ul><li> </ul><p b>△</p><ul><li> </ul><p b>∗</p><ul><li>1<li>0<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li>1<li> </ul><p b>△</p><ul><li> </ul><p b>∗</p><ul><li>1<li>0</ul></div>
<div><p d>項目</p><p b>３</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>8<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>8<li> <li>×<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>8<li> <li>×</ul></div>
<div><p d>項目</p><ul><li> <li>B</ul></div>
<div><p d>項目</p><p b>１</p><ul><li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li>2<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li>2<li> <li>×<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li>3<li> <li>×</ul></div>
<div><p d>項目</p><p b>２</p><ul><li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li>4<li> <li>×<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li>4<li> </ul><p b>○</p><ul><li> </ul><p b>∗</p><ul><li>1<li>4<li> <li>×</ul></div>
<div><p b>∗</p><ul><li>8<li> <li> </ul><p l>脚注は参照キ</p><p b>ー</p><p r>によって参照します</p><p b>．</p><p t>脚注の内容はまとめて</p><p b>，</p><p z>ここに示すように列挙します</p><p b>．</p><ul><li> </ul><p b>∗</p><ul><li>9<li> </ul><p d>脚注</p><ul><li> <li>2<li> </ul><p b>∗</p><ul><li>1<li>0<li> </ul><p d>脚注</p><ul><li> <li>3<li> </ul><p b>∗</p><ul><li>1<li>1<li> </ul><p b>脚</p></div>
<div><p b>注</p><ul><li> <li>4<li> </ul><p b>∗</p><ul><li>1<li>2<li> </ul><p d>脚注</p><ul><li> <li>5<li> </ul><p b>∗</p><ul><li>1<li>3<li> </ul><p d>脚注</p><ul><li> <li>6<li> </ul><p b>∗</p><ul><li>1<li>4<li> </ul><p d>脚注</p><ul><li> <li>7</ul></div>
<div><ul><li>1<li>3<li>.<li>3<li> </ul><p j>マクロ解説</p></div>
<div><ul><li>1<li>3<li>.<li>3<li>.<li>1<li> </ul><p v>全体の方針表注の内容は</p><p b>，</p><p l>中間ファイル</p><ul><li> <li>(<li>.<li>t<li>b<li>n<li> </ul><p h>ファイル</p><ul><li>)<li> </ul><p h>に格納し</p><p b>，</p><p l>出力のときは</p><p b>，</p><p bk>これを読み込んでそのまま出力するよう</p></div>
<div><p h>にします</p><p b>．</p><p j>相互参照は</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>と</p><ul><li>\<li>r<li>e<li>f<li> </ul><p bo>を使うものを処理の内部で使うようにします</p><p b>．</p></div>
<div><p j>次に上のソ</p><p b>ー</p><p bq>スリストから関係の部分を取り出して示します</p><p b>．</p><p d>まず</p><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p f>命令で</p><p b>，</p><ul><li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><p l>を作成します</p><p b>．</p><p f>カウン</p></div>
<div><p b>タ</p><p b>ー</p><p p>の数を増やすのは</p><p b>，</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li> </ul><p j>命令の中で</p><p b>，</p><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li> </ul><p p>を利用しています</p><p b>．</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p z>は別に宣言するのではなくて</p><p b>，</p><ul><li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l</ul></div>
<div><ul><li> </ul><p bg>命令の内部で用いるようにしました</p><p b>．</p><p bi>表注番号の出力もこの命令で行います</p><p b>．</p><ul><li>\<li>T<li>N<li>r<li>e<li>f<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>r<li>e<li>f<li> </ul><p x>の出力を調整したものです</p><p b>．</p></div>
<div><ul><li>%<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>,<li> <li>T<li>N<li>r<li>e<li>f<li>,<li> <li>T<li>N<li>t<li>e<li>x<li>t</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>{<li>0<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>l<li>a<li>b<li>e<li>l<li>#<li>1<li>{<li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>\<li>l<li>a<li>b<li>e<li>l<li>{<li>#<li>1<li>}<li>$<li>^<li>{<li>*<li>\<li>t<li>h<li>e<li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li>}<li>$<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>r<li>e<li>f<li>#<li>1<li>{<li>$<li>^<li>{<li>*<li>\<li>r<li>e<li>f<li>{<li>#<li>1<li>}<li>}<li>$<li>}</ul></div>
<div><ul><li>1<li>3<li> <li>.<li>3<li>.<li>2<li> </ul><p p>中間ファイルのオ</p><p b>ー</p><p j>プンとクロ</p><p b>ー</p><p v>ズ中間ファイルの名前を</p><ul><li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>b<li>n<li> </ul><p l>としましょう</p><p b>．</p><ul><li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li> </ul><p x>は現在処理している文書フ</p></div>
<div><p f>ァイル</p><ul><li> <li>(<li>t<li>e<li>x<li> </ul><p h>ファイル</p><ul><li>)<li> </ul><p j>の名称です</p><p b>．</p><ul><li>\<li>n<li>e<li>w<li>w<li>r<li>i<li>t<li>e<li> </ul><p f>命令で</p><p b>，</p><p t>ファイル出力のストリ</p><p b>ー</p><p x>ム番号を新たに宣言します</p><p b>．</p><p j>任意ですが</p><p b>，</p></div>
<div><ul><li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li> </ul><p v>とすることにしましょう</p><p b>．</p><p j>この番号を</p><p b>，</p><p v>実ファイルに割り当てて</p><p b>，</p><p b>オ</p><p b>ー</p><p l>プンするのが</p><p b>，</p><ul><li>\<li>o<li>p<li>e<li>n<li>o<li>u<li>t</ul></div>
<div><p n>という命令です</p><p b>．</p><ul><li>\<li> <li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li> </ul><p b>は</p><p b>，</p><p j>すぐさまオ</p><p b>ー</p><p bg>プンするということを表しています</p><p b>．</p><p j>次の部分が</p><p b>，</p><p be>このような処理を記述しています</p></div>
<div><p b>．</p></div>
<div><ul><li>%<li> <li>c<li>r<li>e<li>a<li>t<li>e<li> <li>a<li>n<li>d<li> <li>o<li>p<li>e<li>n<li> <li>.<li>t<li>b<li>n<li> <li>f<li>i<li>l<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>{<li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>%</ul><p bc>補助ファイル出力のスイッチが</p><ul><li> <li>t<li>r<li>u<li>e<li> </ul><p h>のときは</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>w<li>r<li>i<li>t<li>e<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>\<li>r<li>e<li>l<li>a<li>x<li>%<li>\</ul><p d>番号</p><ul><li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li> </ul><p f>を用意</p></div>
<div><ul><li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>o<li>p<li>e<li>n<li>o<li>u<li>t<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>b<li>n<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p f>これを</p><ul><li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>b<li>n<li> </ul><p f>に割当</p></div>
<div><ul><li>7<li>4<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>@<li>n<li>o<li>b<li>r<li>e<li>a<li>k<li>f<li>a<li>l<li>s<li>e<li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>}</ul></div>
<div><p z>書き込みが終ったファイルは</p><p b>，</p><p p>出力する前にクロ</p><p b>ー</p><p h>ズします</p><p b>．</p><ul><li>\<li>t<li>h<li>e<li>T<li>b<li>l<li>n<li>o<li>t<li>e<li> </ul><p n>命令の中にある</p><ul><li>\<li>c<li>l<li>o<li>s<li>e<li>o<li>u<li>t</ul></div>
<div><p n>がその命令です</p><p b>．</p><p j>この部分は</p><p b>，</p><ul><li>\<li> <li>o<li>p<li>e<li>n<li>o<li>u<li>t<li> </ul><p r>と同じ構文ですから</p><p b>，</p><p p>容易にわかります</p><p b>．</p><p d>次に</p><p b>，</p><ul><li>t<li>b<li>n<li> </ul><p bi>ファイルに書き込まれた内容を出力す</p></div>
<div><p h>るために</p><p b>，</p><ul><li>\<li>i<li>n<li>p<li>u<li>t<li> </ul><p v>命令で読み込んでいます</p><p b>．</p></div>
<div><ul><li>%<li> <li>c<li>l<li>o<li>s<li>e<li> <li>.<li>t<li>b<li>n<li> <li>f<li>i<li>l<li>e<li> <li>-<li>-<li>-<li> <li>p<li>r<li>i<li>n<li>t<li> <li>t<li>a<li>b<li>l<li>e<li>n<li>o<li>t<li>e<li>s</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>h<li>e<li>T<li>b<li>l<li>n<li>o<li>t<li>e<li>{<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>c<li>l<li>o<li>s<li>e<li>o<li>u<li>t<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li>\<li>f<li>o<li>o<li>t<li>n<li>o<li>t<li>e<li>s<li>i<li>z<li>e</ul></div>
<div><ul><li>\<li>p<li>a<li>r<li>\<li>n<li>o<li>i<li>n<li>d<li>e<li>n<li>t<li>\<li>i<li>n<li>p<li>u<li>t<li>{<li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>b<li>n<li>}<li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>}</ul></div>
<div><ul><li>1<li>3<li> <li>.<li>3<li>.<li>3<li> </ul><p bg>中間ファイルへの出力中間ファイル</p><ul><li> <li>(<li>t<li>b<li>n<li> </ul><p h>ファイル</p><ul><li>)<li> </ul><p n>への書き出しは</p><p b>，</p><ul><li>\<li>T<li>N<li>o<li>t<li>e<li> </ul><p v>命令が受け持っています</p><p b>．</p><p f>内部で</p><p b>，</p><ul><li>\<li>w<li>r<li>i<li>t<li>e<li> </ul><p b>命</p></div>
<div><p p>令を使っています</p><p b>．</p><p bi>これに続く中括弧の中がその内容です</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>o<li>t<li>e<li>#<li>1<li>#<li>2<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li>=<li>#<li>1<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>i<li>m<li>m<li>e<li>d<li>i<li>a<li>t<li>e<li>\<li>w<li>r<li>i<li>t<li>e<li>\<li>t<li>f<li>@<li>t<li>b<li>l<li>n<li>t<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>\<li>t<li>h<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>b<li>}<li>{<li>#<li>2<li>}<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><p d>引数</p><ul><li>#<li>1<li> </ul><p b>は</p><p b>，</p><ul><li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><p h>の値です</p><p b>．</p><p d>引数</p><ul><li>#<li>2<li> </ul><p b>は</p><p b>，</p><p bc>表注の内容が格納されています</p><p b>．</p><p p>このことによって</p><p b>，</p><p h>たとえば</p><p b>，</p><p b>表</p><ul><li> <li>1<li>3<li>.<li>2<li> </ul><p b>を</p></div>
<div><p l>作ったときの</p><ul><li> <li>t<li>b<li>n<li> </ul><p bi>ファイルの内容は次のようになります</p><p b>．</p></div>
<div><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>8<li>}<li>{</ul><p l>脚注は参照キ</p><p b>ー</p><p r>によって参照します</p><p b>．</p><p t>脚注の内容はまとめて</p><p b>，</p></div>
<div><p z>ここに示すように列挙します</p><p b>．</p><ul><li>}</ul></div>
<div><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>9<li>}<li>{</ul><p d>脚注</p><ul><li> <li>2<li>}</ul></div>
<div><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>1<li>0<li>}<li>{</ul><p d>脚注</p><ul><li> <li>3<li>}</ul></div>
<div><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>1<li>1<li>}<li>{</ul><p d>脚注</p><ul><li> <li>4<li>}</ul></div>
<div><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>1<li>2<li>}<li>{</ul><p d>脚注</p><ul><li> <li>5<li>}</ul></div>
<div><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>1<li>3<li>}<li>{</ul><p d>脚注</p><ul><li> <li>6<li>}</ul></div>
<div><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>{<li>1<li>4<li>}<li>{</ul><p d>脚注</p><ul><li> <li>7<li>}</ul></div>
<div><p d>この</p><ul><li>\<li> <li>T<li>N<li>o<li>t<li>e<li> </ul><p f>命令は</p><p b>，</p><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li> </ul><p z>命令の中で使用されています</p><p b>．</p><p j>この命令は</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p bw>ファイルが読み込まれたときに発生する相互参照の制</p></div>
<div><p d>御綴</p><ul><li>\<li> <li>r<li>@<li>#<li>1<li>(<li> </ul><p d>引数</p><ul><li>#<li>1<li> </ul><p n>は相互参照のキ</p><p b>ー</p><ul><li>)<li> </ul><p bc>がすでにあるかどうかを判定し</p><p b>，</p><p bq>あればその中に格納されている情報のなかから</p><p b>，</p><ul><li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e</ul></div>
<div><p h>カウンタ</p><p b>ー</p><p r>の値を取り出します</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p></div>
<div><p n>の隠しコマンド</p><ul><li>\<li>@<li> <li>c<li>a<li>r<li> </ul><p p>を利用しています</p><p b>．</p><p j>取り出した</p><ul><li> <li>T<li>a<li>b<li>l<li>e<li>N<li>o<li>t<li>e<li> </ul><p h>カウンタ</p><p b>ー</p><p d>の値</p><ul><li> <li>(</ul><p f>文字列</p><ul><li>)<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>b<li> </ul><p t>に一時保存しています</p><p b>．</p><p b>こ</p></div>
<div><p r>の文字列をカウンタ</p><p b>ー</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> </ul><p x>に移して数値化しています</p><p b>．</p><p r>このような処理の後</p><p b>，</p><p f>上述の</p><ul><li>\<li>T<li>N<li>o<li>t<li>e<li> </ul><p z>命令を実行しているわけです</p><p b>．</p><p b>こ</p></div>
<div><p h>の説明で</p><p b>，</p><p h>次に示す</p><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li> </ul><p bi>命令の定義は容易にたどれるはずです</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>N<li>t<li>e<li>x<li>t<li>#<li>1<li>#<li>2<li>{<li>\<li>@<li>i<li>f<li>u<li>n<li>d<li>e<li>f<li>i<li>n<li>e<li>d<li>{<li>r<li>@<li>#<li>1<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>=<li>0<li>}<li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li>{<li>\<li>@<li>n<li>a<li>m<li>e<li>u<li>s<li>e<li>{<li>r<li>@<li>#<li>1<li>}<li>}<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>{<li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>@<li>c<li>a<li>r<li>\<li>@<li>t<li>e<li>m<li>p<li>a<li> <li>\<li>@<li>n<li>i<li>l<li>\<li>n<li>u<li>l<li>l<li>}<li>%</ul></div>
<div><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>=<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>}<li>\<li>T<li>N<li>o<li>t<li>e<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>}<li>{<li>#<li>2<li>}<li>\<li>i<li>g<li>n<li>o<li>r<li>e<li>s<li>p<li>a<li>c<li>e<li>s<li>}</ul></div>
<div class=_mark id=mark43><a  href='#toc43'><p b>第</p><ul><li> <li>1<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>中間ファイルの新設</p><ul><li> <li>7<li>5</ul></a></div>
<div><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li> </ul><p n>の定義の最後に</p><ul><li>\<li>i<li>g<li>n<li>o<li>r<li>e<li>s<li>p<li>a<li>c<li>e<li>s<li> </ul><p r>を宣言してあります</p><p b>．</p><p f>これは</p><p b>，</p><p bi>後続の半角の空白を取り除くものです</p><p b>．</p><ul><li>\<li>T<li>N<li>t<li>e<li>x<li>t<li> </ul><p l>命令をたくさ</p></div>
<div><p h>ん連ねて</p><p b>，</p><p t>指定してゆきますので</p><p b>，</p><p bw>この宣言がないと表注の出力位置が狂ってしまします</p><p b>．</p></div>
<div><ul><li>1<li>3<li>.<li>3<li>.<li>4<li> </ul><p bc>中間ファイルの読み込み上述の</p><ul><li>\<li>t<li>h<li>e<li>T<li>b<li>l<li>n<li>o<li>t<li>e<li> </ul><p f>命令は</p><p b>，</p><ul><li>t<li>b<li>n<li> </ul><p bk>ファイルを読み込む働きももっています</p><p b>．</p><ul><li>\<li>i<li>n<li>p<li>u<li>t<li> </ul><p p>命令の部分がそれ</p></div>
<div><p d>です</p><p b>．</p><ul><li>t<li>b<li>n<li> </ul><p z>ファイルが読み込まれますと</p><p b>，</p><p l>書き込まれた</p><ul><li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li> </ul><p z>が実行されることになります</p><p b>．</p><p f>これは</p><p b>，</p><p d>引数</p><ul><li>#<li>1<li> </ul><p p>の表注番号と引数</p><ul><li>#</ul></div>
<div><ul><li>2<li> </ul><p p>の内容を整形して</p><p b>，</p><p bc>実際に出力するための命令です</p><p b>．</p><p f>この際</p><p b>，</p><p bm>追い込み形式にするか列挙形式にするかを</p><p b>，</p><ul><li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> </ul><p l>スイッチで判</p></div>
<div><p f>断して</p><p b>，</p><p v>処理を分岐させています</p><p b>．</p></div>
<div><ul><li>%<li> <li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>,<li> <li>s<li>w<li>i<li>t<li>c<li>h<li> <li>f<li>o<li>r<li> <li>a<li>n<li> <li>o<li>i<li>k<li>o<li>m<li>i<li> <li>f<li>o<li>r<li>m<li>a<li>t</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>i<li>f<li>\<li>i<li>f<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> <li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>f<li>a<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>b<li>n<li>t<li>t<li>e<li>x<li>t<li>#<li>1<li>#<li>2<li>{<li>\<li>i<li>f<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> <li>$<li>^<li>{<li>*<li>#<li>1<li>}<li>$<li>~<li>#<li>2<li>\<li>h<li>s<li>k<li>i<li>p<li>1<li>.<li>5<li>e<li>m</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>n<li>o<li>i<li>n<li>d<li>e<li>n<li>t<li>$<li>^<li>{<li>*<li>#<li>1<li>}<li>$<li>\<li>h<li>s<li>k<li>i<li>p<li>1<li>e<li>m<li>#<li>2<li>\<li>p<li>a<li>r<li>\<li>v<li>s<li>k<li>i<li>p<li>.<li>5<li>e<li>x<li>\<li>f<li>i<li>}</ul></div>
<div><p f>ここで</p><p b>，</p><ul><li>\<li> <li>n<li>e<li>w<li>i<li>f<li> </ul><p v>命令がでてきましたので</p><p b>，</p><p z>これを説明しておきましょう</p><p b>．</p><ul><li>\<li>n<li>e<li>w<li>i<li>f<li>\<li>i<li>f<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> </ul><p l>と書きますと</p><p b>，</p><ul><li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> </ul><p j>なるスイッ</p></div>
<div><p p>チが作成されます</p><p b>．</p><p j>この実態は</p><p b>，</p><p j>真のときの</p><ul><li>\<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>t<li>r<li>u<li>e<li> </ul><p l>という制御綴</p><p b>，</p></div>
<div><p j>偽のとくの</p><ul><li>\<li> <li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>f<li>a<li>l<li>s<li>e<li> </ul><p l>という制御綴</p><p b>，</p><p v>さらに条件判断のための</p><ul><li>\<li>i<li>f<li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li> </ul><p z>という制御綴が作成されます</p><p b>．</p><p j>上の例では</p><p b>，</p><p f>デフォ</p></div>
<div><p j>ルトとして</p><p b>，</p><ul><li>\<li> <li>T<li>N<li>o<li>i<li>k<li>o<li>m<li>i<li>f<li>a<li>l<li>s<li>e<li> <li> </ul><p r>を宣言してあるので</p><p b>，</p><p bi>普通は列挙形式の表注になるわけです</p><p b>．</p><p r>これまでにでてきた</p><ul><li>\<li>@<li> <li>f<li>i<li>l<li>e<li>s<li>w<li> <li> </ul><p f>などの</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p v>のスイッチも同じように</p><ul><li>\<li>n<li>e<li>w<li>i<li>f<li> </ul><p bc>命令で定義されているわけです</p><p b>．</p><p r>ある条件が真か偽で</p><p b>，</p><p bc>処理を分岐させる常法ですので</p><p b>，</p><p b>記</p></div>
<div><p t>憶しておくと便利です</p><p b>．</p></div>
<div><ul><li>1<li>3<li> <li>.<li>3<li>.<li>5<li> </ul><p v>環境新設これを総合して</p><p b>，</p><ul><li>t<li>b<li>l<li>n<li>o<li>t<li>e<li> </ul><p v>環境として整えましょう</p><p b>．</p><p j>この目的は</p><p b>，</p><p bs>表注の出力幅を指定できるようにすることにあり</p></div>
<div><p b>ま</p><ul><li> </ul><p b>す</p><p b>．</p><p n>オプション引数</p><ul><li> </ul><p f>として</p><p b>，</p><p j>獲得した寸</p><ul><li> </ul><p b>法</p><ul><li> <li>(</ul><p l>表注の出力幅</p><ul><li>)<li> <li> </ul><p r>を新しく作成した寸</p><ul><li> </ul><p b>法</p><ul><li>\<li>T<li>N<li>d<li>i<li>m<li>e<li>n<li> </ul><p j>に格納しま</p><ul><li> </ul><p b>す</p><p b>．</p><p f>この後</p><p b>，</p><p f>上述の</p><ul><li>\</ul></div>
<div><ul><li>t<li>h<li>e<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li> </ul><p n>が実行されます</p><p b>．</p></div>
<div><ul><li>%<li> <li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}<li>.<li>.<li>.<li>\<li>e<li>n<li>d<li>{<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>d<li>i<li>m<li>e<li>n<li>\<li>T<li>N<li>d<li>i<li>m<li>e<li>n</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>{<li>\<li>@<li>i<li>f<li>n<li>e<li>x<li>t<li>c<li>h<li>a<li>r<li>[<li>{<li>\<li>@<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}<li>{<li>\<li>@<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>[<li>\<li>t<li>e<li>x<li>t<li>w<li>i<li>d<li>t<li>h<li>]<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>[<li>#<li>1<li>]<li>{<li>\<li>T<li>N<li>d<li>i<li>m<li>e<li>n<li>=<li>#<li>1<li>\<li>t<li>h<li>e<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>}</ul></div>
<div><ul><li>t<li>b<li>l<li>n<li>o<li>t<li>e<li> <li> </ul><p h>環境の終</p><ul><li> </ul><p d>りは</p><p b>，</p><ul><li>\<li>m<li>i<li>n<li>i<li>p<li>a<li>g<li>e<li> <li> </ul><p h>環境を利</p><ul><li> </ul><p f>用して</p><p b>，</p><p b>出</p><ul><li> </ul><p j>力幅を制御</p><ul><li> </ul><p j>しています</p><ul><li> </ul></p><p b>．</p><p f>内部で</p><p b>，</p><ul><li> </ul></p><ul><li>\<li>t<li>h<li>e<li>T<li>b<li>l<li>n<li>o<li>t<li>e<li> </ul><p d>を実</p><ul><li> </ul><p l>行しています</p><p b>．</p><ul><li>\</ul></div>
<div><ul><li>b<li>a<li>s<li>e<li>l<li>i<li>n<li>e<li>s<li>k<li>i<li>p<li>=<li>0<li>.<li>5<li>e<li>x<li> </ul><p x>は行間隔を調整しています</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>t<li>b<li>l<li>n<li>o<li>t<li>e<li>{<li>\<li>p<li>a<li>r<li>\<li>v<li>s<li>k<li>i<li>p<li>1<li>e<li>x</ul></div>
<div><ul><li>\<li>m<li>i<li>n<li>i<li>p<li>a<li>g<li>e<li>{<li>\<li>T<li>N<li>d<li>i<li>m<li>e<li>n<li>}<li>\<li>b<li>a<li>s<li>e<li>l<li>i<li>n<li>e<li>s<li>k<li>i<li>p<li>=<li>0<li>.<li>5<li>e<li>x<li>\<li>t<li>h<li>e<li>T<li>b<li>l<li>n<li>o<li>t<li>e<li> <li>\<li>e<li>n<li>d<li>m<li>i<li>n<li>i<li>p<li>a<li>g<li>e<li>}</ul></div>
<div><ul><li>1<li>3<li>.<li>4<li> </ul><p bu>その他の方法出回っているスタイルファイルの中に</p><p b>，</p><ul><li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>s<li>.<li>s<li>t<li>y<li> </ul><p j>があります</p><p b>．</p><p l>これを使えば</p><p b>，</p><p d>表注</p><ul><li> <li>(</ul><p n>というより後注</p><ul><li>)</ul></div>
<div><p n>が実現できます</p><p b>．</p><p v>このスタイルファイルの</p><ul><li>\<li> <li>e<li>n<li>d<li>n<li>o<li>t<li>e<li> </ul><p n>命令そのものは</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>/<li>\<li>r<li>e<li>f<li> </ul><p z>による相互参照ができません</p><p b>．</p><p f>そこで</p><p b>，</p><p h>少し変更</p></div>
<div><p d>して</p><p b>，</p></div>
<div><ul><li>7<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>s<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>{<li>\<li>@<li>i<li>f<li>n<li>e<li>x<li>t<li>c<li>h<li>a<li>r<li>[<li>{<li>\<li>@<li>x<li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>}<li>{<li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r</ul></div>
<div><ul><li>{<li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>}<li>\<li>x<li>d<li>e<li>f<li>\<li>@<li>t<li>h<li>e<li>e<li>n<li>m<li>a<li>r<li>k<li>{<li>\<li>t<li>h<li>e<li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>}<li>\<li>@<li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>m<li>a<li>r<li>k<li>\<li>@<li>e<li>n<li>d<li>n<li>o<li>t<li>e<li>t<li>e<li>x<li>t<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}<li>.<li>.<li>.</ul></div>
<div><p bk>のようにプリアンブルに書いておきます</p><p b>．</p><p l>これによって</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>/<li>\<li>r<li>e<li>f<li> </ul><p be>による相互参照が可能になります</p><p b>．</p></div>
<div><p d>ただ</p><p b>，</p><ul><li>$<li>^<li>{<li>\<li>r<li>e<li>f<li>{<li>f<li>o<li>o<li>}<li>}<li>$</ul><p x>のように出力を整えるなど</p><p b>，</p><p bg>いくつかの細かい手直しが必要です</p><p b>．</p></div>
<div><ul><li>7<li>7</ul></div>
<div><p b>第</p><ul><li>1<li>4</ul><p b>章</p><ul><li> </ul><p bc>目次用の中間ファイル文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p bg>目次の項目が出力されるファイルが</p><ul><li> <li>t<li>o<li>c<li> </ul><p l>ファイルです</p><p b>．</p><p f>普段は</p><p b>，</p><p bc>このファイルは発生しませんが</p><p b>，</p><p f>特別に</p></div>
<div><ul><li>\<li> <li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p bo>を宣言したときにはじめて発生するものです</p><p b>．</p><p f>今回は</p><p b>，</p><p bc>情報の交換という点に注目して</p><p b>，</p><p v>このさまざまな使い方を</p></div>
<div><p n>説明しましょう</p><p b>．</p></div>
<div><p h>この章は</p><p b>，</p><p d>拙著</p><p b>「</p><p f>化学者</p><p b>・</p><p p>生化学者のための</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p b>」</p><p b>の</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>6<li> </ul><p bs>章とあわせて読まれると理解が深まると思います</p><p b>．</p></div>
<div><ul><li>1<li>4<li> <li>.<li>1<li> <li>t<li>o<li>c<li> <li> </ul><p f>ファイ</p><ul><li> </ul><p h>ルへの書</p><ul><li> </ul><p h>き出し命</p><ul><li> </ul><p h>令の作成</p><ul><li> </ul><p d>まず</p><p b>，</p><p b>説</p><ul><li> </ul><p h>明のため</p><ul><li> </ul><p b>に</p><p b>，</p><ul><li>\<li>t<li>o<li>c<li>o<li>u<li>t<li>p<li>u<li>t<li> <li> </ul><p f>命令を</p><ul><li> </ul><p h>作ります</p><ul><li> </ul></p><p b>．</p><p t>目次を作成するために</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> <li> </ul><p cc>命令を文書の最初に宣言することはご存じのことと思います</p><p b>．</p><p d>この</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p f>命令は</p><p b>，</p><p r>次の二つの働きをも</p></div>
<div><p j>っています</p><p b>．</p></div>
<div><ul><li>1<li>.<li> </ul><p j>目次項目の</p><ul><li> <li>t<li>o<li>c<li> </ul><p p>ファイルへの出力</p></div>
<div><ul><li>2<li>.<li> </ul><p bc>目次の出力ある文書を分割して</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>処理をしたいときに</p><p b>，</p><p l>各部分ごとに</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p p>命令を宣言すると</p><p b>，</p></div>
<div><p v>目次が出力されるためペ</p><p b>ー</p><p v>ジ数が狂ってしまいます</p><p b>．</p><p z>手動でやることもできますが</p><p b>，</p><p h>ここでは</p><p b>，</p><p bi>上記第一の機能だけを取り出してみま</p></div>
<div><p f>しょう</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>o<li>c<li>o<li>u<li>t<li>p<li>u<li>t<li>{<li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r<li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>\<li>n<li>e<li>w<li>w<li>r<li>i<li>t<li>e<li>\<li>t<li>f<li>@<li>t<li>o<li>c</ul></div>
<div><ul><li>\<li>o<li>p<li>e<li>n<li>o<li>u<li>t<li>\<li>t<li>f<li>@<li>t<li>o<li>c<li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>o<li>c<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>f<li>i<li> <li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>@<li>n<li>o<li>b<li>r<li>e<li>a<li>k<li>f<li>a<li>l<li>s<li>e<li> <li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>}</ul></div>
<div><p p>このようにすれば</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p by>ファイルへの情報出力だけを行うことが可能になります</p><p b>．</p><p j>長い文書は</p><p b>，</p><p bg>分割処理をすることが普通ですので</p><p b>，</p></div>
<div><p x>この命令は意外に便利です</p><p b>．</p></div>
<div><p bo>この命令の成り立ちを説明しておきましょう</p><p b>．</p><p f>とくに</p><p b>，</p><p bw>ファイルの新設についての命令が含まれていますので</p><p b>，</p><p t>おぼえておくとよいで</p></div>
<div><p f>しょう</p><p b>．</p><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li> </ul><p b>と</p><ul><li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li> </ul><p b>は</p><p b>，</p><p x>中括弧と同じ働きをします</p><p b>．</p><p h>これらは</p><p b>，</p><p p>中括弧と異なって</p><p b>，</p><p be>別の命令の定義の中に含まれてい</p></div>
<div><p n>ても構いません</p><p b>．</p><p j>この場合は</p><p b>，</p><p z>同じ命令の中で使っています</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r<li> </ul><p bq>命令をこの範囲に制限するために入れています</p></div>
<div><p b>．</p><p n>この命令の中で</p><p b>，</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>w<li>r<li>i<li>t<li>e<li>\<li>t<li>f<li>@<li>t<li>o<li>c</ul></div>
<div><ul><li>\<li>o<li>p<li>e<li>n<li>o<li>u<li>t<li>\<li>t<li>f<li>@<li>t<li>o<li>c<li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>o<li>c</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>0<li>9<li>)</ul></div>
<div><ul><li>7<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bg>まくろの八衢という記述があります</p><p b>．</p><ul><li>\<li>n<li>e<li>w<li>w<li>r<li>i<li>t<li>e<li> </ul><p bm>命令はファイルを新設するための命令です</p><p b>．</p><p l>これによって</p><p b>，</p></div>
<div><p p>新しい出力ストリ</p><p b>ー</p><p h>ムの番号</p><ul><li>\<li>t<li>f<li>@<li>t<li>o<li>c<li> </ul><p n>が用意されます</p><p b>．</p><p v>このファイルを開くには</p><p b>，</p><ul><li>\<li>o<li>p<li>e<li>n<li>o<li>u<li>t<li> </ul><p n>命令を使います</p><p b>．</p><p d>上の</p></div>
<div><ul><li>2<li> </ul><p r>行目の宣言によって</p><p b>，</p><p f>現在の</p><ul><li> <li>t<li>e<li>x<li> </ul><p j>ファイル名</p><ul><li> <li>(<li>\<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li> </ul><p f>に保存</p><ul><li>)<li> </ul><p b>に</p><ul><li>.<li>t<li>o<li>c<li> </ul><p bm>を拡張子として付けたファイルを開きます</p><p b>．</p></div>
<div><ul><li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li> </ul><p j>というのは</p><p b>，</p><p r>前にもでてきました</p><p b>．</p><p bg>ここで正式に説明しておきましょう</p><p b>．</p><ul><li>\<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li> </ul><p b>は</p><p b>，</p><p be>ファイルを出力するかどうかのス</p></div>
<div><p j>イッチです</p><p b>．</p><p f>これは</p><p b>，</p><p f>通常は</p><ul><li>\<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>t<li>r<li>u<li>e<li> </ul><p r>の状態にありますが</p><p b>，</p><ul><li>\<li>n<li>o<li>f<li>i<li>l<li>e<li>s</ul></div>
<div><p r>が宣言されたときに</p><ul><li>\<li>@<li> <li>f<li>i<li>l<li>e<li>s<li>w<li>f<li>a<li>l<li>s<li>e<li> </ul><p p>の状態になります</p><p b>．</p><ul><li>\<li>i<li>f<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li> </ul><p j>というのは</p><p b>，</p><p bu>この二つの状態のどちらにあるかを判断する条件文</p></div>
<div><p d>です</p><p b>．</p><ul><li>\<li>@<li>f<li>i<li>l<li>e<li>s<li>w<li>t<li>r<li>u<li>e<li> </ul><p f>の状態</p><ul><li> </ul><p h>にあれば</p><p b>，</p><p bg>それに引き続く命令群を実行します</p><p b>．</p></div>
<div><ul><li>\<li>@<li> <li>n<li>o<li>b<li>r<li>e<li>a<li>k<li>f<li>a<li>l<li>s<li>e<li> <li>(<li>\<li>@<li>n<li>o<li>b<li>r<li>e<li>a<li>k<li>t<li>r<li>u<li>e<li> </ul><p d>と対</p><ul><li>)<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li> </ul><p r>が宣言されたときに</p><p b>，</p><p t>節の変わり目などでペ</p><p b>ー</p><p be>ジが変わらないようにするための</p></div>
<div><p n>スイッチですが</p><p b>，</p><p bo>今回は余り重要に考えなくともよいでしょう</p><p b>．</p><p v>容易に類推できるように</p><p b>，</p><p n>このスイッチは</p><p b>，</p><ul><li>\<li>i<li>f<li>@<li>n<li>o<li>b<li>r<li>e<li>a<li>k<li>·<li>·<li>·<li>\<li>f<li>i<li> </ul><p d>の構</p></div>
<div><p n>文で判断します</p><p b>．</p></div>
<div><ul><li>1<li>4<li>.<li>2<li> </ul><p r>目次の出力の仕組み</p></div>
<div><ul><li>1<li>4<li>.<li>2<li>.<li>1<li> <li>a<li>u<li>x<li> </ul><p t>ファイルへの書き出し</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>処理の際に</p><p b>，</p><p l>目次の項目は</p><ul><li> <li>t<li>o<li>c<li> </ul><p bo>ファイルにかき出された情報によるのですが</p><p b>，</p><p bm>それまでにいくつかの手順を踏んでいます</p><p b>．</p></div>
<div><p bi>これを理解することが本節の目的です</p><p b>．</p></div>
<div><p r>目次に必要な項目は</p><p b>，</p><p h>まず補助</p><ul><li> <li>(<li>a<li>u<li>x<li>)<li> </ul><p z>ファイルへの書き出されます</p><p b>．</p><p f>これは</p><p b>，</p><p d>実は</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p bg>などの章立て命令の働きによります</p><p b>．</p><p b>こ</p></div>
<div><p j>の段階では</p><p b>，</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p d>命令</p><ul><li> <li>(</ul><p n>あるいは前節の</p><ul><li>\<li>t<li>o<li>c<li>o<li>u<li>t<li>p<li>u<li>t<li> </ul><p d>命令</p><ul><li>)<li> </ul><p b>は</p><p b>，</p></div>
<div><p bm>必ずしも宣言されていなくともよいのです</p><p b>．</p></div>
<div><ul><li>\<li> <li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p f>命令が</p><p b>，</p><p r>目次に関する項目を</p><ul><li> <li>a<li>u<li>x<li> </ul><p cc>ファイルにかき出すメカニズムはかなりむずかしいのですが</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>の特徴がよくあ</p></div>
<div><p n>らわれています</p><p b>．</p><ul><li>a<li>r<li>t<li>1<li>0<li>.<li>s<li>t<li>y<li> </ul><p n>ファイルなどに</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p x>命令が定義されていますが</p><p b>，</p><p r>この段階を調べても</p><p b>，</p><p j>この命令の</p><ul><li> <li>a<li>u<li>x<li> </ul><p j>ファイルへ</p></div>
<div><p v>の書き出し機能について</p><p b>，</p><p b>ソ</p><p b>ー</p><p ca>スリストの中には直接に手がかりになるものはありません</p><p b>．</p><p h>例として</p><p b>，</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p l>命令の定義を</p><ul><li> <li>a<li>r<li>t<li>1<li>0<li>.</ul></div>
<div><ul><li>s<li>t<li>y<li> </ul><p bc>ファイルの中から抜き出します</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>1<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>2<li>.<li>3<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>{<li>\<li>L<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><p j>したがって</p><p b>，</p><p h>内部命令</p><ul><li>\<li>@<li> <li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p bk>の機能をさらに調べなければなりません</p><p b>．</p><p bo>この命令はいろいろな機能をもっていますが</p><p b>，</p><p d>その</p></div>
<div><p d>中で</p><p b>，</p><p ca>目次の打ち出しの機能に限って追跡することにしましょう</p><p b>．</p><p be>ファイルを遡って追跡してゆくと</p><p b>，</p><p d>この</p><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p f>命令は</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>t<li>e<li>x<li> <li>\<li>m<li>a<li>c<li>r<li>o<li>s<li> </ul><p l>ディレクトリ</p><p b>ー</p><p b>の</p><ul><li> <li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li> </ul><p v>の中で定義されています</p><p b>．</p><p f>さらに</p><p b>，</p><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p p>の内部命令として</p><p b>，</p><p j>下請け命令</p><ul><li>\<li>@<li>s<li>e<li>c<li>t</ul></div>
<div><p j>があります</p><p b>．</p><p d>この</p><ul><li>\<li>@<li> <li>s<li>e<li>c<li>t<li> </ul><p f>の中で</p><p b>，</p><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> </ul><p n>を使っています</p><p b>．</p><p d>この</p><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> </ul><p j>定義の中に</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p r>ファイルへの書き出</p></div>
<div><p bk>しを担当している部分が含まれています</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>を起動すると</p><ul><li> <li>(<li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p x>の宣言の有無にかかわらず</p><ul><li>)</ul><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p h>ファイル</p><ul><li> <li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>a<li>u<li>x<li> </ul><p l>が作られます</p><p b>．</p><p j>その中には</p><p b>，</p><p b>他</p></div>
<div><p n>の情報とともに</p><p b>，</p><p bk>目次に関するものが書き出されています</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><ul><li>(<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>a<li>u<li>x<li> </ul><p l>の内容の一部</p><ul><li>)</ul></div>
<div><ul><li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e</ul></div>
<div><ul><li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>4<li>0<li>}</ul><p d>目次</p><ul><li>}<li>{<li>1<li>}<li>}</ul></div>
<div class=_mark id=mark44><a  href='#toc44'><p b>第</p><ul><li> <li>1<li>4<li> </ul><p b>章</p><ul><li>.<li> </ul><p t>目次用の中間ファイル</p><ul><li> <li>7<li>9</ul></a></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e</ul></div>
<div><ul><li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>4<li>0<li>.<li>1<li>}</ul><p j>目次の出力</p><ul><li>}<li>{<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e</ul></div>
<div><ul><li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>4<li>0<li>.<li>2<li>}</ul><p r>目次の出力の仕組み</p><ul><li>}<li>{<li>1<li>}<li>}</ul></div>
<div><ul><li>1<li>4<li>.<li>2<li>.<li>2<li> <li>a<li>u<li>x<li> </ul><p n>ファイルへから</p><ul><li> <li>t<li>o<li>c<li> </ul><p t>ファイルへこの段階で</p><p b>，</p><p be>文書中の目次を出力すべき箇所に</p><p b>，</p></div>
<div><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s</ul></div>
<div><p b>と</p><ul><li> </ul><p j>宣言すます</p><p b>．</p><p b>こ</p><ul><li> </ul><p n>の命令の機能の</p><ul><li> </ul><p f>一つは</p><p b>，</p><p f>上述の</p><ul><li> </ul><p f>ように</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p b>フ</p><ul><li> </ul><p l>ァイルへから</p><ul><li> <li> <li>t<li>o<li>c<li> </ul><p j>ファイルへ</p><ul><li> </ul><p n>の情報変換を行</p><ul><li> </ul><p j>うことです</p><p b>．</p><ul><li>\</ul></div>
<div><ul><li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p l>命令の定義は</p><p b>，</p><p cc>スタイルファイルの中で行われているので覗いてみましょう</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>{<li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>*<li>{<li>C<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>\<li>@<li>m<li>k<li>b<li>o<li>t<li>h<li>{<li>C<li>O<li>N<li>T<li>E<li>N<li>T<li>S<li>}<li>{<li>C<li>O<li>N<li>T<li>E<li>N<li>T<li>S<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>t<li>o<li>c<li>{<li>t<li>o<li>c<li>}<li>}</ul></div>
<div><p f>ただし</p><p b>，</p><p l>日本語の場合</p><ul><li> </ul><p b>“</p><ul><li>C<li>o<li>n<li>t<li>e<li>n<li>t<li>s</ul><p b>”</p><ul><li> </ul><p j>のところは</p><p b>，</p><p b>「</p><p d>目次</p><p b>」</p><p j>となります</p><p b>．</p><p h>この中の</p><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>t<li>o<li>c<li>{<li>t<li>o<li>c<li>}</ul><p b>は</p><p b>，</p><p l>拡張子として</p><ul><li>.<li>t<li>o<li>c<li> </ul><p j>をもつファ</p></div>
<div><p z>イルが存在すればそれを使い</p><p b>，</p><p h>無ければ</p><p b>，</p><p f>新たに</p><ul><li> <li>t<li>o<li>c<li> </ul><p bc>ファイルを作る機能をもちます</p><p b>．</p></div>
<div><p d>実は</p><p b>，</p><p t>この機能をとりだして</p><p b>，</p><p f>前節で</p><ul><li>\<li>t<li>o<li>c<li>o<li>u<li>t<li>p<li>u<li>t<li> </ul><p p>を作成したのです</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>処理の最後に</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p x>ファイルが読み込まれます</p><p b>．</p><ul><li>(</ul><p f>これは</p><p b>，</p><ul><li>\<li>e<li>n<li>d<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li> </ul><p t>命令の中で行われます</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p j>処理の際に</p><p b>，</p><p b>都</p></div>
<div><p b>合</p><ul><li> <li>2<li> <li> </ul><p b>回</p><ul><li> <li>a<li>u<li>x<li> </ul><p x>ファイルが読み込まれます</p><ul><li>)</ul><p b>．</p><p h>このとき</p><p b>，</p><p f>上記の</p><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li> </ul><p r>命令が実行されます</p><p b>．</p><p l>それによって</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p n>ファイルへの書</p></div>
<div><p x>き込みが行われるわけです</p><p b>．</p></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li> </ul><p t>による書き込みの際に</p><p b>，</p><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li> </ul><p t>が前に付いた制御綴は</p><p b>，</p><p l>実行されずに</p><p b>，</p><p bq>そのまま文字列として扱われることはすでに述</p></div>
<div><p n>べたとおりです</p><p b>．</p><p j>したがって</p><p b>，</p><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li> </ul><p l>命令によって</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p bc>ファイルに書き込まれたものは</p><p b>，</p><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> </ul><p b>と</p><ul><li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> </ul><p d>にな</p></div>
<div><p j>っています</p><p b>．</p><p d>一方</p><p b>，</p><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li> </ul><p n>が付いていない</p></div>
<div><ul><li>\<li>s<li>p<li>a<li>c<li>e<li> </ul><p p>命令は実行されて</p><p b>，</p><p t>半角の空白を生じます</p><p b>．</p><p f>上記の</p><ul><li> <li>a<li>u<li>x<li> </ul><p r>ファイルから生じた</p><ul><li> <li>t<li>o<li>c<li> </ul><p bc>ファイルの内容を次に示します</p><p b>．</p></div>
<div><ul><li>(<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>t<li>o<li>c<li> </ul><p f>の内容</p><ul><li>)</ul></div>
<div><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> <li>{<li>4<li>0<li>}</ul><p d>目次</p><ul><li>}<li>{<li>1<li>}</ul></div>
<div><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> <li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> <li>{<li>4<li>0<li>.<li>1<li>}</ul><p j>目次の出力</p><ul><li>}<li>{<li>1<li>}</ul></div>
<div><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> <li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> <li>{<li>4<li>0<li>.<li>2<li>}</ul><p r>目次の出力の仕組み</p><ul><li>}<li>{<li>2<li>}</ul></div>
<div><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p x>命令を宣言した後の最初の</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>処理においては</p><p b>，</p><p d>題字</p><p b>「</p><p d>目次</p><p b>」</p><ul><li>(</ul><p b>“</p><ul><li>C<li>o<li>n<li>t<li>e<li>n<li>t<li>s</ul><p b>”</p><ul><li>)<li> </ul><p x>が出力されているだけです</p><p b>．</p></div>
<div><ul><li>t<li>o<li>c<li> </ul><p x>ファイルが存在しないので</p><p b>，</p><p z>目次の内容は出力されません</p><p b>．</p><p f>しかし</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p></div>
<div><p n>処理の内部では</p><p b>，</p><p l>上記のような</p><ul><li> <li>t<li>o<li>c<li> </ul><p bc>ファイルが作られているのです</p><p b>．</p></div>
<div><ul><li>1<li>4<li>.<li>2<li>.<li>3<li> <li>t<li>o<li>c<li> </ul><p x>ファイルの内容を出力再度</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>を起動すると</p><p b>，</p><p f>今度は</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p v>ファイルが存在するので</p><p b>，</p><p t>これが読み込まれます</p><p b>．</p><p b>こ</p></div>
<div><p l>の読み込みは</p><p b>，</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p z>命令のもう一つの機能ですが</p><p b>，</p><p h>実際には</p><p b>，</p><p t>さらに下位の内部命令</p><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>t<li>o<li>c<li>{<li>t<li>o<li>c<li>}</ul></div>
<div><ul><li>8<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bc>まくろの八衢が分担しています</p><p b>．</p><p n>このことにより</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p z>ファイルに書き込まれている</p><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> </ul><p h>命令が実</p></div>
<div><p j>行されます</p><p b>．</p><p f>これは</p><p b>，</p><p bc>実際に目次を出力する命令です</p><p b>．</p></div>
<div><p d>目次</p></div>
<div><ul><li>4<li>0<li> </ul><p d>目次</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1</ul></div>
<div><ul><li>4<li>0<li>.<li>1<li> </ul><p j>目次の出力</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>1</ul></div>
<div><ul><li>4<li>0<li>.<li>2<li> </ul><p r>目次の出力の仕組み</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>2</ul></div>
<div><ul><li>\<li> <li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li> <li>S<li>E<li>C<li>}<li> </ul><p f>命令は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2<li> </ul><p b>ε</p><p j>の内部では</p><p b>，</p><ul><li>\<li>l<li> <li>@<li>S<li>E<li>C<li> </ul><p n>命令と同義です</p><p b>．</p><ul><li>S<li>E<li>C<li> </ul><p bc>は章建ての命令を表しています</p><p b>．</p><p h>たとえば</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}</ul><p f>命令は</p><p b>，</p><ul><li>\<li>l<li>@<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p n>命令と同義です</p><p b>．</p><ul><li>\<li>l<li>@<li>S<li>E<li>C<li> </ul><p f>命令は</p><p b>，</p></div>
<div><p bk>スタイルファイル中で定義されています</p><p b>．</p><p be>目次の体裁を変更したい場合には</p><p b>，</p><p bm>これらの命令を再定義すればよいわけです</p><p b>．</p></div>
<div><ul><li>8<li>1</ul></div>
<div><p b>第</p><ul><li>1<li>5</ul><p b>章</p><ul><li> </ul><p v>目次項目の追加文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><ul><li>1<li>5<li>.<li>1<li> </ul><p t>引数に関する注意事項</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><p x>相互参照を行っているため</p><p b>，</p><p r>これに関わる制御綴</p><ul><li> <li>(</ul><p h>コントロ</p><p b>ー</p><p d>ルシ</p><p b>ー</p><p f>ケンス</p><ul><li>)<li> </ul><p bi>の引数の中にさらに制御綴が含まれる</p></div>
<div><p b>と</p><p b>，</p><p z>面倒が起こることがあります</p><p b>．</p><p p>これを防ぐために</p><p b>，</p><ul><li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li> </ul><p n>命令を使います</p><p b>．</p><p d>この</p><ul><li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li> </ul><p x>命令が何のためにあるのか</p><p b>，</p><p f>なかな</p></div>
<div><p bg>か理解できなくて悩ましいものです</p><p b>．</p><p h>ここでは</p><p b>，</p><p bq>この命令が何をしているのかを理解するために</p><p b>，</p><p v>実験を行ってみましょう</p><p b>．</p></div>
<div><p b>ソ</p><p b>ー</p><p l>スリストには</p><p b>，</p><ul><li>\<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li> </ul><p p>命令の引数として</p><p b>「</p><ul><li>\<li>T<li>e<li>X<li>{<li>}<li> </ul><p f>および</p><ul><li> <li>T<li>E<li>X<li>/</ul><p b>」</p><p h>と書いて</p><p b>，</p><ul><li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li> </ul><p r>命令の有無によって</p><p b>，</p><p p>結果がどう違うか</p></div>
<div><p p>を追跡してみます</p><p b>．</p><p h>次に示す</p><ul><li> <li>t<li>e<li>s<li>t<li> <li>.<li>t<li>e<li>x<li> </ul><p p>ファイルを作って</p><p b>，</p><p bq>それから発生する補助ファイルを調べましょう</p><p b>．</p><ul><li>t<li>e<li>x<li> </ul><p h>ファイル</p><ul><li> </ul><p b>⇒</p><ul><li>a<li>u<li>x<li> </ul><p b>フ</p></div>
<div><p f>ァイル</p><ul><li> </ul><p b>⇒</p><ul><li>t<li>o<li>c<li> <li> </ul><p bg>ファイルの順で情報が移動するのは</p><p b>，</p><p t>上で示したとおりです</p><p b>．</p><p bg>生じたファイル内容を次に示します</p><p b>．</p><p f>ただし</p><p b>，</p><p h>見やすい</p></div>
<div><p bc>ように適当に改行してあります</p><p b>．</p><p j>このときの</p><ul><li> <li>d<li>v<li>i<li> </ul><p r>ファイルをプレビュ</p><p b>ー</p><p f>すると</p><p b>，</p><p l>章の見出しは</p><p b>「</p><ul><li>T<li>E<li>X<li> </ul><p f>および</p><ul><li> <li>T<li>E<li>X</ul><p b>」</p><p n>となっています</p><p b>．</p></div>
<div><ul><li>%<li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*</ul></div>
<div><ul><li>%<li> <li>*<li>(<li>t<li>e<li>s<li>t<li>.<li>t<li>e<li>x<li> </ul><p f>の内容</p><ul><li>)<li>*</ul></div>
<div><ul><li>%<li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>b<li>o<li>o<li>k<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>}<li>{<li>5<li>}</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>p<li>a<li>g<li>e<li>}<li>{<li>5<li>0<li>}</ul></div>
<div><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s</ul></div>
<div><ul><li>%<li>%<li>%<li>%<li>%<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li> </ul><p f>の有無</p><ul><li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>{<li>\<li>T<li>e<li>X<li>{<li>}</ul><p f>および</p><ul><li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>T<li>e<li>X<li>{<li>}<li>}</ul></div>
<div><ul><li>%<li>%<li>%<li>%<li>%</ul><p l>人為的な追加</p><ul><li>%<li>%<li>%<li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>6<li>.<li>1<li>}<li>{<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>L<li>a<li>T<li>e<li>X<li>e<li>}<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>*<li>{<li>E<li>X<li>E<li>R<li>C<li>I<li>S<li>E<li>S<li>}<li> <li>%<li>*</ul><p bc>を付けると目次に出力されない</p><p b>．</p></div>
<div><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>m<li>e<li>d<li>s<li>k<li>i<li>p<li>}<li> <li>%</ul><p z>目次に垂直方向の空白を追加</p><p b>．</p></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>E<li>x<li>c<li>e<li>r<li>c<li>i<li>s<li>e<li>s<li>}<li>%</ul><p x>番号を付けずに目次に追加</p><p b>．</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>%<li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*</ul></div>
<div><ul><li>%<li> <li>*<li>(<li>t<li>e<li>s<li>t<li>.<li>a<li>u<li>x<li> </ul><p f>の内容</p><ul><li>)<li>*</ul></div>
<div><ul><li>%<li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>0<li>)</ul></div>
<div><ul><li>8<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>r<li>e<li>l<li>a<li>x</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e</ul></div>
<div><ul><li>{<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>6<li>}</ul></div>
<div><ul><li>T<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li> <li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li> <li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>{<li>}</ul><p f>および</p></div>
<div><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>T<li>e<li>X<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>}<li>}<li>{<li>5<li>3<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>l<li>o<li>f<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>a<li>d<li>d<li>v<li>s<li>p<li>a<li>c<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>1<li>0<li>p<li>t<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>l<li>o<li>t<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>a<li>d<li>d<li>v<li>s<li>p<li>a<li>c<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>1<li>0<li>p<li>t<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e</ul></div>
<div><ul><li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>6<li>.<li>1<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>L<li>a<li>T<li>e<li>X<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>}<li>}<li>{<li>5<li>3<li>}<li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>m<li>e<li>d<li>s<li>k<li>i<li>p<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>}</ul></div>
<div><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>E<li>x<li>c<li>e<li>r<li>c<li>i<li>s<li>e<li>s<li>}<li>{<li>5<li>3<li>}<li>}</ul></div>
<div><ul><li>%<li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*</ul></div>
<div><ul><li>%<li> <li>*<li>(<li>t<li>e<li>s<li>t<li>.<li>t<li>o<li>c<li> </ul><p f>の内容</p><ul><li>)<li>*</ul></div>
<div><ul><li>%<li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*</ul></div>
<div><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> <li>{<li>c<li>h<li>a<li>p<li>t<li>e<li>r<li>}<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> <li>{<li>6<li>}</ul></div>
<div><ul><li>T<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li> <li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li> <li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>{<li>}</ul><p f>および</p><ul><li>\<li>T<li>e<li>X<li> <li>{<li>}<li>}<li>{<li>5<li>3<li>}</ul></div>
<div><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> <li>{<li>6<li>.<li>1<li>}<li>{<li>\<li>L<li>a<li>T<li>e<li>X<li>e<li> <li>}<li>}<li>{<li>5<li>3<li>}</ul></div>
<div><ul><li>\<li>m<li>e<li>d<li>s<li>k<li>i<li>p</ul></div>
<div><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>E<li>x<li>c<li>e<li>r<li>c<li>i<li>s<li>e<li>s<li>}<li>{<li>5<li>3<li>}</ul></div>
<div><p x>このファイルの変換の中で</p><p b>，</p><p f>二つの</p><ul><li> <li>T<li>E<li>X<li> </ul><p bu>がどういう変化を辿っているのかを抜き出したのが</p><p b>，</p><p j>次の表です</p><p b>．</p></div>
<div><ul><li>t<li>e<li>x<li> <li>\<li>T<li>e<li>X<li>{<li>}<li> <li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>T<li>e<li>X<li>{<li>}</ul></div>
<div><p b>⇓</p><ul><li> </ul><p b>⇓</p><ul><li> </ul><p b>⇓</p></div>
<div><ul><li>a<li>u<li>x<li> <li>T<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li> <li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li> <li>{<li>E<li>}<li> <li>\<li>s<li>t<li>r<li>i<li>n<li>g<li>\<li>T<li>e<li>X<li>\<li>s<li>p<li>a<li>c<li>e<li> <li>{<li>}</ul></div>
<div><ul><li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>{<li>}</ul></div>
<div><p b>⇓</p><ul><li> </ul><p b>⇓</p><ul><li> </ul><p b>⇓</p></div>
<div><ul><li>t<li>o<li>c<li> <li>T<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li> <li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li> <li>{<li>E<li>}<li> <li>\<li>T<li>e<li>X<li> <li>{<li>}</ul></div>
<div><ul><li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>{<li>}</ul></div>
<div><p h>ちなみに</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p r>のロゴを作る命令は</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>e<li>X<li>{<li>T<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li> <li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li> <li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li> <li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>}</ul></div>
<div><p n>となっています</p><p b>．</p><p j>したがって</p><p b>，</p><ul><li>\<li> <li>p<li>r<li>o<li>t<li>e<li>c<li>t<li> </ul><p n>命令を付けない</p><ul><li>\<li>T<li>e<li>X<li>{<li>}</ul><p b>は</p><p b>，</p><p v>もとの定義に展開されて</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p be>ファイルに書き込まれていること</p></div>
<div><p j>になります</p><p b>．</p><p d>一方</p><p b>，</p><ul><li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>T<li>e<li>X<li>{<li>}</ul><p b>は</p><p b>，</p><ul><li>\<li>T<li>e<li>X<li>{<li>}</ul><p t>を文字列として扱って</p><p b>，</p><p n>そのままの形で</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p bk>ファイルに出力していることになってい</p></div>
<div><p j>るわけです</p><p b>．</p><p f>ここで</p><p b>，</p><ul><li>\<li>s<li>t<li>r<li>i<li>n<li>g<li> </ul><p f>命令は</p><p b>，</p><p bq>そのままの形で出力する機能をもつ制御綴です</p><p b>．</p></div>
<div><ul><li>\<li>T<li>e<li>X<li>{<li>}</ul><p x>という命令は展開されても</p><p b>，</p><p h>たまたま</p><ul><li>\<li>@<li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li> </ul><p t>命令がうまく働きます</p><p b>．</p><p f>しかし</p><p b>，</p><p bm>引数の中に含まれるマクロ命令を展開した</p></div>
<div><p f>ときに</p><ul><li>\<li>@<li> <li>w<li>r<li>i<li>t<li>e<li>f<li>i<li>l<li>e<li> <li> </ul><p bc>命令がうまく働かない場合には</p><p b>，</p><p d>エラ</p><p b>ー</p><p r>になってしまいます</p><p b>．</p><p j>したがって</p><p b>，</p><p be>このような展開を抑制する目的で</p><ul><li>\<li> </ul></div>
<div><ul><li>p<li>r<li>o<li>t<li>e<li>c<li>t<li> </ul><p r>命令を使うわけです</p><p b>．</p></div>
<div><p f>試みに</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p bk>ファイルに書き込まれた内容を次にコピ</p><p b>ー</p><p d>して</p><p b>，</p><p h>そのまま</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p v>処理にかけてみましょう</p><p b>．</p></div>
<div><p n>次に示すように</p><p b>，</p><p be>目次の中の該当行が出力されます</p><p b>．</p></div>
<div class=_mark id=mark45><a  href='#toc45'><p b>第</p><ul><li> <li>1<li>5<li> </ul><p b>章</p><ul><li>.<li> </ul><p n>目次項目の追加</p><ul><li> <li>8<li>3</ul></a></div>
<div><ul><li>6<li> <li>T<li>E<li>X<li> </ul><p f>および</p><ul><li> <li>T<li>E<li>X<li> <li>5<li>3</ul></div>
<div><ul><li>6<li>.<li>1<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>3</ul></div>
<div><ul><li>E<li>x<li>c<li>e<li>r<li>c<li>i<li>s<li>e<li>s<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>5<li>3</ul></div>
<div><ul><li>1<li>5<li>.<li>2<li> </ul><p v>目次への項目追加上記の</p><ul><li> <li>t<li>e<li>x<li> </ul><p p>ファイルの中には</p><p b>，</p><p bw>目次の中に項目を人為的に追加するための命令として</p><p b>，</p><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e</ul></div>
<div><p b>と</p><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p z>の使用例も示しておきました</p><p b>．</p></div>
<div><ul><li>\<li>a<li>d<li>d<li>t<li>o<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>{<li>t<li>o<li>c<li>}<li>{<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>m<li>e<li>d<li>s<li>k<li>i<li>p<li>}<li> <li>%</ul><p z>目次に垂直方向の空白を追加</p><p b>．</p></div>
<div><p p>なる命令において</p><p b>，</p><p b>第</p><ul><li> <li>1<li> </ul><p d>引数</p><ul><li> <li>t<li>o<li>c<li> </ul><p b>は</p><p b>，</p><p t>出力すべきファイルが</p><ul><li> <li>t<li>o<li>c<li> </ul><p bc>ファイルであることを示します</p><p b>．</p><p b>第</p><ul><li> <li>2<li> </ul><p x>引数が出力すべき内容です</p></div>
<div><p b>．</p><p j>この場合は</p><ul><li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li> </ul><p l>命令を付けた</p><ul><li>\<li>m<li>e<li>d<li>s<li>k<li>i<li>p<li> </ul><p p>を書いているので</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p j>ファイルに</p></div>
<div><ul><li>\<li>m<li>e<li>d<li>s<li>k<li>i<li>p<li> </ul><p bg>という文字列が出力されるわけです</p><p b>．</p><p h>このため</p><p b>，</p><ul><li>2<li> </ul><p j>回目以降の</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>処理にかけると</p><p b>，</p><p j>目次の中に</p><ul><li>\<li>m<li>e<li>d<li>s<li>k<li>i<li>p<li> </ul><p j>命令による</p></div>
<div><p z>垂直方向の空白が取られます</p><p b>．</p></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>E<li>x<li>c<li>e<li>r<li>c<li>i<li>s<li>e<li>s<li>}<li>%</ul><p x>番号を付けずに目次に追加</p><p b>．</p></div>
<div><p l>という命令は</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p h>ファイル</p><ul><li> <li>(</ul><p b>第</p><ul><li> <li>1<li> </ul><p d>引数</p><ul><li>)<li> </ul><p b>に</p><p b>，</p><ul><li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>(</ul><p b>第</p><ul><li> <li>2<li> </ul><p d>引数</p><ul><li>)<li> </ul><p l>の項目として</p><p b>，</p><ul><li>E<li>x<li>c<li>e<li>r<li>c<li>i<li>s<li>e<li>s<li> <li>(</ul><p b>第</p><ul><li> <li>3<li> </ul><p d>引数</p><ul><li>)<li> </ul><p t>なる文字列を書き込め</p></div>
<div><p x>ということを表しています</p><p b>．</p><p h>この結果</p><p b>，</p><ul><li>2<li> <li> </ul><p j>回目以降の</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p x>処理にかけることによって</p><p b>，</p><p j>目次の中に</p><ul><li> </ul><p b>“</p><ul><li>E<li>x<li>c<li>e<li>r<li>c<li>i<li>s<li>e</ul><p b>”</p><ul><li> </ul><p j>という項目</p></div>
<div><p bg>が節に相当する箇所に追加されます</p><p b>．</p><p j>この命令は</p><p b>，</p><p p>上記の例のように</p><p b>，</p><ul><li>\<li> <li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>*</ul><p bc>命令と組合せて使うと便利です</p><p b>．</p><p h>ここでは</p><p b>，</p><p f>章末に</p></div>
<div><p p>練習問題を付けて</p><p b>，</p><p z>そこには節番号を付けないが</p><p b>，</p><p cg>目次には追加しておきたいという場合などに有効に応用できます</p><p b>．</p><p n>これらの命令の</p></div>
<div><p n>機能についても</p><p b>，</p><p j>その結果を</p><ul><li> <li>t<li>e<li>x<li> <li> </ul><p h>ファイル</p><ul><li> </ul><p b>⇒</p><ul><li>a<li>u<li>x<li> </ul><p h>ファイル</p><ul><li> </ul><p b>⇒</p><ul><li>t<li>o<li>c<li> </ul><p bc>ファイルの順に追跡してゆけば</p><p b>，</p><p bc>上の説明からの類推で理解でき</p></div>
<div><p j>るでしょう</p><p b>．</p></div>
<div><ul><li>1<li>5<li>.<li>3<li> </ul><p bc>別立ての目次注意が必要なのは</p><p b>，</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p be>命令を宣言して目次を出力すると</p><p b>，</p><p b>ペ</p><p b>ー</p><p z>ジ数が狂ってしまうことです</p><p b>．</p><p d>小さ</p></div>
<div><p n>な文書のときは</p><p b>，</p><p be>この変化が目次に反映されるまで</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>処理を繰り返せば</p><p b>，</p><p bg>たいした手間にはならないでしょう</p><p b>．</p></div>
<div><p f>しかし</p><p b>，</p><p x>書籍の場合などの場合には</p><p b>，</p><p bg>この処理の手間は馬鹿にならないし</p><p b>，</p><p d>また</p><p b>，</p><p x>索引などにも影響するので</p><p b>，</p></div>
<div><p bs>目次を別立てにしておくことが普通に行われます</p><p b>．</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li> </ul><p r>と本文先頭との間に</p><ul><li> <li>(<li>\<li>c<li>l<li>e<li>a<li>r<li>p<li>a<li>g<li>e<li>)</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>p<li>a<li>g<li>e<li>}<li>{<li>0<li>}</ul><p bi>などと宣言しておくのが一つの手です</p><p b>．</p><p f>しかし</p><p b>，</p><p bk>もう少しよい方法はないものでしょうか</p><p b>．</p></div>
<div><p v>もっと簡単な方法として</p><p b>，</p><p h>新設した</p><ul><li>\<li> <li>t<li>o<li>c<li>o<li>u<li>t<li>p<li>u<li>t<li> </ul><p n>命令が使えます</p><p b>．</p><p j>この命令は</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p bs>ファイルを作ってその中に目次の内容を出力する</p></div>
<div><p b>が</p><p b>，</p><p bi>本文中には印刷しないというものです</p><p b>．</p><p f>これは</p><p b>，</p><p j>拙著の中で</p><p b>，</p><p r>オプションファイル</p><ul><li> <li>t<li>o<li>c<li> <li> <li>o<li>u<li>t<li> </ul><p n>としてあります</p><p b>．</p><p p>これを用いるには</p></div>
<div><p b>，</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>1<li>2<li>p<li>t<li>,<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>t<li>o<li>c<li>_<li>o<li>u<li>t<li>}</ul></div>
<div><p h>のように</p><p b>，</p><p l>オプションで</p><ul><li> <li>t<li>o<li>c<li> <li>o<li>u<li>t<li>.<li>s<li>t<li>y<li> </ul><p h>を指定し</p><p b>，</p><p f>さらに</p><p b>，</p><p n>プリアンブルに</p><ul><li>\<li>t<li>o<li>c<li>o<li>u<li>t<li>p<li>u<li>t<li> </ul><p r>を宣言しておきます</p><p b>．</p></div>
<div><p h>この結果</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>処理によって</p><p b>，</p><p f>必要な</p><ul><li> <li>t<li>o<li>c<li> </ul><p bg>ファイルが発生するようになります</p><p b>．</p></div>
<div><ul><li>8<li>4<li> <li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p bg>まくろの八衢もう一つの方法として</p><p b>，</p><ul><li>l<li>a<li>b<li>l<li>s<li>t<li> <li>.<li>t<li>e<li>x<li> </ul><p h>というユ</p><p b>ー</p><p be>ティリティを使うものがあります</p><p b>．</p><p f>これは</p><p b>，</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bc>に大抵用意されている便利なユ</p><p b>ー</p><p n>ティリティです</p><p b>．</p><p f>このユ</p><p b>ー</p><p l>ティリティは</p><p b>，</p><ul><li>a<li>u<li>x<li> </ul><p h>ファイル</p><ul><li> <li>(<li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>.<li>a<li>u<li>x<li>)<li> </ul><p l>の内容のうち</p><p b>，</p><p b>目</p></div>
<div><p z>次と引用文献の部分を選んで</p><p b>，</p><ul><li>d<li>v<li>i<li> </ul><p h>ファイル</p><ul><li> <li>(<li>l<li>a<li>b<li>l<li>s<li>t<li>.<li>d<li>v<li>i<li>)<li> </ul><p bi>に変換するという機能をもっています</p><p b>．</p></div>
<div><p f>この際</p><p b>，</p><p f>同時に</p><ul><li> <li>l<li>a<li>b<li>l<li>s<li>t<li>.<li>l<li>a<li>b<li> </ul><p bc>というファイルが出力されます</p><p b>．</p><p f>これは</p><p b>，</p><p r>相互参照に関わるデ</p><p b>ー</p><p bc>タを集めたものになっています</p><p b>．</p><ul><li>l<li>a<li>b<li>s<li>t<li>.</ul></div>
<div><ul><li>l<li>a<li>b<li> </ul><p j>ファイルは</p><p b>，</p><p v>テキストファイルなので</p><p b>，</p><p n>適当なエディタ</p><p b>ー</p><p n>で編集できます</p><p b>．</p><p j>したがって</p><p b>，</p><p bk>目次に必要な項目だけを残せばよいわけ</p></div>
<div><p d>です</p><p b>．</p></div>
<div><ul><li>l<li>a<li>b<li>l<li>s<li>t<li> </ul><p b>ユ</p><p b>ー</p><p cq>ティリティを使って別立ての目次を作るための具体的な手順を示しましょう</p><p b>．</p></div>
<div><ul><li>1<li> <li>.<li> </ul><p d>まず</p><p b>，</p><ul><li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>1<li>.<li>t<li>e<li>x<li> </ul><p bm>という文書ファイルを作っているとします</p><p b>．</p><p f>これを</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>処理することにより</p><p b>，</p><ul><li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>1<li>.<li>a<li>u<li>x<li> </ul><p h>という補</p></div>
<div><p r>助ファイルを得ます</p><p b>．</p></div>
<div><ul><li>2<li>.<li> </ul><p p>コマンドラインに</p><ul><li> <li>j<li>l<li>a<li>t<li>e<li>x<li>l<li>a<li>b<li>l<li>s<li>t<li> </ul><p l>と打ち込んで</p><p b>，</p><p b>ユ</p><p b>ー</p><p j>ティリティ</p><ul><li>l<li>a<li>b<li>l<li>s<li>t<li> </ul><p l>を起動します</p><p b>．</p></div>
<div><p b>•</p><ul><li> </ul><p d>まず</p><p b>，</p><ul><li>\<li>f<li>i<li>l<li>e<li>n<li>a<li>m<li>e<li>=<li> </ul><p b>と</p><ul><li> <li>a<li>u<li>x<li> </ul><p be>ファイルの名前を聞いてくるので</p><p b>，</p><ul><li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>1<li> </ul><p n>と打ち込みます</p><p b>．</p></div>
<div><p b>•</p><ul><li> </ul><p d>次に</p><p b>，</p><ul><li>\<li> <li>d<li>o<li>c<li>s<li>t<li>y<li>=<li> </ul><p be>と文書スタイルを聞いてくるので</p><p b>，</p><ul><li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> </ul><p n>と打ち込みます</p><ul><li> <li>(</ul><p h>もちろん</p><p b>，</p><p be>他のスタイルを使っているときは</p><p b>，</p><p b>そ</p></div>
<div><p z>れに応じて名前を入力します</p><ul><li>)</ul><p b>．</p></div>
<div><p p>このようにすると</p><p b>，</p><p n>処理が行われて</p><p b>，</p><ul><li>l<li>a<li>b<li>l<li>s<li>t<li>.<li>d<li>v<li>i<li> </ul><p r>ファイルが生じます</p><p b>．</p><p j>必要ならば</p><p b>，</p><p p>コマンドラインに</p></div>
<div><ul><li>d<li>v<li>i<li>2<li>l<li>a<li>b<li>l<li>s<li>t<li> </ul><p l>と打ち込んで</p><p b>，</p><p bk>プレビュアで出力を見てもよいでしょう</p><p b>．</p></div>
<div><ul><li>3<li>.<li> </ul><p f>同時に</p><ul><li> <li>l<li>a<li>b<li>l<li>s<li>t<li>.<li>l<li>a<li>b<li> </ul><p bg>というファイルが発生しているので</p><p b>，</p><p f>これを</p><ul><li> <li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>2<li>.<li>t<li>o<li>c<li> </ul><p f>にコピ</p><p b>ー</p><p f>します</p><p b>．</p></div>
<div><ul><li>4<li> <li>.<li> <li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>2<li>.<li>t<li>o<li>c<li> </ul><p r>ファイルをエディタ</p><p b>ー</p><p h>で開いて</p><p b>，</p><p f>先頭に</p><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> </ul><p bk>命令が宣言されている行だけを残します</p><p b>．</p><p f>これで</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul></div>
<div><p b>ε</p><p n>処理で得られる</p><ul><li> <li>t<li>o<li>c<li> </ul><p bu>ファイルに相当するものが得られることになります</p><p b>．</p></div>
<div><ul><li>5<li>.<li> </ul><p bk>別立ての部分を作る文書ファイルとして</p><p b>，</p><ul><li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>2<li>.<li>t<li>e<li>x<li> </ul><p j>を作ります</p><p b>．</p><p z>ファイル出力を抑制するため</p><p b>，</p></div>
<div><p t>この中のプリアンブル</p><ul><li>\<li>n<li>o<li>f<li>i<li>l<li>e<li>s<li> </ul><p l>の宣言をいれ</p><p b>，</p><p f>さらに</p><p b>，</p><p t>目次を出力する箇所に</p><ul><li>\<li>t<li>a<li>b<li>l<li>e<li>o<li>f<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s</ul></div>
<div><p l>を宣言します</p><p b>．</p></div>
<div><ul><li>6<li>.<li> <li>j<li>o<li>b<li>n<li>a<li>m<li>e<li>2<li>.<li>t<li>e<li>x<li> </ul><p b>を</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p n>処理にかけます</p><p b>．</p></div>
<div><ul><li>8<li>5</ul></div>
<div><p b>第</p><ul><li>1<li>6</ul><p b>章</p><ul><li> </ul><p x>目次の体裁の変更文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p h>目次では</p><p b>，</p><p h>題目とペ</p><p b>ー</p><p n>ジ番号の間にリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p t>をおくことが多いのは</p><p b>，</p><p bq>手元にある書籍をみれば容易に確かめられます</p><p b>．</p><ul><li>j<li>b<li>o<li>o<li>k<li> </ul><p h>スタイル</p></div>
<div><p f>などは</p><p b>，</p><ul><li>b<li>o<li>o<li>k<li> <li> </ul><p bw>スタイルなどの英文のスタイルをもとにしているので</p><p b>，</p><p j>目次用のリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p b>も</p><p b>，</p><p bg>もとの英文用のままになっています</p><p b>．</p><p b>注</p></div>
<div><p bi>意してご覧になると気付くことですが</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p x>で書いたと思われる書籍は</p><p b>，</p><p bc>大抵は英文標準になっています</p><p b>．</p><p d>拙著</p><p b>「</p><p f>化学者</p><p b>・</p><p d>生化</p></div>
<div><p l>学者のための</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p b>」</p><p n>を書いたときに</p><p b>，</p><p bc>和書によく使われている三点リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p bc>を連ねたものを使ってみました</p><p b>．</p><p h>たしかに</p><p b>，</p><p j>このように</p></div>
<div><p bi>すると和書らしい雰囲気がでてきます</p><p b>．</p><p h>ここでは</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p j>におけるリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p z>の出力の仕方の説明をかねて</p><p b>，</p></div>
<div><p f>三点リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p n>を連ねた目次リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p r>を作ってみましょう</p><p b>．</p></div>
<div><ul><li>1<li>6<li>.<li>1<li> </ul><p p>指定できるパラメ</p><p b>ー</p><p b>タ</p><p b>ー</p></div>
<div><ul><li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>.<li>s<li>t<li>y<li> </ul><p j>などの中の</p><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>d<li>o<li>t<li>s<li>e<li>p<li>{<li>4<li>.<li>5<li>}</ul><p b>が</p><p b>，</p><p h>目次のリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p z>の間隔を変えるためのパラメ</p><p b>ー</p><p b>タ</p><p b>ー</p><p d>です</p><p b>．</p></div>
<div><p p>この標準設定では</p><p b>，</p><ul><li>4<li>.<li>5<li>m<li>u<li> </ul><p p>の二倍の間隔のリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p n>が出力されます</p><p b>．</p></div>
<div><ul><li>1<li> </ul><p l>章のタイトル</p><ul><li> <li>3</ul></div>
<div><ul><li>1<li>.<li>1<li> </ul><p l>節のタイトル</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3</ul></div>
<div><ul><li>1<li>.<li>2<li> </ul><p l>節のタイトル</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4</ul></div>
<div><p j>この設定を</p><ul><li> <li>1<li>.<li>5<li>m<li>u<li> </ul><p p>に変更してみます</p><p b>．</p><p h>ついでに</p><p b>，</p><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>p<li>n<li>u<li>m<li>w<li>i<li>d<li>t<li>h<li>{<li>1<li>.<li>5<li>5<li>e<li>m<li>}</ul><p v>で初期設定されているペ</p><p b>ー</p></div>
<div><p v>ジ番号を出す箇所の幅も</p><p b>，</p><p j>標準のから</p><p b>，</p><ul><li>1<li>z<li>w<li> </ul><p n>に狭めてみます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r<li> <li>\<li>d<li>e<li>f<li>\<li>@<li>d<li>o<li>t<li>s<li>e<li>p<li>{<li>1<li>.<li>5<li>}<li> <li>\<li>d<li>e<li>f<li>\<li>@<li>p<li>n<li>u<li>m<li>w<li>i<li>d<li>t<li>h<li>{<li>1<li>z<li>w<li>}<li> <li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p j>この結果は</p><p b>，</p><p r>次のようになります</p><p b>．</p></div>
<div><ul><li>1<li> </ul><p l>章のタイトル</p><ul><li> <li>3</ul></div>
<div><ul><li>1<li>.<li>1<li> </ul><p l>節のタイトル</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3</ul></div>
<div><ul><li>1<li>.<li>2<li> </ul><p l>節のタイトル</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4</ul></div>
<div><p p>このようにすると</p><p b>，</p><p p>点の間が詰まって</p><p b>，</p><p z>やや和書らしくなるのですが</p><p b>，</p><p bc>文字の底の線に沿って並ぶため</p><p b>，</p></div>
<div><p bo>かえって見苦しく感じられるようになります</p><p b>．</p><p bm>これを文字の高さの半分にもってくるのは</p><p b>，</p><p j>単にパラメ</p><p b>ー</p></div>
<div><p b>タ</p><p b>ー</p><p p>を変えるだけでは</p><p b>，</p><p p>うまくゆきません</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>0<li>a<li>)</ul></div>
<div><ul><li>8<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>まくろの八衢また</p><p b>，</p><p x>章番号や節番号の出力幅は</p><p b>，</p><ul><li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> </ul><p f>命令の</p><ul><li>\<li>h<li>b<li>o<li>x<li> </ul><p v>の幅で設定されています</p><p b>．</p><p f>これを</p></div>
<div><p bo>変更することによって変えることができます</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>#<li>1<li>{<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>4<li>z<li>w<li>{<li>#<li>1<li>\<li>h<li>f<li>i<li>l<li>}<li>}</ul></div>
<div><p l>この箱の中で</p><p b>，</p><p j>章番号など</p><ul><li> <li>(</ul><p d>引数</p><ul><li>#<li>1<li>)<li> </ul><p x>は左寄せされていますので</p><p b>，</p><p t>次に示す出力のように</p><p b>，</p><p bk>これらの番号とタイトルの間が開きます</p><p b>．</p></div>
<div><ul><li>1<li> </ul><p l>章のタイトル</p><ul><li> <li>3</ul></div>
<div><ul><li>1<li>.<li>1<li> </ul><p l>節のタイトル</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3</ul></div>
<div><ul><li>1<li>.<li>2<li> </ul><p l>節のタイトル</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4</ul></div>
<div><ul><li>1<li>6<li>.<li>2<li> </ul><p b>リ</p><p b>ー</p><p b>ダ</p><p b>ー</p></div>
<div><p j>これらのリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p b>は</p><p b>，</p><ul><li>T<li>E<li>X<li> <li> </ul><p b>の</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li> </ul><p t>命令に基づいています</p><p b>．</p><p h>基本型は</p><p b>，</p><p bc>ピリオドを繰り返すものですが</p><p b>，</p><p n>繰り返し単位は</p><p b>，</p><p f>どんな</p></div>
<div><p z>文字でも選ぶことができます</p><p b>．</p><p h>ここでは</p><p b>，</p><p b>幅</p><ul><li> <li>1<li>e<li>m<li> <li> </ul><p b>の</p><ul><li>\<li>h<li>b<li>o<li>x<li> </ul><p h>を作って</p><p b>，</p><p cc>文字を真ん中に揃えたものを繰り返し単位としてみましょう</p><p b>．</p></div>
<div><p r>一行の幅をとるため</p><p b>，</p><ul><li>\<li>L<li>i<li>n<li>e<li> </ul><p t>命令を作ってあります</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>i<li>n<li>e<li>#<li>1<li>{<li>\<li>n<li>o<li>i<li>n<li>d<li>e<li>n<li>t<li> <li>#<li>1<li>\<li>p<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p b>初</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>1<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li>.<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p h>行の先頭</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>1<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li> <li>*<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p b>初</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>1<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li>$<li>\<li>s<li>t<li>a<li>r<li>$<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p d>終端</p><ul><li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p b>初</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>1<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li>$<li>\<li>c<li>l<li>u<li>b<li>s<li>u<li>i<li>t<li>$<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><p n>と入力しますと</p><p b>，</p><p z>次のような出力が得られます</p><p b>．</p><p p>各行を比較すると</p><p b>，</p><p cc>同じところに繰り返し単位が揃って出ているとがわかります</p><p b>．</p><p b>先</p></div>
<div><p bk>頭と行末の文字列の長さが違っていても</p><p b>，</p><p z>揃って出力されるというのが</p><p b>，</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s</ul></div>
<div><p n>命令の特徴です</p><p b>．</p></div>
<div><p b>初</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> </ul><p j>終行の先頭</p><ul><li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li> </ul><p d>終初</p><ul><li> </ul><p f>終端初</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p></div>
<div><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><ul><li> </ul><p f>終一方</p><ul><li>\<li> <li>c<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li> </ul><p l>という命令は</p><p b>，</p><p l>中央揃えで繰</p></div>
<div><p v>り返し単位を出力します</p><p b>．</p><p cu>わかりやすいようにもう少し繰り返し単位の幅を広げたものを試してみましょう</p><p b>．</p></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p b>初</p><ul><li>\<li>c<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>3<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li>.<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p h>行の先頭</p><ul><li>\<li>c<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>3<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li> <li>*<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p b>初</p><ul><li>\<li>c<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>3<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li>$<li>\<li>s<li>t<li>a<li>r<li>$<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p d>終端</p><ul><li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p b>初</p><ul><li>\<li>c<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>3<li>e<li>m<li>{<li>\<li>h<li>s<li>s<li>$<li>\<li>c<li>l<li>u<li>b<li>s<li>u<li>i<li>t<li>$<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><p b>初</p><ul><li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> </ul><p j>終行の先頭</p><ul><li> <li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li>*<li> </ul><p d>終初</p><ul><li> </ul><p f>終端初</p><ul><li> </ul><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><p b>♣</p><ul><li> </ul><p l>終このように</p><p b>，</p><ul><li>\<li>c<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li> </ul><p l>命令を使うと</p></div>
<div><p b>，</p><p ca>行の先頭の文字列の長さと行末の文字列の長さに依存して</p><p b>，</p><p b>リ</p><p b>ー</p></div>
<div><p b>ダ</p><p b>ー</p><p v>の出力位置が異なります</p><p b>．</p><ul><li>\<li>(<li> <li>c<li>)<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li> </ul><p r>命令の詳しいことは</p><p b>，</p><ul><li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p b>の</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>2<li>1<li> </ul><p t>章を参照してください</p><p b>．</p><p d>また</p><p b>，</p><p l>これを利用し</p></div>
<div><p v>た可変長の矢印の定義が</p><p b>，</p><p h>拙著の第</p><ul><li> <li>9<li>.<li>4<li> </ul><p p>節にありますので</p><p b>，</p><p r>参考にしてください</p><p b>．</p></div>
<div class=_mark id=mark46><a  href='#toc46'><p b>第</p><ul><li> <li>1<li>6<li> </ul><p b>章</p><ul><li>.<li> </ul><p p>目次の体裁の変更</p><ul><li> <li>8<li>7</ul></a></div>
<div><ul><li>1<li>6<li>.<li>3<li> </ul><p n>和書用の目次リ</p><p b>ー</p><p b>ダ</p><p b>ー</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p j>の目次のリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p h>の出力は</p><p b>，</p><ul><li>\<li>@<li>d<li>o<li>t<li>t<li>e<li>d<li>t<li>o<li>c<li>l<li>i<li>n<li>e<li> </ul><p bk>の中の次のような記述に基づいています</p><p b>．</p><p f>これと</p><p b>，</p><p f>三点リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p j>を使ったも</p></div>
<div><p n>のを比較します</p><p b>．</p></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{<li>%</ul></div>
<div><p b>初</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li>{<li>$<li>\<li>m<li>@<li>t<li>h<li> <li>\<li>m<li>k<li>e<li>r<li>n<li> <li>\<li>@<li>d<li>o<li>t<li>s<li>e<li>p<li> <li>m<li>u<li>.<li>\<li>m<li>k<li>e<li>r<li>n<li> <li>\<li>@<li>d<li>o<li>t<li>s<li>e<li>p<li> <li>m<li>u<li>$<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><ul><li>\<li>L<li>i<li>n<li>e<li>{</ul><p b>初</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>0<li>.<li>3<li>3<li>3<li>3<li>3<li>z<li>w<li>{<li>\<li>h<li>s<li>s<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>4<li>z<li>h<li>\<li>h<li>b<li>o<li>x<li>{<li>.<li>}<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>終</p><ul><li>}</ul></div>
<div><ul><li>\<li>@<li>d<li>o<li>t<li>s<li>e<li>p<li> </ul><p h>を標準の</p><ul><li> <li>4<li>.<li>5<li> </ul><p l>に再設定して</p><p b>，</p><p p>この定義によるリ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p t>を出力してみましょう</p><p b>．</p><p r>次のようになります</p><p b>．</p></div>
<div><p b>初</p><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul></p><ul><li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><p b>終</p><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul><ul><li> </ul></p><p b>初</p></div>
<div><ul><li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.</ul></div>
<div><p f>終さて</p><p b>，</p><p h>いよいよ</p><ul><li>\<li>@<li> <li>d<li>o<li>t<li>t<li>e<li>d<li>t<li>o<li>c<li>l<li>i<li>n<li>e<li> </ul><p l>の再定義です</p><p b>．</p><ul><li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li> </ul><p l>命令を上の第</p><ul><li> <li>1<li> </ul><p l>のものから第</p><ul><li> <li>2<li> </ul><p z>のものに入れ換えるだけです</p><p b>．</p><p f>その他</p></div>
<div><p be>の箇所は変える必要はありません</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>d<li>o<li>t<li>t<li>e<li>d<li>t<li>o<li>c<li>l<li>i<li>n<li>e<li>#<li>1<li>#<li>2<li>#<li>3<li>#<li>4<li>#<li>5<li>{<li>\<li>i<li>f<li>n<li>u<li>m<li> <li>#<li>1<li>><li>\<li>c<li>@<li>t<li>o<li>c<li>d<li>e<li>p<li>t<li>h<li> <li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>v<li>s<li>k<li>i<li>p<li> <li>\<li>z<li>@<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>p<li>t</ul></div>
<div><ul><li>{<li>\<li>l<li>e<li>f<li>t<li>s<li>k<li>i<li>p<li> <li>#<li>2<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>r<li>i<li>g<li>h<li>t<li>s<li>k<li>i<li>p<li> <li>\<li>@<li>t<li>o<li>c<li>r<li>m<li>a<li>r<li>g<li> <li>\<li>p<li>a<li>r<li>f<li>i<li>l<li>l<li>s<li>k<li>i<li>p<li> <li>-<li>\<li>r<li>i<li>g<li>h<li>t<li>s<li>k<li>i<li>p</ul></div>
<div><ul><li>\<li>p<li>a<li>r<li>i<li>n<li>d<li>e<li>n<li>t<li> <li>#<li>2<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>@<li>a<li>f<li>t<li>e<li>r<li>i<li>n<li>d<li>e<li>n<li>t<li>t<li>r<li>u<li>e</ul></div>
<div><ul><li>\<li>i<li>n<li>t<li>e<li>r<li>l<li>i<li>n<li>e<li>p<li>e<li>n<li>a<li>l<li>t<li>y<li>\<li>@<li>M</ul></div>
<div><ul><li>\<li>l<li>e<li>a<li>v<li>e<li>v<li>m<li>o<li>d<li>e</ul></div>
<div><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li> <li>#<li>3<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>l<li>e<li>f<li>t<li>s<li>k<li>i<li>p<li> <li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>}<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>-<li>\<li>l<li>e<li>f<li>t<li>s<li>k<li>i<li>p</ul></div>
<div><ul><li>#<li>4<li>\<li>n<li>o<li>b<li>r<li>e<li>a<li>k<li>\<li>l<li>e<li>a<li>d<li>e<li>r<li>s<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>0<li>.<li>3<li>3<li>3<li>3<li>3<li>z<li>w<li>{<li>\<li>h<li>s<li>s<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>4<li>z<li>h<li>\<li>h<li>b<li>o<li>x<li>{<li>.<li>}<li>\<li>h<li>s<li>s<li>}<li>\<li>h<li>f<li>i<li>l<li>l</ul></div>
<div><ul><li>\<li>n<li>o<li>b<li>r<li>e<li>a<li>k<li> <li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>\<li>@<li>p<li>n<li>u<li>m<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>h<li>f<li>i<li>l<li>\<li>r<li>m<li> <li>#<li>5<li>}<li>\<li>p<li>a<li>r<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p r>理解を助けるために</p><p b>，</p><p f>ここで</p><p b>，</p><ul><li>\<li>@<li>d<li>o<li>t<li>t<li>e<li>d<li>t<li>o<li>c<li>l<li>i<li>n<li>e<li> </ul><p bg>の各引数の説明をしておきましょう</p><p b>．</p><ul><li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li> </ul><p d>から</p><p b>，</p><p l>引用しますと</p><p b>，</p></div>
<div><ul><li>\<li>@<li>d<li>o<li>t<li>t<li>e<li>d<li>t<li>o<li>c<li>l<li>i<li>n<li>e<li>{<li>L<li>E<li>V<li>E<li>L<li>}<li>{<li>I<li>N<li>D<li>E<li>N<li>T<li>}<li>{<li>N<li>U<li>M<li>W<li>I<li>D<li>T<li>H<li>}<li>{<li>T<li>I<li>T<li>L<li>E<li>}<li>{<li>P<li>A<li>G<li>E<li>}</ul></div>
<div><p j>で与えられ</p><p b>，</p><p x>引数の意味は次の通りです</p><p b>．</p></div>
<div><ul><li>L<li>E<li>V<li>E<li>L<li> <li>:<li> <li>L<li>E<li>V<li>E<li>L<li> <li>><li> <li>\<li>c<li>@<li>t<li>o<li>c<li>d<li>e<li>p<li>t<li>h<li> </ul><p f>ならば</p><p b>，</p><p b>リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p j>を出力せず</p><p b>．</p><p h>たとえば</p><p b>，</p><ul><li>j<li>b<li>o<li>o<li>k<li> </ul><p h>などでは</p><p b>，</p><p h>章以上は</p><p b>，</p><p b>リ</p><p b>ー</p><p b>ダ</p><p b>ー</p><p j>を出力せず</p><p b>．</p></div>
<div><ul><li>I<li>N<li>D<li>E<li>N<li>T<li> <li>:<li> </ul><p d>左マ</p><p b>ー</p><p p>ジンからの字下げ</p></div>
<div><ul><li>N<li>U<li>M<li>W<li>I<li>D<li>T<li>H<li> <li>:<li> <li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> </ul><p p>命令があるときの</p><p b>，</p><p r>章番号などの出力幅</p></div>
<div><ul><li>T<li>I<li>T<li>L<li>E<li> <li>:<li> </ul><p h>タイトル</p><p b>　</p></div>
<div><ul><li>P<li>A<li>G<li>E<li> <li>:<li> </ul><p b>ペ</p><p b>ー</p><p n>ジ番号ついでに</p><p b>，</p><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>p<li>n<li>u<li>m<li>w<li>i<li>d<li>t<li>h<li>{<li>1<li>.<li>5<li>5<li>e<li>m<li>}</ul><p v>で初期設定されているペ</p><p b>ー</p><p v>ジ番号を出す箇所の幅も</p><p b>，</p><p j>標準のから</p><p b>，</p></div>
<div><ul><li>1<li>z<li>w<li> </ul><p n>に狭めてみます</p><p b>．</p><ul><li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li> </ul><p b>も</p><ul><li> <li>3<li>z<li>w<li> </ul><p x>幅になるように設定します</p><p b>．</p><p j>このように</p><p b>，</p><p p>再定義をしますと</p><p b>，</p></div>
<div><p be>次のようなレイアウトになります</p><p b>．</p></div>
<div><ul><li>8<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>1<li> </ul><p l>章のタイトル</p><ul><li> <li>3</ul></div>
<div><ul><li>1<li>.<li>1<li> </ul><p l>節のタイトル</p><ul><li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>3</ul></div>
<div><ul><li>1<li>.<li>2<li> </ul><p l>節のタイトル</p><ul><li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li>.<li> <li>4</ul></div>
<div><ul><li>8<li>9</ul></div>
<div><p b>第</p><ul><li>1<li>7</ul><p b>章</p><ul><li> </ul><p z>章立て命令の種々相文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p d>拙著</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>6<li> </ul><p d>章で</p><p b>，</p><p bo>章立ての仕様変更をいくつかのべてあります</p><p b>．</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p bc>命令などの内部で使われている</p></div>
<div><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p f>命令の</p><ul><li> <li>6<li> </ul><p bk>個の引数の意味についても解説しました</p><p b>．</p><p bg>これらの引数を変えることによって</p><p b>，</p></div>
<div><p bs>かなり多彩な仕様が実現できることも述べました</p><p b>．</p><p f>今回は</p><p b>，</p><p n>泥縄ではあるが</p><p b>，</p><p bk>役に立つ修正法を解説することにします</p><p b>．</p></div>
<div><ul><li>1<li>7<li>.<li>1<li> </ul><p v>浅いレベルでできること</p></div>
<div><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p f>命令の</p><ul><li> <li>6<li> </ul><p ca>番目の引数に目くらましの制御綴を忍ばすことができます</p><p b>．</p><p h>ここでは</p><p b>，</p><p bg>このような特殊な手法を述べてみま</p></div>
<div><p f>しょう</p><p b>．</p></div>
<div><ul><li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> </ul><p h>などでは</p><p b>，</p><p h>節番号は</p><p b>「</p><ul><li>6<li> </ul><p h>タイトル</p><p b>」</p><p b>，</p><p h>項番号は</p><p b>「</p><ul><li>6<li>.<li>1<li> </ul><p h>タイトル</p><p b>」</p><p bo>のように数字の後にはピリオドがありません</p><p b>．</p><p h>ところが</p><p b>，</p><p b>節</p></div>
<div><p f>番号を</p><p b>「</p><ul><li>6<li>.<li> </ul><p h>タイトル</p><p b>」</p><p b>，</p><p h>項番号を</p><p b>「</p><ul><li>6<li>.<li>1<li>.<li> </ul><p h>タイトル</p><p b>」</p><p ck>のようにピリオドをつける形式を要求される論文誌がかなりあります</p><p b>．</p><p h>次の定義</p></div>
<div><p x>はこれを実現するものです</p><p b>．</p><p t>拙著の付録のフロッピ</p><p b>ー</p></div>
<div><p r>ディスクに含まれる</p><ul><li> <li>j<li>a<li>c<li>s<li>.<li>s<li>t<li>y<li> </ul><p z>から該当の部分を引用します</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%<li>1<li>9<li>9<li>2<li> <li>J<li>u<li>l<li>y<li> <li>8<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>%<li>%<li>%<li>%<li>%<li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>N<li>u<li>m<li>b<li>e<li>r<li>i<li>n<li>g<li> <li>1<li> <li>=<li>=<li>=<li>><li> <li>1<li>.<li> <li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>1<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>2<li>.<li>3<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}<li>\<li>L<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>2<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>2<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>1<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>t<li>h<li>e<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}<li>\<li>l<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p t>ピリオドつきの節番号</p><ul><li>}</ul></div>
<div><ul><li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p bm>この例のようにプリアンブルに宣言すると</p><p b>，</p><p r>目的が達せられます</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>1<li>)</ul></div>
<div><ul><li>9<li>0<li> <li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bi>まくろの八衢このマクロのポイントは</p><p b>，</p><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p v>命令の最後の引数の中に</p><p b>，</p><p j>次のような</p><ul><li>\<li>@<li>s<li>v<li>s<li>e<li>c<li> </ul><p d>命令</p></div>
<div><p bo>の再定義をもぐりこませたところにあります</p><p b>．</p></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}</ul></div>
<div><p f>これで</p><p b>，</p><p v>目的が達せられることは</p><p b>，</p><ul><li>\<li>@<li> <li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p j>命令の定義</p><ul><li> <li>(<li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li> </ul><p b>中</p><ul><li>)<li> </ul><p bc>をよく読んでみるとわかります</p><p b>．</p><p p>次節の説明を読ん</p></div>
<div><p f>でから</p><p b>，</p><p bi>考えると一層理解が深まると思います</p><p b>．</p></div>
<div><p h>要するに</p><p b>，</p><p bc>番号の出力様式を規定している</p><ul><li>\<li>@<li>s<li>v<li>s<li>e<li>c<li> </ul><p bc>を再定義すればよいのですから</p><p b>，</p><p x>いろいろなことができます</p><p b>．</p><p r>次のようにプリアン</p></div>
<div><p x>ブルに宣言してみましょう</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%<li>1<li>9<li>9<li>2<li> <li>M<li>a<li>y<li> <li>2<li>7<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>%<li>%<li>%<li>%<li>%<li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>N<li>u<li>m<li>b<li>e<li>r<li>i<li>n<li>g<li> <li>1<li> <li>=<li>=<li>=<li>><li> <li>1<li>.<li> <li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>1<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>2<li>.<li>3<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}<li>\<li>L<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>2<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>2<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>1<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>t<li>h<li>e<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}<li>\<li>l<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p f>すると</p><p b>，</p><p f>節番号</p><p b>「</p><ul><li> <li>6<li> </ul><p h>タイトル</p><p b>」</p><p b>，</p><p f>項番号</p><p b>「</p><ul><li> <li>6<li>.<li>1<li> </ul><p h>タイトル</p><p b>」</p><p be>のように枠で囲むこともできます</p><p b>．</p></div>
<div><p v>ちょっと悪ふざけですが</p><p b>，</p><p bs>つぎのようにプリアンブルに宣言してみましょう</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%<li>1<li>9<li>9<li>2<li> <li>J<li>u<li>l<li>y<li> <li>8<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>%<li>%<li>%<li>%<li>%<li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>N<li>u<li>m<li>b<li>e<li>r<li>i<li>n<li>g<li> <li>1<li> <li>=<li>=<li>=<li>><li> <li>1<li>.<li> <li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>1<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>2<li>.<li>3<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>{<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>$<li>\<li>s<li>p<li>a<li>d<li>e<li>s<li>u<li>i<li>t<li>$<li>\<li>,<li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>\<li>,<li>$<li>\<li>s<li>p<li>a<li>d<li>e<li>s<li>u<li>i<li>t<li>$<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}</ul></div>
<div><ul><li>\<li>L<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>2<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>2<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>1<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>{<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>$<li>\<li>h<li>e<li>a<li>r<li>t<li>s<li>u<li>i<li>t<li>$<li>\<li>,<li>\<li>t<li>h<li>e<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>\<li>,<li>$<li>\<li>h<li>e<li>a<li>r<li>t<li>s<li>u<li>i<li>t<li>$<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}<li>\<li>l<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p f>すると</p><p b>，</p><p f>節番号</p><p b>「</p><p b>♠</p><ul><li> <li>6<li> </ul><p b>♠</p><ul><li> </ul><p h>タイトル</p><p b>」</p><p b>，</p><p f>項番号</p><p b>「</p><p b>♥</p><ul><li> <li>6<li>.<li>1<li> </ul><p b>♥</p><ul><li> </ul><p h>タイトル</p><p b>」</p><p be>のように出力することもできます</p><p b>．</p><p f>これは</p><p b>，</p><p p>さすがに悪趣味の</p></div>
<div><p p>ような気がします</p><p b>．</p></div>
<div><p f>すこし</p><p b>，</p><p t>まじめなものに戻して</p><p b>，</p><p be>この節を終わることにしましょう</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%<li>1<li>9<li>9<li>5<li> <li>M<li>a<li>y<li> <li>2<li>7<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>%<li>%<li>%<li>%<li>%<li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>N<li>u<li>m<li>b<li>e<li>r<li>i<li>n<li>g<li> <li>1<li> <li>=<li>=<li>=<li>><li> <li>1<li>.<li> <li>%<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>1<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>2<li>.<li>3<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>$<li>\<li>S<li>$<li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}<li>\<li>L<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>2<li>}<li>{<li>\<li>z<li>@<li>}<li>{<li>-<li>3<li>.<li>2<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>-<li>1<li>e<li>x<li> <li>m<li>i<li>n<li>u<li>s</ul></div>
<div><ul><li>-<li>.<li>2<li>e<li>x<li>}<li>{<li>1<li>.<li>5<li>e<li>x<li> <li>p<li>l<li>u<li>s<li> <li>.<li>2<li>e<li>x<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>$<li>\<li>S<li>$<li>\<li>t<li>h<li>e<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li>}<li>\<li>l<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p f>すると</p><p b>，</p><p f>節番号</p><p b>「</p><ul><li>§<li>6<li>.<li> </ul><p h>タイトル</p><p b>」</p><p b>，</p><p f>項番号</p><p b>「</p><ul><li>§<li>6<li>.<li>1<li>.<li> </ul><p h>タイトル</p><p b>」</p><p p>のようになります</p><p b>．</p><p f>これは</p><p b>，</p><p be>和書にときどきみられる形式です</p><p b>．</p></div>
<div class=_mark id=mark47><a  href='#toc47'><p b>第</p><ul><li> <li>1<li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>章立て命令の種々相</p><ul><li> <li>9<li>1</ul></a></div>
<div><ul><li>1<li>7<li>.<li>2<li> </ul><p n>内部マクロ細見</p></div>
<div><p b>「</p><ul><li>6<li> <li>.<li> <li>S<li>E<li>C<li>T<li>I<li>O<li>N<li> <li>N<li>U<li>M<li>B<li>E<li>R</ul><p b>」</p><p b>，</p><p b>「</p><ul><li>6<li>.<li>1<li>.<li> <li>S<li>U<li>B<li>S<li>E<li>C<li>T<li>I<li>O<li>N<li> <li>N<li>U<li>M<li>B<li>E<li>R</ul><p b>」</p><p n>のように節番号</p><p b>，</p><p v>項番号にピリオドをつけ</p><p b>，</p><p be>タイトルが大文字になるという形</p></div>
<div><p bc>式を要求する論文誌もあります</p><p b>．</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>n<li>u<li>m<li>b<li>e<li>r<li>}</ul><p l>と入力しても</p><p b>，</p><p v>このように出力するには</p><p b>，</p><p bc>もう少し深いレベルの内部マク</p></div>
<div><p bc>ロを再定義する必要があります</p><p b>．</p><p x>この機能の実現のためには</p><p b>，</p><ul><li>@<li>\<li>s<li>e<li>c<li>t<li>(</ul><p j>通常の処理</p><ul><li>)<li> </ul><p b>と</p><ul><li>\<li>@<li>s<li>s<li>e<li>c<li>t<li> <li>(</ul><p d>スタ</p><p b>ー</p><p r>の付いたときの処理</p><ul><li>)<li> </ul><p h>を修正し</p></div>
<div><p d>ます</p><p b>．</p><p h>これらは</p><p b>，</p><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p r>命令の内部命令です</p><p b>．</p><p x>まず完成品を示しましょう</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>a<li>4<li>j<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>e<li>c<li>t<li>#<li>1<li>#<li>2<li>#<li>3<li>#<li>4<li>#<li>5<li>#<li>6<li>[<li>#<li>7<li>]<li>#<li>8<li>{<li>%</ul><p l>番号出力あり</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> <li>#<li>2<li>><li>\<li>c<li>@<li>s<li>e<li>c<li>n<li>u<li>m<li>d<li>e<li>p<li>t<li>h<li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>}<li>\<li>e<li>l<li>s<li>e<li>%</ul><p x>番号出力するか否かの条件</p></div>
<div><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>#<li>1<li>}<li>%</ul><p h>カウンタ</p><p b>ー</p><p d>値を</p><ul><li> <li>1<li> </ul><p f>ふやす</p></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li> <li>}<li>%</ul><p l>番号出力形式</p></div>
<div><ul><li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li> <li>#<li>5<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p t>空白をスキップに設定</p><ul><li> <li>(</ul><p p>正負の判断のため</p><ul><li>)</ul></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li> <li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li>><li>\<li>z<li>@<li> <li>%</ul><p r>スキップが正のとき</p><p b>，</p><p l>見出しで改行</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li> <li>#<li>6<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p v>書体の指定がここに入る</p></div>
<div><ul><li>\<li>@<li>h<li>a<li>n<li>g<li>f<li>r<li>o<li>m<li>{<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>3<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>}<li>%</ul><p h>番号出力</p></div>
<div><ul><li>{<li>\<li>i<li>n<li>t<li>e<li>r<li>l<li>i<li>n<li>e<li>p<li>e<li>n<li>a<li>l<li>t<li>y<li> <li>\<li>@<li>M<li> <li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li>{<li>#<li>8<li>}<li>\<li>p<li>a<li>r<li>}<li>%</ul><p r>タイトルを大文字に</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>%</ul></div>
<div><ul><li>%<li>(</ul><p d>注意</p><ul><li>)<li> </ul><p n>オプション引数</p><ul><li>#<li>7<li> </ul><p l>がないときは</p><ul><li>#<li>8<li> </ul><p b>を</p><ul><li>#<li>7<li> </ul><p f>に複写</p></div>
<div><ul><li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>#<li>1<li>m<li>a<li>r<li>k<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>{<li>#<li>7<li>}<li>%</ul><p n>柱への出力内容</p></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>#<li>1<li>}<li>{<li>%<li>t<li>o<li>c<li> </ul><p p>ファイルへの出力</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> <li>#<li>2<li>><li>\<li>c<li>@<li>s<li>e<li>c<li>n<li>u<li>m<li>d<li>e<li>p<li>t<li>h</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>#<li>7<li>}</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>%</ul><p r>スキップが負のとき</p><p b>，</p><p v>見出しのあとの改行なし</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>h<li>d<li>{<li>#<li>6<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>3<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li> <li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li>{<li>#<li>8<li>}</ul></div>
<div><ul><li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>#<li>1<li>m<li>a<li>r<li>k<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>{<li>#<li>7<li>}</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>#<li>1<li>}<li>{<li>%<li>t<li>o<li>c<li> </ul><p p>ファイルへの出力</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> <li>#<li>2<li>><li>\<li>c<li>@<li>s<li>e<li>c<li>n<li>u<li>m<li>d<li>e<li>p<li>t<li>h</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>#<li>7<li>}<li>}<li>%</ul></div>
<div><ul><li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>@<li>x<li>s<li>e<li>c<li>t<li>{<li>#<li>5<li>}<li>}<li>%</ul><p z>見出しのあとの段落処理など</p></div>
<div><ul><li>%<li>%<li>%<li>%</ul><p d>スタ</p><p b>ー</p><p l>のついたとき</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>s<li>e<li>c<li>t<li>#<li>1<li>#<li>2<li>#<li>3<li>#<li>4<li>#<li>5<li>{<li>%</ul><p l>番号出力なし</p></div>
<div><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li> <li>#<li>3<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p t>空白をスキップに設定</p><ul><li> <li>(</ul><p p>正負の判断のため</p><ul><li>)</ul></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li> <li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li>><li>\<li>z<li>@<li>%</ul><p r>スキップが正のとき</p><p b>，</p><p l>見出しで改行</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li> <li>#<li>4</ul></div>
<div><ul><li>\<li>@<li>h<li>a<li>n<li>g<li>f<li>r<li>o<li>m<li>{<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>1<li>}<li>{<li>\<li>i<li>n<li>t<li>e<li>r<li>l<li>i<li>n<li>e<li>p<li>e<li>n<li>a<li>l<li>t<li>y<li> <li>\<li>@<li>M<li> <li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li>{<li>#<li>5<li>}<li>\<li>p<li>a<li>r<li>}</ul></div>
<div><ul><li>9<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>%</ul><p r>スキップが負のとき</p><p b>，</p><p v>見出しのあとの改行なし</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>h<li>d<li>{<li>#<li>4<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li>{<li>#<li>5<li>}<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>@<li>x<li>s<li>e<li>c<li>t<li>{<li>#<li>3<li>}<li>}<li>%</ul><p z>見出しのあとの段落処理など</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>%<li>(</ul><p d>例文</p><ul><li>)</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p t>ピリオドつきの節番号</p><ul><li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>S<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>n<li>u<li>m<li>b<li>e<li>r<li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{<li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>n<li>u<li>m<li>b<li>e<li>r<li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>*<li>{<li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>n<li>u<li>m<li>b<li>e<li>r<li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p f>もとの</p><ul><li>@<li>\<li> <li>s<li>e<li>c<li>t</ul><p b>，</p><ul><li>\<li>@<li>s<li>s<li>e<li>c<li>t<li> </ul><p f>の定義</p><ul><li> <li>(<li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li>)<li> </ul><p n>と比べてみると</p><p b>，</p><p bi>修正するといってもわずかな部分です</p><p b>．</p><p h>上記のソ</p><p b>ー</p><p l>スリストでは</p><p b>，</p><p b>改</p></div>
<div><p l>行を工夫して</p><p b>，</p><p bu>もとの定義よりも処理がたどり易いようにしました</p><p b>．</p><p d>また</p><p b>，</p><p h>要所には</p><p b>，</p><p bo>各処理の説明を注釈行として入れてあります</p><p b>．</p></div>
<div><p j>ペナルティ</p><p b>ー</p><p bo>などわからない部分もあるかも知れませんが</p><p b>，</p><p be>あまり気にする必要はありません</p><p b>．</p><p bc>引数などの対応を考えてゆくと</p><p b>，</p><p d>どこ</p></div>
<div><p bm>を直せばよいかは自ずからわかってきます</p><p b>．</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li> </ul><p b>は</p><p b>，</p><p v>一時保存に使うスキップ</p><ul><li> <li>(</ul><p bg>寸法に伸び縮みの量を付加したもの</p><ul><li>)<li> </ul><p f>を示し</p></div>
<div><p h>ています</p><p b>．</p></div>
<div><p d>まず</p><p b>，</p><p be>引数の対応を頭に入れてください</p><p b>．</p><ul><li>\<li>@<li> <li>s<li>e<li>c<li>t<li> </ul><p f>の引数</p><ul><li>#<li>1<li> </ul><p d>から</p><ul><li>#<li>6<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p f>命令の</p><ul><li> <li>6<li> </ul><p z>個の引数を引き継いでいます</p><p b>．</p><p b>ま</p></div>
<div><p b>た</p><p b>，</p><ul><li>#<li> <li>7<li> </ul><p b>と</p><ul><li>#<li>8<li> </ul><p b>は</p><p b>，</p><p h>それぞれ</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p by>などのオプション引数と通常の引数を引き継いでいます</p><p b>．</p><p d>一方</p><p b>，</p><ul><li>\<li>@<li>s<li>s<li>e<li>c<li>t<li> </ul><p f>の引数</p><ul><li>#<li>1<li> </ul><p d>から</p><ul><li>#<li>4<li> </ul><p b>は</p><p b>，</p></div>
<div><ul><li>\<li>@<li>s<li>t<li>a<li>r<li>t<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p f>命令の</p><ul><li> <li>6<li> </ul><p n>個の引数のうち</p><p b>，</p><ul><li>#<li>3</ul></div>
<div><p d>から</p><ul><li>#<li>5<li> </ul><p r>を引き継いでいます</p><p b>．</p><p d>また</p><p b>，</p><ul><li>\<li>@<li>s<li>s<li>e<li>c<li>t<li> </ul><p f>の引数</p><ul><li>#<li>5<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>*</ul><p bi>などの通常の引数を引き継いでいます</p><p b>．</p></div>
<div><p d>さて</p><p b>，</p><p bg>変更した部分の説明を始めましょう</p><p b>．</p><p d>まず</p><p b>，</p><p bc>番号にピリオドを打つところは</p><p b>，</p></div>
<div><ul><li>\<li> <li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li> <li>}<li>%</ul><p z>番号出力形式で行っています</p><p b>．</p><ul><li>\<li>c<li>s<li>n<li>a<li>m<li>e<li>·<li>·<li>·<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li> </ul><p b>は</p><p b>，</p><p p>挟まれた文字列の</p></div>
<div><p f>先頭に</p><ul><li>\</ul><p n>を付けた制御綴</p><ul><li> <li>(<li>c<li>o<li>n<li>t<li>r<li>o<li>l<li> <li>s<li>e<li>q<li>u<li>e<li>n<li>c<li>e<li>)</ul></div>
<div><p t>を作るためのものです</p><p b>．</p><p j>このためは</p><p b>，</p><p d>引数</p><ul><li>#<li>1<li> </ul><p j>の文字列が</p><ul><li> <li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>の場合は</p><p b>，</p><p d>結局</p><ul><li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p bi>という制御綴を作成していることにな</p></div>
<div><p f>ります</p><p b>．</p></div>
<div><p l>大文字出力は</p><p b>，</p><p p>タイトルが文字列</p><ul><li>#<li>8<li> </ul><p v>に格納されていますから</p><p b>，</p><p f>これを</p><ul><li>\<li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li>{<li>#<li>8<li>}</ul><p bi>のようにすればよいことがわかります</p><p b>．</p></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li> </ul><p b>は</p><p b>，</p><p r>すでに説明しました</p><p b>．</p><ul><li>t<li>o<li>c<li> </ul><p h>ファイル</p><ul><li> <li>(</ul><p b>第</p><ul><li> <li>1<li> </ul><p d>引数</p><ul><li>)<li> </ul><p b>に</p><p b>，</p><ul><li>#<li>1<li> <li>(</ul><p b>第</p><ul><li> <li>2<li> </ul><p d>引数</p><p b>，</p><p f>これは</p><ul><li> <li>s<li>e<li>c<li>t<li>i<li>o<li>n</ul></div>
<div><p l>などの文字列</p><ul><li>)<li> </ul><p l>の項目として</p><p b>，</p><p b>第</p><ul><li> <li>3<li> </ul><p d>引数</p><ul><li> <li>(</ul><p h>すなわち</p><p b>，</p><p be>条件文の条件に合致したときのみ</p><p b>，</p></div>
<div><ul><li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}</ul></div>
<div><p j>および引数</p><ul><li>#<li>7<li> <li>(<li>#<li>8<li> </ul><p f>の複写</p><ul><li>)<li>)<li> </ul><p x>を出力するというものです</p><p b>．</p><ul><li>#<li>1<li> </ul><p b>が</p><ul><li> <li>s<li>e<li>c<li>t<li>i<li>o<li>n<li> </ul><p h>のときは</p><p b>，</p><ul><li>#<li>7<li> <li>(<li>#<li>8<li> </ul><p f>の複写</p><ul><li>)<li> </ul><p b>が</p><ul><li> <li>S<li>e<li>c<li>t<li>i<li>o<li>n</ul></div>
<div><ul><li>n<li>u<li>m<li>b<li>e<li>r<li> </ul><p h>のときは</p><p b>，</p></div>
<div><ul><li>\<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>l<li>i<li>n<li>e<li> <li>{<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>}<li>{<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>9<li>}<li> <li>S<li>e<li>c<li>t<li>i<li>o<li>n<li> <li>n<li>u<li>m<li>b<li>e<li>r<li>}<li>{<li>1<li>2<li>}</ul></div>
<div><ul><li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~<li>~</ul></div>
<div><p h>のように</p><p b>，</p><ul><li>t<li>o<li>c<li> </ul><p x>ファイルに出力されますが</p><p b>，</p><p t>下線で示したところが</p><p b>，</p><p p>対応する部分です</p><p b>．</p><p d>仮に</p><ul><li>\<li>t<li>h<li>e<li>s<li>e<li>c<li>t<li>i<li>o<li>n</ul></div>
<div><p f>の値を</p><ul><li> <li>9<li> </ul><p d>とし</p><p b>，</p><ul><li>1<li>2<li> </ul><p b>ペ</p><p b>ー</p><p p>ジとしてあります</p><p b>．</p></div>
<div class=_mark id=mark48><a  href='#toc48'><p b>第</p><ul><li> <li>1<li>7<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>章立て命令の種々相</p><ul><li> <li>9<li>3</ul></a></div>
<div><p d>スタ</p><p b>ー</p><p l>の付いた命令</p><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>*</ul><p f>の場合</p><ul><li> <li>(<li>\<li>@<li>s<li>s<li>e<li>c<li>t<li> </ul><p f>の修正</p><ul><li>)<li> </ul><p b>も</p><p b>，</p><p l>同様ですので</p><p b>，</p><p bs>読者みずから処理の過程をたどってみてください</p><p b>．</p></div>
<div></div>
<div><ul><li>9<li>5</ul></div>
<div><p b>第</p><ul><li>1<li>8</ul><p b>章</p><ul><li> </ul><p r>罫線を利用した数学</p><p b>・</p><p p>化学記号文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p x>罫線を使う機能を応用して</p><p b>，</p><p by>既存の記号からちょっとした変更を行うことができます</p><p b>．</p><p j>この章では</p><p b>，</p><p t>簡単な例を紹介します</p><p b>．</p><p h>罫線につ</p></div>
<div><p f>いては</p><p b>，</p><p f>拙著第</p><ul><li> <li>1<li>2<li>.<li>1<li> </ul><p x>節に詳しい説明があります</p><p b>．</p><p l>参照されれば</p><p b>，</p><p ci>本章で述べた以外にもいろいろな方法があることに気付くでしょう</p></div>
<div><p b>．</p></div>
<div><ul><li>1<li>8<li>.<li>1<li> </ul><p bq>標準をあらわす添え字化学熱力学の慣行として</p><p b>，</p><p bg>ある化学過程の標準状態を表すのに</p><ul><li> </ul><p b>「</p><p b>◦</p><p b>」</p><p t>という記号を用います</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><p f>イアン</p><p b>・</p><p h>ミルズら</p><ul><li> <li>(</ul><p j>朽津耕三訳</p><ul><li>)<li> </ul><p b>「</p><p v>物理化学で用いられる量</p><p b>・</p><p d>単位</p><p b>・</p><p d>記号</p><p b>」</p><p x>講談社サイエンティフィク</p><p b>，</p><ul><li>(<li>1<li>9<li>9<li>1<li>)</ul></div>
<div><ul><li>p<li>.<li> <li>4<li>9<li> </ul><p b>に</p><p b>，</p><p x>この慣行の説明があります</p><p b>．</p><p j>この記号を</p><p b>，</p><p bc>罫線を使って作ってみましょう</p><ul><li>\<li>s<li>o<li>m<li>s<li> </ul><p be>という命令の定義は次の通りです</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>o<li>m<li>s<li>{<li>{<li>\<li>o<li>o<li>a<li>l<li>i<li>g<li>n<li>{<li>\<li>h<li>f<li>i<li>l<li>\<li>h<li>b<li>o<li>x<li>{<li>$<li>\<li>c<li>i<li>r<li>c<li>$<li>}<li>\<li>h<li>f<li>i<li>l<li>\<li>c<li>r<li>c<li>r<li>%</ul></div>
<div><ul><li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>5<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>.<li>5<li>e<li>m<li>{<li>\<li>h<li>r<li>u<li>l<li>e<li>f<li>i<li>l<li>l<li>}<li>}<li>}<li>}</ul></div>
<div><p r>この中で使っている</p><ul><li>\<li> <li>o<li>o<li>a<li>l<li>i<li>g<li>n<li> </ul><p bg>は二つの文字を重ね打ちするために</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p x>で用意されている命令です</p><p b>．</p><p v>応用範囲が広いですから</p><p b>，</p><p d>おぼ</p></div>
<div><p v>えておくとよいでしょう</p><p b>．</p><ul><li>\<li>c<li>r<li>c<li>r<li> </ul><p t>命令の前後にあるのが</p><p b>，</p><p t>重ね打ちする文字です</p><p b>．</p></div>
<div><ul><li>$<li>\<li> <li>c<li>i<li>r<li>c<li>$</ul><p b>は</p><p b>「</p><p b>◦</p><p b>」</p><p l>を出力します</p><p b>．</p><p j>その前後に</p><ul><li>\<li> <li>h<li>f<li>i<li>l<li> </ul><p p>命令がありますが</p><p b>，</p><p be>これで中央揃えを実現しています</p><p b>．</p><p f>罫線は</p><p b>，</p><ul><li>\<li>h<li>b<li>o<li>x<li> <li> <li>t<li>o<li>.<li>5<li>e<li>m<li>{<li>\</ul></div>
<div><ul><li>h<li>r<li>u<li>l<li>e<li>f<li>i<li>l<li>l<li> <li>}</ul><p x>という命令で作っています</p><p b>．</p><p v>実際にここに宣言すると</p><p b>　</p><p b>「</p><ul><li> </ul><p b>」</p><p n>と出力されます</p><p b>．</p><p f>これは</p><p b>，</p><p b>幅</p><ul><li> <li>0<li>.<li>5<li>e<li>m<li> </ul><p f>の横箱</p><ul><li> <li>(<li>\<li>h<li>b<li>o<li>x<li>)<li> </ul><p f>を作っ</p></div>
<div><p b>て</p><p b>，</p><p be>その中に横罫を幅いっぱいに出力</p><ul><li> <li>(<li>\<li>h<li>r<li>u<li>l<li>e<li>f<li>i<li>l<li>l<li> <li>)<li> </ul><p be>するということを実行しています</p><p b>．</p><p x>この罫線は下過ぎますから</p><p b>，</p><ul><li>\<li>r<li>a<li>i<li>s<li>e<li> </ul><p f>命令を</p></div>
<div><p f>用いて</p><p b>，</p><ul><li>0<li>.<li>5<li>5<li>e<li>x<li> </ul><p bk>だけ上方に移動してから出力しています</p><p b>．</p></div>
<div><p h>ついでに</p><p b>，</p><p r>標準モルギブス関数</p><ul><li>\<li>s<li>G<li>i<li>b<li>b<li>s<li> </ul><p t>と標準モルエントロピ</p><p b>ー</p><ul><li>\<li>s<li>E<li>n<li>t<li>r<li>o<li>p<li>y<li> </ul><p r>も定義しておきます</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>G<li>i<li>b<li>b<li>s<li>#<li>1<li>{<li>\<li>m<li>b<li>o<li>x<li>{<li>$<li>\<li>D<li>e<li>l<li>t<li>a<li> <li>G<li>_<li>{<li>\<li>r<li>m<li> <li>#<li>1<li>}<li>^<li>{<li>\<li>s<li>o<li>m<li>s<li>}<li>$<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>s<li>E<li>n<li>t<li>r<li>o<li>p<li>y<li>#<li>1<li>{<li>\<li>m<li>b<li>o<li>x<li>{<li>$<li>\<li>D<li>e<li>l<li>t<li>a<li> <li>S<li>_<li>{<li>\<li>r<li>m<li> <li>#<li>1<li>}<li>^<li>{<li>\<li>s<li>o<li>m<li>s<li>}<li>$<li>}<li>}</ul></div>
<div><p x>例文を示しておきましょう</p><p b>．</p></div>
<div><ul><li>(</ul><p d>例文</p><ul><li>)<li> </ul><p x>標準モル生成ギブス関数を</p><p b>，</p><ul><li>\<li>s<li>G<li>i<li>b<li>b<li>s<li>{<li>f<li>}</ul><p p>と書くと約束する</p><p b>．</p><p h>このとき</p><p b>，</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li>}<li> <li>\<li>r<li>m</ul></div>
<div><ul><li>C<li>O<li>(<li>g<li>)<li> <li>+<li> <li>1<li>/<li>2<li>O<li>_<li>{<li>2<li>}<li>(<li>g<li>)<li> <li>\<li>r<li>i<li>g<li>h<li>t<li>a<li>r<li>r<li>o<li>w<li> <li>C<li>O<li>_<li>{<li>2<li>}<li>(<li>g<li>)</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>2<li>)</ul></div>
<div><ul><li>9<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><p bi>のような反応の標準モルギブス関数は</p><p b>，</p><p x>つぎのようにしてえられる</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>e<li>q<li>n<li>a<li>r<li>r<li>a<li>y<li>}</ul></div>
<div><ul><li>\<li>s<li>G<li>i<li>b<li>b<li>s<li>{<li>m<li>}<li> <li>&<li> <li>=<li> <li>&<li> <li>\<li>r<li>m</ul></div>
<div><ul><li>\<li>s<li>G<li>i<li>b<li>b<li>s<li>{<li>f<li>}<li>(<li>C<li>O<li>_<li>{<li>2<li>}<li>,<li> <li>g<li>)<li> <li>-<li> <li>\<li>s<li>G<li>i<li>b<li>b<li>s<li>{<li>f<li>}<li>(<li>C<li>O<li>,<li> <li>g<li>)<li> <li>-<li> <li>1<li>/<li>2<li>\<li>s<li>G<li>i<li>b<li>b<li>s<li>{<li>f<li>}<li>(<li>O<li>_<li>{<li>2<li>}<li>,<li> <li>g<li>)<li> <li>\<li>\</ul></div>
<div><ul><li>&<li> <li>=<li> <li>&<li> <li>\<li>r<li>m<li> <li>\<li>{<li>-<li>3<li>9<li>4<li>.<li>3<li>8<li>-<li>(<li>-<li>1<li>3<li>7<li>.<li>2<li>7<li>)<li>-<li>0<li>\<li>}<li> <li>\<li>q<li>u<li>a<li>d<li> <li>k<li>J<li> <li>m<li>o<li>l<li>^<li>{<li>-<li>1<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>&<li> <li>=<li> <li>&<li> <li>\<li>r<li>m<li> <li>-<li>2<li>5<li>7<li>.<li>1<li>1<li> <li>\<li>q<li>u<li>a<li>d<li> <li>k<li>J<li> <li>m<li>o<li>l<li>^<li>{<li>-<li>1<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>e<li>q<li>n<li>a<li>r<li>r<li>a<li>y<li>}</ul></div>
<div><p f>出力は</p><p b>，</p><p l>次の通りです</p><p b>．</p></div>
<div><ul><li>(</ul><p d>例文</p><ul><li>)<li> </ul><p x>標準モル生成ギブス関数を</p><p b>，</p><p b>∆</p><ul><li>G</ul><p b>◦</p></div>
<div><ul><li>f<li> </ul><p p>と書くと約束する</p><p b>．</p><p h>このとき</p><p b>，</p></div>
<div><ul><li>C<li>O<li>(<li>g<li>)<li> <li>+<li> <li>1<li>/<li>2<li>O<li>2<li>(<li>g<li>)<li> </ul><p b>→</p><ul><li> <li>C<li>O<li>2<li>(<li>g<li>)<li> <li>(<li>1<li>8<li>.<li>1<li>)</ul></div>
<div><p bi>のような反応の標準モルギブス関数は</p><p b>，</p><p x>つぎのようにしてえられる</p><p b>．</p></div>
<div><p b>∆</p><ul><li>G</ul><p b>◦</p></div>
<div><ul><li>m<li> <li>=<li> </ul><p b>∆</p><ul><li>G</ul><p b>◦</p></div>
<div><ul><li>f<li> <li>(<li>C<li>O<li>2<li>,<li> <li>g<li>)<li> </ul><p b>−</p><ul><li> </ul><p b>∆</p><ul><li>G</ul><p b>◦</p></div>
<div><ul><li>f<li> <li>(<li>C<li>O<li>,<li> <li>g<li>)<li> </ul><p b>−</p><ul><li> <li>1<li>/<li>2</ul><p b>∆</p><ul><li>G</ul><p b>◦</p></div>
<div><ul><li>f<li> <li>(<li>O<li>2<li>,<li> <li>g<li>)<li> <li>(<li>1<li>8<li>.<li>2<li>)</ul></div>
<div><ul><li>=<li> <li>{</ul><p b>−</p><ul><li>3<li>9<li>4<li>.<li>3<li>8<li> </ul><p b>−</p><ul><li> <li>(</ul><p b>−</p><ul><li>1<li>3<li>7<li>.<li>2<li>7<li>)<li> </ul><p b>−</p><ul><li> <li>0<li>}<li> <li>k<li>J<li>m<li>o<li>l</ul><p b>−</p><ul><li>1<li> <li>(<li>1<li>8<li>.<li>3<li>)</ul></div>
<div><ul><li>=<li> </ul><p b>−</p><ul><li>2<li>5<li>7<li>.<li>1<li>1<li> <li>k<li>J<li>m<li>o<li>l</ul><p b>−</p><ul><li>1<li> <li>(<li>1<li>8<li>.<li>4<li>)</ul></div>
<div><p d>なお</p><p b>，</p><ul><li>\<li>o<li>o<li>a<li>l<li>i<li>g<li>n<li> </ul><p j>の使い方は</p><p b>，</p><p d>拙著</p><p b>「</p><p f>化学者</p><p b>・</p><p p>生化学者のための</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p b>」</p><p b>の</p><ul><li> <li>9<li>8<li>,<li> <li>2<li>2<li>4<li> </ul><p b>ペ</p><p b>ー</p><p t>ジに例がありますので</p><p b>，</p><p r>参考にしてください</p></div>
<div><p b>．</p><p d>また</p><p b>，</p><ul><li>e<li>q<li>u<li>a<li>t<li>i<li>o<li>n<li> </ul><p f>環境で</p><p b>，</p><p x>化学式を書くための工夫は</p><p b>，</p><p b>同</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>9<li> </ul><p b>章</p><p b>「</p><p h>化学環境</p><p b>」</p></div>
<div><p r>で詳しく述べました</p><p b>．</p></div>
<div><ul><li>1<li>8<li> <li>.<li>2<li> </ul><p j>不等号以上</p><ul><li> <li>(</ul><p b>≥</p><ul><li>)</ul><p b>，</p><p d>以下</p><ul><li> <li>(</ul><p b>≤</p><ul><li>)<li> </ul><p l>を表す記号は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><ul><li>$<li>\<li>g<li>e<li>q<li>$</ul><p b>，</p><ul><li>$<li>\<li>l<li>e<li>q<li>$</ul><p j>を使います</p><p b>．</p><p f>これが</p><p b>，</p><p d>数学</p><p b>・</p><p r>化学の分野で国際的</p></div>
<div><p x>に通用している記号ですが</p><p b>，</p><p h>日本では</p><p b>，</p><p j>下の等号が</p><ul><li> <li>2<li> </ul><p be>本棒のものを使う慣行があります</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p></div>
<div><p h>標準では</p><p b>，</p><p t>用意されていないので</p><p b>，</p><p v>これを作ってみましょう</p><p b>．</p></div>
<div><p p>もっとも簡単には</p><p b>，</p><ul><li>p<li>l<li>a<li>i<li>n<li> <li>T<li>E<li>X<li> </ul><p j>の中にある</p><ul><li>$<li>\<li>c<li>o<li>n<li>g<li>$<li> <li>(</ul><p b>∼</p><ul><li>=<li>)<li> </ul><p r>の定義を応用します</p><p b>．</p><p j>この定義は</p><p b>，</p><ul><li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p b>の</p></div>
<div><ul><li>A<li>p<li>p<li>e<li>n<li>d<li>i<li>x<li> <li>B<li> </ul><p v>に記載されているように</p><p b>，</p><ul><li> <li>$<li>\<li>s<li>i<li>m<li>$<li> <li>(</ul><p b>∼</p><ul><li>)<li> </ul><p f>と等号</p><ul><li> <li>(<li>=<li>)<li> </ul><p v>を合成して作っています</p><p b>．</p><p v>その部分を引用しますと</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>c<li>o<li>n<li>g<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li>\<li>@<li>v<li>e<li>r<li>e<li>q<li>\<li>s<li>i<li>m<li>}<li>}<li> <li>%<li>\<li>s<li>i<li>m<li> <li>o<li>v<li>e<li>r<li> <li>=</ul></div>
<div><p n>となっています</p><p b>．</p><ul><li>\<li>@<li>v<li>e<li>r<li>e<li>q<li> </ul><p b>が</p><ul><li>=</ul><p bi>の上に記号をのせるための制御綴です</p><p b>．</p><p j>この定義も</p><ul><li> <li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p bc>の同じ箇所に載っていますので</p><p b>，</p><p h>興味のあ</p></div>
<div><p r>る方はご覧ください</p><p b>．</p><p j>したがって</p><p b>，</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>G<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li>\<li>@<li>v<li>e<li>r<li>e<li>q<li>><li>}<li>}<li> <li>%<li>><li> <li>o<li>v<li>e<li>r<li> <li>=</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li>\<li>@<li>v<li>e<li>r<li>e<li>q<li><<li>}<li>}<li> <li>%<li><<li> <li>o<li>v<li>e<li>r<li> <li>=</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p r>よいことになります</p><p b>．</p><p f>実際に</p><ul><li> <li>$<li>a<li> <li>\<li>G<li>e<li>q<li> <li>b<li>$</ul><p b>と</p><ul><li>$<li>c<li>\<li>L<li>e<li>q<li> <li>d<li>$<li> </ul><p j>書きますと</p><p b>，</p><ul><li>a<li> <li>><li>=<li> <li>b<li> </ul><p b>と</p><ul><li> <li>c<li> <li><<li>=<li> <li>d<li> </ul><p p>のようになります</p><p b>．</p><p n>等号の二つの横</p></div>
<div><p bi>棒の間隔が広すぎるような気がします</p><p b>．</p><ul><li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li> </ul><p b>と</p><ul><li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li> </ul><p j>については</p><p b>，</p><p r>のちほど説明します</p><p b>．</p></div>
<div><p z>この点を改良してみましょう</p><p b>．</p><p bi>作成したマクロを示しておきましょう</p><p b>．</p></div>
<div class=_mark id=mark49><a  href='#toc49'><p b>第</p><ul><li> <li>1<li>8<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>罫線を利用した数学</p><p b>・</p><p h>化学記号</p><ul><li> <li>9<li>7</ul></a></div>
<div><ul><li>%<li> <li>\<li>G<li>e<li>q<li> <li>(</ul><p b>≧</p><ul><li>)<li> </ul><p b>と</p><ul><li> <li>\<li>L<li>e<li>q<li> <li>(</ul><p b>≦</p><ul><li>)<li> </ul><p f>の定義</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>G<li>L<li>e<li>q<li>@<li>#<li>1<li>#<li>2<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>2<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>v<li>b<li>o<li>x<li>{<li>\<li>h<li>b<li>o<li>x<li>{<li>$<li>#<li>1<li>#<li>2<li>$<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>e<li>m<li>}<li>%</ul></div>
<div><ul><li>\<li>k<li>e<li>r<li>n<li>.<li>2<li>e<li>x<li>\<li>h<li>r<li>u<li>l<li>e<li>\<li>k<li>e<li>r<li>n<li>.<li>2<li>e<li>x<li>\<li>h<li>r<li>u<li>l<li>e<li>}<li>}<li>\<li>k<li>e<li>r<li>n<li>.<li>1<li>e<li>m<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>G<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>c<li>h<li>o<li>i<li>c<li>e<li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>}<li>{<li>><li>}<li>}<li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>}<li>{<li>><li>}<li>}</ul></div>
<div><ul><li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>}<li>{<li>><li>}<li>}<li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>}<li>{<li>><li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>c<li>h<li>o<li>i<li>c<li>e<li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>}<li>{<li><<li>}<li>}<li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>}<li>{<li><<li>}<li>}</ul></div>
<div><ul><li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>}<li>{<li><<li>}<li>}<li>{<li>\<li>G<li>L<li>e<li>q<li>@<li>{<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>}<li>{<li><<li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p f>実際に</p><ul><li> <li>$<li>a<li> <li>\<li>G<li>e<li>q<li> <li>b<li>$</ul><p b>と</p><ul><li>$<li>c<li>\<li>L<li>e<li>q<li> <li>d<li>$<li> </ul><p j>書きますと</p><p b>，</p><ul><li>a<li> <li>><li> <li>b<li> </ul><p b>と</p><ul><li> <li>c<li> <li><<li> <li>d<li> </ul><p p>のようになります</p><p b>．</p><p bu>数式環境の中で添え字などに使っても大きさが調整</p></div>
<div><p t>されるようになります</p><p b>．</p></div>
<div></div>
<div><ul><li>i<li>><li>j</ul></div>
<div><ul><li>a<li>i<li>a<li>j<li> <li>,<li> </ul></div>
<div><ul><li>i<li><<li>j</ul></div>
<div><ul><li>a<li>i<li>a<li>j</ul></div>
<div><p f>ここで</p><p b>，</p><p bm>マクロの成り立ちについて説明しましょう</p><p b>．</p><p d>まず</p><p b>，</p><ul><li>\<li>G<li>L<li>e<li>q<li>@</ul><p v>命令の二つの引数のうち</p><p b>，</p><p n>第一のものには</p><p b>，</p><p t>記号の大きさを規定す</p></div>
<div><p h>るための</p><p b>，</p><p f>制御綴</p><ul><li> <li>(<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li> </ul><p d>など</p><ul><li>)<li> </ul><p j>を入れます</p><p b>．</p><p n>第二の引数には</p><p b>，</p><ul><li>><li> </ul><p f>または</p></div>
<div><ul><li><<li> </ul><p j>を入れます</p><p b>．</p><ul><li>\<li>G<li>L<li>e<li>q<li>@</ul><p n>命令の内部では</p><p b>，</p><ul><li>\<li>v<li>b<li>o<li>x<li> </ul><p d>内で</p><p b>，</p><p x>これらの記号の下に罫線を</p><ul><li> <li>2<li> </ul><p j>本入れます</p><p b>．</p><ul><li>\<li>k<li>e<li>r<li>n<li>.<li>2<li>e<li>x</ul></div>
<div><p l>で示したのが</p><p b>，</p><p r>罫線と罫線の間隔で</p><p b>，</p><ul><li>0<li>.<li>2<li>e<li>x<li> </ul><p bw>のように文字の大きさに依存する単位を用いています</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>t<li>h<li>c<li>h<li>o<li>i<li>c<li>e<li> </ul><p f>命令は</p><p b>，</p><ul><li>p<li>l<li>a<li>i<li>n<li> <li>T<li>E<li>X<li> </ul><p h>の命令で</p><p b>，</p><ul><li>4<li> </ul><p r>個の引数をとります</p><p b>．</p><p h>それぞれ</p><p b>，</p></div>
<div><ul><li>\<li>d<li>i<li>s<li>p<li>l<li>a<li>y<li>s<li>t<li>y<li>l<li>e</ul><p b>，</p><ul><li>\<li>t<li>e<li>x<li>t<li>s<li>t<li>y<li>l<li>e</ul><p b>，</p><ul><li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li> </ul><p f>および</p><ul><li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e</ul></div>
<div><p bg>で出力すべき数式を入れておきます</p><p b>．</p><p r>このあたりの事項は</p><p b>，</p><ul><li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> <li>-<li>-<li> </ul><p b>第</p><ul><li> <li>1<li>7<li> </ul><p v>章に詳しく載っています</p><ul><li> <li>(</ul><p f>とくに</p><ul><li> <li>E<li>X<li>C<li>E<li>R<li>C<li>I<li>S<li>E<li> <li>1<li>7<li>.<li>1<li>5<li>)</ul><p b>．</p></div>
<div><p cc>通常これらの大きさを表す記号は明示する必要はありません</p><p b>．</p><p j>この定義の</p><ul><li>\<li>G<li>e<li>q<li> </ul><p f>および</p><ul><li>\<li>L<li>e<li>q<li> </ul><p d>では</p><p b>，</p><p f>内部に</p><ul><li>\<li>v<li>b<li>o<li>x<li> </ul><p t>などを用いているため</p></div>
<div><p b>，</p><p bk>これらを明示する必要がでてきています</p><p b>．</p><p n>興味のある方は</p><p b>，</p><p l>上の定義から</p><p b>，</p><p bi>大きさを表す制御綴を除去した場合に</p><p b>，</p><p n>出力がどうなる</p></div>
<div><p bi>かためされると理解が深まるでしょう</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li> </ul><p be>は関係記号を作るためのものです</p><p b>．</p><p h>この点は</p><p b>，</p><p f>拙著の</p><ul><li> <li>1<li>8<li>.<li>2</ul><p b>「</p><p j>記号の新設</p><p b>」</p><p v>で詳しくふれましたので</p><p b>，</p><p p>参照してください</p><p b>．</p></div>
<div><ul><li>\<li> <li>m<li>a<li>t<li>h<li>c<li>h<li>o<li>i<li>c<li>e<li> </ul><p j>のかわりに</p><p b>，</p><ul><li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li> </ul><p l>命令を使って</p><p b>，</p><p v>定義することもできます</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p h>内部では</p><p b>，</p><ul><li>\<li>m<li>a<li>t<li>h<li>c<li>h<li>o<li>i<li>c<li>e<li> </ul><p j>と同じく四</p></div>
<div><p bk>つの場合に展開してから処理しています</p><p b>．</p><p l>こちらの方が</p><p b>，</p><p bg>大きさの指定をしなくてもよいので</p><p b>，</p><p r>定義が短くなります</p><p b>．</p></div>
<div><ul><li>%<li> <li>\<li>G<li>e<li>q<li> <li>(</ul><p b>≧</p><ul><li>)<li> </ul><p b>と</p><ul><li> <li>\<li>L<li>e<li>q<li> <li>(</ul><p b>≦</p><ul><li>)<li> </ul><p f>の定義</p><ul><li> <li>(<li>I<li>I<li>)</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>3<li>/<li>1<li>6</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>G<li>L<li>e<li>q<li>@<li>#<li>1<li>#<li>2<li>{<li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>2<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>v<li>b<li>o<li>x<li>{<li>\<li>h<li>b<li>o<li>x<li>{<li>$<li>\<li>m<li>@<li>t<li>h<li>#<li>1<li>#<li>2<li>$<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>e<li>m<li>}<li>%</ul></div>
<div><ul><li>\<li>k<li>e<li>r<li>n<li>.<li>2<li>e<li>x<li>\<li>h<li>r<li>u<li>l<li>e<li>\<li>k<li>e<li>r<li>n<li>.<li>2<li>e<li>x<li>\<li>h<li>r<li>u<li>l<li>e<li>}<li>}<li>\<li>k<li>e<li>r<li>n<li>.<li>1<li>e<li>m<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>G<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li>\<li>G<li>L<li>e<li>q<li>@<li>><li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li>\<li>G<li>L<li>e<li>q<li>@<li><<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p v>この定義による実例です</p><p b>．</p><ul><li>$<li>a<li>\<li>G<li>e<li>q<li> <li>b<li>$</ul><p b>と</p><ul><li>$<li>c<li>\<li>L<li>e<li>q<li> <li>d<li>$<li> </ul><p j>書きますと</p><p b>，</p><ul><li>a<li> <li>><li> <li>b<li> </ul><p b>と</p><ul><li> <li>c<li> <li><<li> <li>d<li> </ul><p p>のようになります</p><p b>．</p></div>
<div></div>
<div><ul><li>i<li>><li>j</ul></div>
<div><ul><li>a<li>i<li>a<li>j<li> <li>,<li> </ul></div>
<div><ul><li>i<li><<li>j</ul></div>
<div><ul><li>a<li>i<li>a<li>j</ul></div>
<div><ul><li>9<li>8<li> <li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p r>まくろの八衢さらに</p><p b>，</p><p v>別の方法も考えられます</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>p<li>l<li>a<li>i<li>n<li> <li>T<li>E<li>X<li> <li> </ul><p n>の隠しコマンド</p><ul><li>\<li>@<li>v<li>e<li>r<li>e<li>q<li> <li>(</ul><p f>上記の</p><ul><li>\<li>c<li>o<li>n<li>g</ul></div>
<div><p f>で使用</p><ul><li>)<li> </ul><p bm>を今回の目的に合うように変えたものです</p><p b>．</p><ul><li>\<li>i<li>a<li>l<li>i<li>g<li>n<li> </ul><p bc>のような制御綴がでていますが</p><p b>，</p><p be>この説明は長くなるので省きます</p><p b>．</p></div>
<div><ul><li>%<li> <li>\<li>G<li>e<li>q<li> <li>(</ul><p b>≧</p><ul><li>)<li> </ul><p b>と</p><ul><li> <li>\<li>L<li>e<li>q<li> <li>(</ul><p b>≦</p><ul><li>)<li> </ul><p f>の定義</p><ul><li> <li>(<li>I<li>I<li>I<li>)</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>3<li>/<li>1<li>6</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>v<li>e<li>r<li>E<li>Q<li>#<li>1<li>#<li>2<li>{<li>\<li>s<li>e<li>t<li>b<li>o<li>x<li>0<li>=<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>0<li>4<li>6<li>e<li>m<li>%</ul></div>
<div><ul><li>\<li>v<li>b<li>o<li>x<li>{<li>\<li>k<li>e<li>r<li>n<li>.<li>1<li>e<li>x<li>\<li>h<li>r<li>u<li>l<li>e<li> <li>w<li>i<li>d<li>t<li>h<li>.<li>5<li>6<li>e<li>m<li>\<li>k<li>e<li>r<li>n<li>.<li>2<li>e<li>x<li>\<li>h<li>r<li>u<li>l<li>e<li> <li>w<li>i<li>d<li>t<li>h<li>.<li>5<li>6<li>e<li>m<li>}<li>\<li>k<li>e<li>r<li>n<li>.<li>0<li>4<li>6<li>e<li>m<li>}<li>%</ul></div>
<div><ul><li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>5<li>p<li>t<li>\<li>v<li>b<li>o<li>x<li>{<li>\<li>b<li>a<li>s<li>e<li>l<li>i<li>n<li>e<li>s<li>k<li>i<li>p<li>0<li>p<li>t<li>\<li>l<li>i<li>n<li>e<li>s<li>k<li>i<li>p<li>0<li>p<li>t<li>%</ul></div>
<div><ul><li>\<li>i<li>a<li>l<li>i<li>g<li>n<li>{<li>$<li>\<li>m<li>@<li>t<li>h<li>#<li>1<li>\<li>h<li>f<li>i<li>l<li>#<li>#<li>\<li>h<li>f<li>i<li>l<li>$<li>\<li>c<li>r<li>c<li>r<li>#<li>2<li>\<li>c<li>r<li>c<li>r<li>\<li>b<li>o<li>x<li>0<li>\<li>c<li>r<li>c<li>r<li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li>\<li>@<li>v<li>e<li>r<li>E<li>Q<li><<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>G<li>e<li>q<li>{<li>\<li>m<li>a<li>t<li>h<li>r<li>e<li>l<li>{<li>\<li>m<li>a<li>t<li>h<li>p<li>a<li>l<li>e<li>t<li>t<li>e<li>\<li>@<li>v<li>e<li>r<li>E<li>Q<li>><li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p v>この定義による実例です</p><p b>．</p><ul><li>$<li>a<li>\<li>G<li>e<li>q<li> <li>b<li>$</ul><p b>と</p><ul><li>$<li>c<li>\<li>L<li>e<li>q<li> <li>d<li>$<li> </ul><p j>書きますと</p><p b>，</p><ul><li>a<li> <li>><li> <li>b<li> </ul><p b>と</p><ul><li> <li>c<li> <li><<li> <li>d<li> </ul><p p>のようになります</p><p b>．</p></div>
<div></div>
<div><ul><li>i<li>><li>j</ul></div>
<div><ul><li>a<li>i<li>a<li>j<li> <li>,<li> </ul></div>
<div><ul><li>i<li><<li>j</ul></div>
<div><ul><li>a<li>i<li>a<li>j</ul></div>
<div><ul><li>9<li>9</ul></div>
<div><p b>第</p><ul><li>1<li>9</ul><p b>章</p><ul><li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X</ul><p n>のロゴ文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p f>筆者は</p><p b>，</p><p be>化学構造式を描くためのマクロ集</p><ul><li>X<li> </ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X</ul><p h>を作成し</p><p b>，</p><ul><li>@<li>n<li>i<li>f<li>t<li>y</ul><p b>の</p><ul><li>F<li>P<li>R<li>I<li>N<li>T<li> <li>L<li>I<li>B<li> <li>7</ul><p j>にアップロ</p><p b>ー</p><p j>ドしました</p><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p d>のア</p><p b>ー</p><p j>カイブであ</p></div>
<div><p b>る</p><ul><li> <li>C<li>T<li>A<li>N<li> <li>(<li>t<li>h<li>e<li> <li>C<li>o<li>m<li>p<li>r<li>e<li>h<li>e<li>n<li>s<li>i<li>v<li>e<li> <li>T<li>E<li>X<li> <li>A<li>r<li>c<li>h<li>i<li>v<li>e<li> <li>N<li>e<li>t<li>w<li>o<li>r<li>k<li>)<li> </ul><p h>への転載</p><p b>，</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li>b<li>o<li>o<li>k</ul></div>
<div><p f>の刊行</p><p b>，</p><ul><li>2<li> </ul><p b>ホ</p><p b>ー</p><p d>ムペ</p><p b>ー</p><p b>ジ</p><ul><li> <li>3<li> </ul><p v>への掲載をなっています</p><p b>．</p><ul><li>4</ul><p x>やや特殊なマクロ集ですが</p><p b>，</p><p bs>使う人が増えているようで作者として喜んでいま</p></div>
<div><p b>す</p><p b>．</p><p d>さて</p><p b>，</p><p bs>今回はこのロゴを書くためのマクロを説明します</p><p b>．</p><p h>手始めに</p><ul><li> <li>T<li>E<li>X<li> </ul><p t>のロゴの定義を説明し</p><p b>，</p><p f>さらに</p><ul><li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p n>のロゴの定義を</p></div>
<div><p j>説明します</p><p b>．</p><p j>この章では</p><p b>，</p><p h>文字のカ</p><p b>ー</p><p bi>ニングなどに関する細かい命令として</p><p b>，</p><ul><li>\<li> <li>k<li>e<li>r<li>n<li> </ul><p d>命令</p><p b>，</p><ul><li>\<li>r<li>a<li>i<li>s<li>e<li> </ul><p d>命令</p><p b>，</p><ul><li>\<li>l<li>o<li>w<li>e<li>r<li> </ul><p d>命令</p><p b>，</p><ul><li>\<li>s<li>m<li>a<li>s<li>h<li> </ul><p d>命令</p></div>
<div><p p>などが出てきます</p><p b>．</p></div>
<div><ul><li>1<li>9<li>.<li>1<li> <li>T<li>E<li>X<li> </ul><p l>のロゴの定義</p></div>
<div><ul><li>T<li>E<li>X<li> </ul><p n>のロゴの定義は</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>e<li>X<li>{<li>T<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>2<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>0<li>6<li>e<li>m<li> <li>X<li>}</ul></div>
<div><p x>のように与えられています</p><p b>．</p><ul><li>\<li>k<li>e<li>r<li>n<li> </ul><p f>命令は</p><p b>，</p><p j>文字間のカ</p><p b>ー</p><p be>ニングを指定するためのものです</p><p b>．</p><p bk>負の値を入れると空白が小さくなります</p></div>
<div><p b>．</p><p h>極端には</p><p b>，</p><p x>字を重ねることもできます</p><p b>．</p><ul><li>\<li>l<li>o<li>w<li>e<li>r<li> </ul><p h>は後続の</p><ul><li>\<li>h<li>b<li>o<li>x<li> </ul><p bg>を基準線から下げるというものです</p><p b>．</p><p n>この逆の命令が</p><ul><li>\<li>r<li>a<li>i<li>s<li>e<li> </ul><p f>でたと</p></div>
<div><p d>えば</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>E<li>X<li>{<li>T<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>2<li>e<li>m<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>0<li>6<li>e<li>m<li> <li>X<li>}</ul></div>
<div><p r>のように定義すると</p><p b>，</p><ul><li>\<li>T<li>E<li>X<li> </ul><p p>と書くことにより</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p t>のように出力されます</p><p b>．</p></div>
<div><ul><li>1<li>9<li>.<li>2<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p l>のロゴの定義</p></div>
<div><ul><li>1<li>9<li> <li>.<li>2<li>.<li>1<li> </ul><p r>ロゴの由来この項は</p><p b>，</p><p h>閑話休題</p><p b>．</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p bk>のロゴについては多少苦労しましたので</p><p b>，</p><p bc>その由来を述べておきましょう</p><p b>．</p><p f>すでに</p></div>
<div><p b>，</p><ul><li>C<li>h<li>e<li>m<li>T<li>E<li>X<li> </ul><p bq>という名称のマクロ集が出まわっていますので</p><p b>，</p><p bc>これと区別する必要があります</p><p b>．</p></div>
<div><ul><li>1<li> <li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>2<li>a<li>)<li> <li>2</ul><p h>藤田眞作</p><p b>，</p><p b>“</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X</ul><p b>—</p><ul><li>T<li>y<li>p<li>e<li>s<li>e<li>t<li>t<li>i<li>n<li>g<li> <li>C<li>h<li>e<li>m<li>i<li>c<li>a<li>l<li> <li>S<li>t<li>r<li>u<li>c<li>t<li>u<li>r<li>a<li>l<li> <li>F<li>o<li>r<li>m<li>u<li>l<li>a<li>s</ul><p b>”</p><ul><li>,<li> </ul><p j>アジソンウ</p></div>
<div><p h>ェスレイ</p><p b>・</p><p h>ジャパン</p><p b>，</p><p d>東京</p><ul><li> <li>(<li>1<li>9<li>9<li>7<li>)<li> <li>3<li>h<li>t<li>t<li>p<li>:<li>/<li>/<li>i<li>m<li>t<li>.<li>c<li>h<li>e<li>m<li>.<li>k<li>i<li>t<li>.<li>a<li>c<li>.<li>j<li>p<li>/<li>f<li>u<li>j<li>i<li>t<li>a<li>/<li>f<li>u<li>j<li>i<li>t<li>a<li>s<li>/<li>f<li>u<li>j<li>i<li>t<li>a<li>.<li>h<li>t<li>m<li>l</ul></div>
<div><ul><li>4<li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p r>の使い方については</p><p b>，</p><ul><li>@<li>n<li>i<li>f<li>t<li>y<li> <li>(<li>N<li>I<li>F<li>T<li>Y<li>-<li>S<li>e<li>r<li>v<li>e<li>)<li> </ul><p bk>に入門編や上級編をアップしてあります</p><p b>．</p><p h>公式には</p><p b>，</p><p j>注にあげた</p></div>
<div><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p f>のほか</p><p b>，</p><ul><li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>,<li> </ul><p b>“</p><ul><li>T<li>y<li>p<li>e<li>s<li>e<li>t<li>t<li>i<li>n<li>g<li> <li>s<li>t<li>r<li>u<li>c<li>t<li>u<li>r<li>a<li>l<li> <li>f<li>o<li>r<li>m<li>u<li>l<li>a<li>e<li> <li>w<li>i<li>t<li>h<li> <li>t<li>h<li>e<li> <li>t<li>e<li>x<li>t<li> <li>f<li>o<li>r<li>m<li>a<li>t<li>t<li>e<li>r<li> <li>T<li>E<li>X<li>/<li>L<li>A<li>T<li>E<li>X</ul><p b>”</p><ul><li>,<li> <li>C<li>o<li>m<li>p<li>u<li>t<li>e<li>r<li>s<li> <li>a<li>n<li>d</ul></div>
<div><ul><li>C<li>h<li>e<li>m<li>i<li>s<li>t<li>y<li>,<li> <li>1<li>8<li>,<li> <li>1<li>0<li>9</ul><p b>–</p><ul><li>1<li>1<li>6<li> <li>(<li>1<li>9<li>9<li>4<li>)<li>;<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>,<li> </ul><p b>“</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> <li>f<li>o<li>r<li> <li>D<li>r<li>a<li>w<li>i<li>n<li>g<li> <li>C<li>h<li>e<li>m<li>i<li>c<li>a<li>l<li> <li>S<li>t<li>u<li>c<li>t<li>u<li>r<li>e</ul><p b>”</p><ul><li>,<li> <li>T<li>U<li>G<li>b<li>o<li>a<li>t<li>,<li> <li>1<li>6<li>,<li> <li>8<li>0</ul><p b>–</p><ul><li>8<li>6<li> <li>(<li>1<li>9<li>9<li>5<li>)<li> </ul><p h>などをご</p></div>
<div><p j>覧ください</p><p b>．</p></div>
<div><ul><li>1<li>0<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>T<li>E<li>X<li> </ul><p j>というのが</p><p b>，</p><p bg>ギリシア語を語源にしていますので</p><p b>，</p><p bk>接頭語もやはりギリシア語源とするのが</p><p b>，</p><p r>造語法の決まりです</p><p b>．</p><p l>この決まりに</p></div>
<div><p t>従いたいということと</p><p b>，</p><ul><li>c<li>h<li>e<li>m<li>i<li>s<li>t<li>y<li> <li> </ul><p bs>にちなんだ名前にしたいというのが念頭にあって</p><p b>，</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p bi>の本体を作るのと同じくらい神経を使</p></div>
<div><p h>いました</p><p b>．</p><p z>ギリシア語の辞典をめくって</p><ul><li> <li>c<li>h<li>e<li>m<li>i<li>s<li>t<li>y</ul></div>
<div><p bi>の語源になっているものを探しまくり</p><p b>，</p><p f>やっと</p><ul><li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p bc>という名前にたどり着きました</p><p b>．</p></div>
<div><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p j>のロゴでは</p><p b>，</p><p b>Υ</p><p ci>以外は通常のアルファベットと同じ字体になってしまっていますが</p><p b>，</p><p bk>各文字はすべてギリシア文字の大文字で</p></div>
<div><p b>す</p><p b>．</p><p f>先頭の</p><ul><li> <li>X</ul><p b>Υ</p><ul><li>M<li> </ul><p p>を小文字に直すと</p><ul><li> </ul><p b>χ</p><p b>υ</p><ul><li>µ<li> </ul><p f>となり</p><p b>，</p><p f>これは</p><p b>，</p><ul><li>c<li>h<li>e<li>m<li>i<li>s<li>t<li>y<li> </ul><p b>の</p><ul><li> <li>c<li>h<li>e<li>m<li> </ul><p j>の語源です</p><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p p>もギリシャ文字で</p><p b>，</p><p n>小文字に直すと</p></div>
<div><p b>，</p><p b>τ</p><ul><li> <li> <li> <li> <li> </ul><p b>χ</p><ul><li> </ul><p z>となるのはご存じの通りです</p><p b>．</p><p h>その結果</p><p b>，</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X</ul></div>
<div><ul><li>(<li> </ul><p b>χ</p><p b>υ</p><ul><li>µ</ul><p b>τ</p><ul><li> <li> <li> <li> <li> </ul><p b>χ</p><ul><li>)<li> </ul><p b>は</p><p b>，</p><ul><li>X<li> <li>(</ul><p b>χ</p><ul><li>)<li> </ul><p h>に始まり</p><p b>，</p><ul><li>X<li> <li>(</ul><p b>χ</p><ul><li>)<li> </ul><p t>の終ることになります</p><p b>．</p><p d>また</p><p b>Υ</p><p j>と上にあげ</p><p b>，</p><ul><li>E<li> </ul><p bg>を下にさげて釣り合いをとるように</p></div>
<div><p l>なっています</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p be>のやり方を換骨脱胎したものです</p><p b>．</p><p be>このようなロゴが使えない場合は</p><p b>，</p><ul><li>X<li>y<li>M<li>T<li>e<li>X<li> </ul><p r>でもよいことにして</p></div>
<div><p h>あります</p><p b>．</p><p bu>ギリシア文字をアルファベットに置き換える場合は</p><p b>，</p><p b>υ</p></div>
<div><p b>を</p><ul><li> <li>u<li> </ul><p v>とすることもありますが</p><p b>，</p><p h>ここでは</p><ul><li> <li>y<li> </ul><p n>を採用しました</p><p b>．</p></div>
<div><ul><li>1<li>9<li>.<li>2<li>.<li>2<li> </ul><p f>第一法</p></div>
<div><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p p>のマニュアルには</p><p b>，</p><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p r>のロゴの定義として</p><p b>，</p><p r>二つあがっています</p><p b>．</p><p z>第一の定義を次に引用します</p><p b>．</p></div>
<div><ul><li>%<li>%<li>%<li>X<li>y<li>M<li>T<li>e<li>X<li> <li>L<li>o<li>g<li>o<li>:<li> <li>D<li>e<li>f<li>i<li>n<li>i<li>t<li>i<li>o<li>n<li> <li>1<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>X<li>y<li>M<li>{<li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>f<li>a<li>m<li>=<li>-<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>f<li>a<li>m<li>=<li>0<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>f<li>i<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>f<li>a<li>m<li>%</ul></div>
<div><ul><li>X<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>0<li>e<li>m<li>\<li>s<li>m<li>a<li>s<li>h<li>{<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>5<li>0<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li>}<li>%</ul></div>
<div><ul><li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>0<li>e<li>m<li>{<li>M<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>{<li>\<li>X<li>y<li>M<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>e<li>m<li>\<li>T<li>e<li>X<li>}</ul></div>
<div><p l>このマクロは</p><p b>，</p><p b>Υ</p><ul><li> </ul><p be>の出力のところに工夫があります</p><p b>．</p><ul><li> </ul><p be>次のような例を試してみましょう</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}<li>{<li>c<li>c<li>c<li>}</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><p b>ロ</p><p b>ー</p><p f>マン体</p><ul><li> <li>&<li> </ul><p b>ボ</p><p b>ー</p><p f>ルド体</p><ul><li> <li>&<li> </ul><p l>イタリック体</p><ul><li> <li>\<li>\</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>{<li>\<li>r<li>m<li> <li>$<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li> <li>&<li> <li>{<li>\<li>b<li>f<li> <li>$<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li> <li>&<li> <li>{<li>\<li>i<li>t<li> <li>$<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>{<li>\<li>r<li>m<li> <li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>f<li>a<li>m<li> <li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li>&</ul></div>
<div><ul><li>{<li>\<li>b<li>f<li> <li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>f<li>a<li>m<li> <li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li>&</ul></div>
<div><ul><li>{<li>\<li>i<li>t<li> <li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>f<li>a<li>m<li> <li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li>\<li>\</ul></div>
<div><ul><li>{<li>\<li>r<li>m<li> <li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>}<li> <li>&<li> <li>{<li>\<li>b<li>f<li> <li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>}<li> <li>&<li> <li>{<li>\<li>i<li>t<li> <li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><p x>出力は次のようになります</p><p b>．</p><p z>表の第一行目でわかるように</p><p b>，</p><ul><li>$<li>\<li>U<li>s<li>i<li>l<li>o<li>n<li>$</ul><p h>の出力は</p><p b>，</p><p z>字体を変えても変化しません</p><p b>．</p></div>
<div class=_mark id=mark50><a  href='#toc50'><p b>第</p><ul><li> <li>1<li>9<li> </ul><p b>章</p><ul><li>.<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> </ul><p f>のロゴ</p><ul><li> <li>1<li>0<li>1</ul></a></div>
<div><p b>ロ</p><p b>ー</p><p f>マン体</p><ul><li> </ul><p b>ボ</p><p b>ー</p><p f>ルド体</p><ul><li> </ul><p l>イタリック体</p></div>
<div><p b>Υ</p><p b>Υ</p><ul><li> </ul><p b>Υ</p></div>
<div><p b>Υ</p><p b>Υ</p><ul><li> </ul><p b>Υ</p></div>
<div><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X</ul></div>
<div><p x>字体を変えるには地の文の</p><ul><li>\<li>f<li>a<li>m<li> </ul><p bw>の値を数式環境の中に代入するという方法をとります</p><p b>．</p><p h>ここでは</p><p b>，</p><p j>この目的で</p><p b>，</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p h>という一</p></div>
<div><p n>時的なカウンタ</p><p b>ー</p><p l>を使いました</p><p b>．</p><p be>二行目のように字体が変わります</p><p b>．</p><p v>この仕組みさえわかれば</p><p b>，</p><p f>あとは</p><ul><li> <li>T<li>E<li>X<li> <li> </ul><p t>のロゴと同じですから</p><p b>，</p></div>
<div><p j>おおよそは</p><p b>，</p><p t>理解できると思います</p><p b>．</p><p d>ただ</p><p b>，</p><ul><li>\<li>s<li>m<li>a<li>s<li>h</ul></div>
<div><p bc>という命令には説明が必要です</p><p b>．</p><p j>この命令は</p><p b>，</p><p l>文字の高さを</p><ul><li> <li>0<li> <li> </ul><p v>にして出力するものです</p><p b>．</p><p p>このようにすると</p><p b>，</p><p t>多少上に突き出しても</p></div>
<div><p b>，</p><p bs>行間隔の変更は起こらないということになります</p><p b>．</p></div>
<div><ul><li>1<li>9<li>.<li>2<li>.<li>3<li> </ul><p bw>第二法第一法よりももうすこしすっきりした方法です</p><p b>．</p><p v>定義を次に示しましょう</p><p b>．</p></div>
<div><ul><li>%<li>%<li>%<li>X<li>y<li>M<li>T<li>e<li>X<li> <li>L<li>o<li>g<li>o<li>:<li> <li>D<li>e<li>f<li>i<li>n<li>i<li>t<li>i<li>o<li>n<li> <li>2<li>%<li>%<li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>U<li>P<li>S<li>I<li>L<li>O<li>N<li>{<li>\<li>c<li>h<li>a<li>r</ul><p b>’</p><ul><li>7<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>X<li>y<li>M<li>{<li>X<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>0<li>e<li>m<li>\<li>s<li>m<li>a<li>s<li>h<li>{<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>5<li>0<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>U<li>P<li>S<li>I<li>L<li>O<li>N<li>}<li>}<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>0<li>e<li>m<li>{<li>M<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>{<li>\<li>X<li>y<li>M<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>e<li>m<li>\<li>T<li>e<li>X<li>}</ul></div>
<div><p z>この定義のポイントはやはり</p><ul><li> </ul><p b>Υ</p><ul><li> </ul><p v>の文字の指定の仕方です</p><p b>．</p><ul><li>\<li>U<li>P<li>S<li>I<li>L<li>O<li>N<li> </ul><p l>の定義の中の</p><ul><li>\<li>c<li>h<li>a<li>r</ul><p b>’</p><ul><li>7<li> </ul><p b>は</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p bc>のフォント表の中の位置を示し</p></div>
<div><p h>ています</p><p b>．</p><p h>たとえば</p><p b>，</p><ul><li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p b>の</p><ul><li> <li>A<li>p<li>p<li>e<li>n<li>d<li>i<li>x<li> <li>F<li> </ul><p n>をご覧ください</p><p b>．</p><ul><li>\<li>c<li>h<li>a<li>r</ul><p b>’</p><ul><li>6<li> </ul><p b>は</p></div>
<div><p b>Σ</p><p b>，</p><ul><li>\<li> <li>c<li>h<li>a<li>r</ul><p b>’</p><ul><li>1<li>3<li> </ul><p b>は</p><ul><li> <li>f<li>f</ul><p bc>のように割り当てられています</p><p b>．</p><ul><li>\<li>c<li>h<li>a<li>r<li> </ul><p bk>命令はフォント表の位置を直接指定して</p><p b>，</p><p z>文字を呼び出す機能をもって</p></div>
<div><p f>います</p><p b>．</p><p z>何も書体指定をしない場合は</p><p b>，</p><p b>ロ</p><p b>ー</p><p f>マン体</p><ul><li> <li>(</ul><p j>フォント名</p><ul><li> <li>c<li>m<li>r<li>1<li>0<li> </ul><p d>の表</p><p b>．</p></div>
<div><ul><li>T<li>E<li>X<li>b<li>o<li>o<li>k<li> </ul><p d>では</p><p b>，</p><ul><li>A<li>p<li>p<li>e<li>n<li>d<li>i<li>x<li> <li>F<li> </ul><p d>の表</p><ul><li> <li>1<li>)<li> </ul><p p>が呼び出されます</p><p b>．</p><p h>字体をボ</p><p b>ー</p><p r>ルド体を指定すると</p><p b>，</p><ul><li>{<li>\<li>b<li>f<li> <li>\<li>c<li>h<li>a<li>r</ul><p b>’</p><ul><li>6<li>}</ul></div>
<div><p b>は</p><ul><li> </ul><p b>Σ</p><p b>，</p><ul><li>{<li>\<li>b<li>f<li> <li>\<li>c<li>h<li>a<li>r</ul><p b>’</p><ul><li>1<li>3<li>}</ul><p b>は</p><ul><li> <li>f<li>f</ul><p j>のようにボ</p><p b>ー</p><p f>ルド体</p><ul><li> <li>(</ul><p j>フォント名</p><ul><li> <li>c<li>m<li>b<li>x<li>1<li>0<li>)<li> </ul><p p>が呼び出されます</p><p b>．</p><p l>あとの命令は</p><p b>，</p></div>
<div><p cc>すでにでてきたものですからおわかりいただけると思います</p><p b>．</p><p f>ここで</p><p b>、</p><p b>第</p><ul><li> <li>2<li> </ul><p bm>の定義によるものをまとめておきましょう</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}<li>{<li>c<li>c<li>c<li>}</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><p b>ロ</p><p b>ー</p><p f>マン体</p><ul><li> <li>&<li> </ul><p b>ボ</p><p b>ー</p><p f>ルド体</p><ul><li> <li>&<li> </ul><p l>イタリック体</p><ul><li> <li>\<li>\</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>{<li>\<li>r<li>m<li> <li>$<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li> <li>&<li> <li>{<li>\<li>b<li>f<li> <li>$<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li> <li>&<li> <li>{<li>\<li>i<li>t<li> <li>$<li>\<li>U<li>p<li>s<li>i<li>l<li>o<li>n<li>$<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>{<li>\<li>r<li>m<li> <li>\<li>U<li>P<li>S<li>I<li>L<li>O<li>N<li>}<li> <li>&<li> <li>{<li>\<li>b<li>f<li> <li>\<li>U<li>P<li>S<li>I<li>L<li>O<li>N<li>}<li> <li>&<li> <li>{<li>\<li>i<li>t<li> <li>\<li>U<li>P<li>S<li>I<li>L<li>O<li>N<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>{<li>\<li>r<li>m<li> <li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>}<li> <li>&<li> <li>{<li>\<li>b<li>f<li> <li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>}<li> <li>&<li> <li>{<li>\<li>i<li>t<li> <li>\<li>X<li>y<li>M<li>T<li>e<li>X<li>}<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>h<li>l<li>i<li>n<li>e</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><p n>と宣言しますと</p><p b>、</p><p t>次の出力がえられます</p><p b>．</p></div>
<div><ul><li>1<li>0<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>まくろの八衢ロ</p><p b>ー</p><p f>マン体</p><ul><li> </ul><p b>ボ</p><p b>ー</p><p f>ルド体</p><ul><li> </ul><p l>イタリック体</p></div>
<div><p b>Υ</p><p b>Υ</p><ul><li> </ul><p b>Υ</p></div>
<div><p b>Υ</p><ul><li> </ul><p b>Υ</p><ul><li> </ul><p b>Υ</p></div>
<div><ul><li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X<li> <li>X</ul><p b>Υ</p><ul><li>M<li>T<li>E<li>X</ul></div>
<div><ul><li>1<li>0<li>3</ul></div>
<div><p b>第</p><ul><li>2<li>0</ul><p b>章</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p r>のロゴ細見文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> </ul><p d>のユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p f>として</p><p b>，</p><p x>数年しか経っていないのに</p><p b>，</p><p b>「</p><p f>化学者</p><p b>・</p><p p>生化学者のための</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p b>—</p><p bc>パソコンによる論文作成の手引</p><p b>」</p><ul><li>(</ul><p d>東京</p></div>
<div><p h>化学同人</p><p b>，</p><ul><li>1<li>9<li>9<li>3<li>,<li> <li>I<li>S<li>B<li>N<li>4<li>-<li>8<li>0<li>7<li>9<li>-<li>0<li>3<li>8<li>6<li>-<li>1<li>)<li> </ul><p f>という</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p z>の使い方の本を出版しました</p><p b>．</p><p j>このときに</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p v>のロゴには苦労したので</p><p b>，</p><p b>そ</p></div>
<div><p n>の話しをひとつ</p><p b>．</p><p f>すでに</p><p b>，</p><p v>この本の囲み記事として</p><p b>，</p></div>
<div><p t>概要を書いたのですが</p><p b>，</p><p bg>もう少し説明を加えたいと思います</p><p b>．</p></div>
<div><ul><li>2<li>0<li>.<li>1<li> </ul><p p>オリジナルの定義</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p z>のロゴのオリジナルの定義は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p j>のマクロソ</p><p b>ー</p><p h>スである</p><ul><li> <li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li> <li>(<li>L<li>A<li>T<li>E<li>X<li>2<li>.<li>0<li>9<li>)<li> </ul><p n>の中にあります</p><p b>．</p></div>
<div><p d>定義</p><ul><li> <li>1</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>a<li>T<li>e<li>X<li>{<li>{<li>\<li>r<li>m<li> <li>L<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>6<li>e<li>m<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>3<li>e<li>x<li>%</ul></div>
<div><ul><li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>s<li>c<li> <li>a<li>}<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>5<li>e<li>m</ul></div>
<div><ul><li>T<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>7<li>e<li>x<li>%</ul></div>
<div><ul><li>\<li>h<li>b<li>o<li>x<li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>}<li>}</ul></div>
<div><p h>ちなみに</p><p b>，</p><p p>この定義の後半は</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p bc>のロゴのマクロの定義に一致し</p><p b>，</p><ul><li>l<li>p<li>l<li>a<li>i<li>n<li>.<li>t<li>e<li>x<li> </ul><p p>に含まれています</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>e<li>X<li>{<li>T<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>5<li>e<li>x<li>%</ul></div>
<div><ul><li>\<li>h<li>b<li>o<li>x<li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>}</ul></div>
<div><p be>これらの定義であきらかなように</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p n>の字体は常にロ</p><p b>ー</p><p l>マン体になり</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p bc>は指定した字体で印刷されます</p><p b>．</p><p j>したがって</p><p b>，</p><p f>章や節</p></div>
<div><p z>の見出しなどに使ったばあい</p><p b>，</p><p b>「</p><ul><li>T<li>E<li>X<li> </ul><p b>と</p><ul><li> <li>L<li>A<li>T<li>E<li>X</ul><p b>」</p><p be>のように字体が不揃いになります</p><p b>．</p><p r>考えようによっては</p><p b>，</p><p v>オリジナルの定義だから</p><p b>，</p></div>
<div><p cc>このような場合も仕方がないということも言えると思います</p><p b>．</p><p d>また</p><p b>，</p><p j>この場合は</p><p b>，</p><p j>審美的にも</p><p b>，</p><p z>まあ許せる範囲とおもいます</p><p b>．</p></div>
<div><p h>ところが</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> </ul><p b>の</p><ul><li> <li>A<li> </ul><p f>がスモ</p><p b>ー</p><p l>ルキャピタル</p><ul><li> <li>(<li>\<li>s<li>c<li>)<li> </ul><p r>で定義してあるため</p><p b>，</p><p bg>このフォントがない場合に小文字の</p><ul><li> <li>a<li> </ul><p n>で代用されます</p><p b>．</p></div>
<div><p h>たとえば</p><p b>，</p><p d>標準</p><ul><li> <li>1<li>0<li>p<li>t<li> </ul><p b>で</p><ul><li> <li>a<li>r<li>t<li>i<li>c<li>l<li>e<li> </ul><p t>スタイルを用いる場合</p><p b>，</p><ul><li>{<li>\<li>H<li>u<li>g<li>e<li> <li>\<li>L<li>a<li>T<li>e<li>X<li>}</ul><p b>や</p></div>
<div><ul><li>{<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>i<li>z<li>e<li> <li>\<li>L<li>a<li>T<li>e<li>X<li>}</ul><p h>とすると</p><p b>，</p></div>
<div><ul><li>L<li>a<li>T<li>E<li>X<li> <li>L<li>a<li>T<li>E<li>X</ul></div>
<div><p x>のようになってしまいます</p><p b>．</p><p j>この出力が</p><p b>，</p><p ca>章の見出しなどに現れた本や記事をみることがありますが</p><p b>，</p><p bc>ちょっと審美的にもまずいよう</p></div>
<div><p l>な気がします</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>3<li>)</ul></div>
<div><ul><li>1<li>0<li>4<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>2<li>0<li>.<li>2<li> </ul><p bg>改良版これを改良しようとしたのが</p><p b>，</p><ul><li>T<li>U<li>G<li> <li>(<li>T<li>E<li>X<li> <li>U<li>s<li>e<li>r<li>s<li> <li>G<li>r<li>o<li>u<li>p<li>)<li> </ul><p x>で採用されているものです</p><p b>．</p><p j>定義を次に</p><p b>，</p><p j>引用します</p><p b>．</p></div>
<div><p d>定義</p><ul><li> <li>2</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>a<li>{<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>t<li>h<li>e<li>\<li>f<li>a<li>m<li> <li>%</ul></div>
<div><ul><li>\<li>l<li>e<li>a<li>v<li>e<li>v<li>m<li>o<li>d<li>e<li> <li>L<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>4<li>2<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>%</ul></div>
<div><ul><li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>e<li>m<li> <li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>@<li>b<li>o<li>l<li>d<li> <li>a<li>\<li>e<li>l<li>s<li>e<li> <li>A<li>\<li>f<li>i<li>$<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>a<li>T<li>e<li>X<li>{<li>\<li>L<li>a<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>5<li>e<li>m<li>\<li>T<li>e<li>X<li>}</ul></div>
<div><p h>ここでは</p><p b>，</p><p p>混同をさけるため</p><p b>，</p><ul><li>T<li>U<li>G<li>b<li>o<li>a<li>t<li> </ul><p n>の定義の命令を</p><ul><li>\<li>T<li>U<li>G<li>L<li>a<li>T<li>e<li>X<li> </ul><p n>とおきかえます</p><p b>．</p><p j>この定義は</p><p b>，</p><p x>さすがと思わせるものです</p><p b>．</p><p f>数式モ</p></div>
<div><p b>ー</p><p n>ドの中に入って</p><p b>，</p><p n>添え字の大きさ</p><ul><li> <li>(<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>)<li> </ul><p f>で文字</p><ul><li> <li>A<li> </ul><p bc>を出力するようになっています</p><p b>．</p><p f>数式モ</p><p b>ー</p><p l>ドのなかでは</p><p b>，</p><ul><li>\<li>f<li>a<li>m<li> </ul><p f>の値で</p></div>
<div><p x>フォントを制御しています</p><p b>．</p><p h>そのため</p><p b>，</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><p t>で地の文のフォントの</p><ul><li>\<li> <li>f<li>a<li>m<li> </ul><p x>の値を一時保存しています</p><p b>．</p><p f>数式モ</p><p b>ー</p><p j>ドのなかで</p><p b>，</p><ul><li>\<li>f<li>a<li>m<li> </ul><p f>の値を</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p v>の保存値に設定し直して</p><p b>，</p><p b>地</p></div>
<div><p bk>の文のフォントを使うようにしています</p><p b>．</p></div>
<div><p v>この定義で大抵の場合は</p><p b>，</p><p p>うまくゆきますが</p><p b>，</p><p r>自作のマクロなどで</p><ul><li>\<li>v<li>c<li>e<li>n<li>t<li>e<li>r<li> </ul><p bw>を使っている場合にはうまくゆかないことがあります</p><p b>．</p><ul><li>2</ul></div>
<div><ul><li> </ul><p h>たとえば</p><p b>，</p><ul><li>\<li>f<li>a<li>m<li>t<li>e<li>s<li>t<li>b<li>o<li>x<li> </ul><p bi>を次のような定義で作成したとします</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>f<li>a<li>m<li>t<li>e<li>s<li>t<li>b<li>o<li>x<li>#<li>1<li>#<li>2<li>{<li>\<li>n<li>o<li>i<li>n<li>d<li>e<li>n<li>t<li>$<li>\<li>v<li>c<li>e<li>n<li>t<li>e<li>r<li>{<li>\<li>h<li>s<li>i<li>z<li>e<li>=<li>#<li>1<li>\<li>m<li>b<li>o<li>x<li>{<li>#<li>2<li>}<li>}<li>$<li>}</ul></div>
<div><p l>これを使って</p><p b>，</p></div>
<div><ul><li>\<li>f<li>a<li>m<li>t<li>e<li>s<li>t<li>b<li>o<li>x<li>{<li>2<li>c<li>m<li>}<li>{<li>\<li>T<li>U<li>G<li>L<li>a<li>T<li>e<li>X<li>}</ul></div>
<div><p l>と入力すると</p><p b>，</p><p x>出力は次のようになります</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X</ul></div>
<div><ul><li>A<li> </ul><p bu>の文字が斜体になっていることに注意してください</p><p b>．</p><p p>小さな現象なので</p><p b>，</p><p bg>大抵は見落としてしまうものですが</p><p b>，</p><p r>気にしだすと気にな</p></div>
<div><p j>るものです</p><p b>．</p><p j>この原因は</p><p b>，</p><p bg>わかってしまうとなんのことはない</p><p b>，</p><p be>上の定義に直接に起因しています</p><p b>．</p><p f>つまり</p><p b>，</p><ul><li>\<li> <li>f<li>a<li>m<li> </ul><p p>の設定値にありま</p></div>
<div><p b>す</p><p b>．</p><ul><li>\<li> <li>v<li>c<li>e<li>n<li>t<li>e<li>r<li> </ul><p h>を使うと</p><p b>，</p><ul><li>\<li>f<li>a<li>m<li> </ul><p f>の値が</p><ul><li> </ul><p b>−</p><ul><li>1<li> </ul><p v>に設定されてしまいます</p><ul><li> <li>(</ul><p f>通常は</p><ul><li> <li>0<li> </ul><p d>です</p><ul><li>)</ul><p b>．</p><p j>念のために</p><p b>，</p><p n>実際に地の文と</p><ul><li> <li>f<li>a<li>m<li>t<li>e<li>s<li>t<li>b<li>o<li>x<li> </ul><p b>の</p></div>
<div><p d>中の</p><ul><li>\<li>f<li>a<li>m<li> </ul><p r>の値を求めてみます</p><p b>．</p><ul><li>\<li>t<li>h<li>e<li>\<li>f<li>a<li>m<li> </ul><p b>と</p><ul><li>\<li>f<li>a<li>m<li>t<li>e<li>s<li>t<li>b<li>o<li>x<li>{<li>3<li>0<li>p<li>t<li>}<li>{<li>\<li>t<li>h<li>e<li>\<li>f<li>a<li>m<li>}</ul><p j>としますと</p><p b>，</p><p h>それぞれ</p><p b>，</p><ul><li>0<li> </ul><p b>と</p><ul><li> <li>-<li>1<li> </ul><p l>が得られます</p><p b>．</p></div>
<div><p v>この現象を回避するには</p><p b>，</p><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li> </ul><p f>の値が</p><ul><li> </ul><p b>−</p><ul><li>1<li> </ul><p n>になったときに</p><p b>，</p><ul><li>0<li> </ul><p bm>に設定し直してやればよいことになります</p><p b>．</p><p h>すなわち</p><p b>，</p><p f>上記の</p></div>
<div><p f>定義に</p><p b>，</p><ul><li>1<li> </ul><p r>行だけ付け加えます</p><p b>．</p></div>
<div><p d>定義</p><ul><li> <li>3</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>a<li>{<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>t<li>h<li>e<li>\<li>f<li>a<li>m<li> <li>%</ul></div>
<div><ul><li>\<li>l<li>e<li>a<li>v<li>e<li>v<li>m<li>o<li>d<li>e<li> <li>L<li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>4<li>2<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>-<li>1<li> <li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>0<li>\<li>f<li>i<li>%</ul><p d>追加</p></div>
<div><ul><li>2<li>L<li>A<li>T<li>E<li>X<li>2<li> <li>.<li>0<li>9<li> </ul><p d>では</p><p b>，</p><ul><li>m<li>i<li>n<li>i<li>p<li>a<li>g<li>e<li> </ul><p f>環境や</p><ul><li> <li>p<li>a<li>r<li>b<li>o<li>x<li> </ul><p bk>の中がこのような仕様になっていました</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><p z>このような現象がおこらない</p></div>
<div><p v>ように改良されています</p><p b>．</p></div>
<div class=_mark id=mark51><a  href='#toc51'><p b>第</p><ul><li> <li>2<li>0<li> </ul><p b>章</p><ul><li>.<li> <li>L<li>A<li>T<li>E<li>X<li> </ul><p j>のロゴ細見</p><ul><li> <li>1<li>0<li>5</ul></a></div>
<div><ul><li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>e<li>m<li> <li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>@<li>b<li>o<li>l<li>d<li> <li>a<li>\<li>e<li>l<li>s<li>e<li> <li>A<li>\<li>f<li>i<li>$<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>a<li>T<li>e<li>X<li>{<li>\<li>L<li>a<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>5<li>e<li>m<li>\<li>T<li>e<li>X<li>}</ul></div>
<div><p j>こうすると</p><p b>，</p><p bk>上と同じ入力から次の出力がえられます</p><p b>．</p><p h>みごとに</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p b>の</p><ul><li> <li>A<li> </ul><p b>が</p><p b>，</p><p be>ほかの字の書体と同じになります</p><p b>．</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X</ul></div>
<div><p h>ところが</p><p b>，</p><p bw>この改良した定義でもうまくゆかないことがあります</p><p b>．</p><p f>それは</p><p b>，</p><ul><li>\<li> <li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li> </ul><p f>として</p><p b>，</p><p be>添え字の小さな字体が用意されて</p></div>
<div><p x>いないことがあるためです</p><p b>．</p><p h>この時は</p><p b>，</p><ul><li>A<li> <li> </ul><p bw>が他の文字と同じ大きさで出力されることになります</p><p b>．</p><p h>たとえば</p><p b>，</p><ul><li>{<li>\<li>H<li>u<li>g<li>e<li>\<li>b<li>f<li> <li>\<li>L<li>a<li>T<li>e<li>X<li>}</ul><p d>と書</p></div>
<div><p d>くと</p><p b>，</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X</ul></div>
<div><p bc>のように出力されてしまいます</p><p b>．</p><p bi>我慢しようと思えば思える程度ですが</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p bs>のロゴとしての文字面が変わってしまっています</p><p b>．</p></div>
<div><ul><li>2<li>0<li>.<li>3<li> </ul><p bi>さらに改良この現象にも対処するため</p><p b>，</p><p co>原稿を書きながら不都合なところが出るたびに少しずつ直してゆきました</p><p b>．</p></div>
<div><p n>定義は長いので</p><p b>，</p><p bo>興味のある方は上掲書をみていだだくとして</p><p b>，</p><p h>ここでは</p><p b>，</p><p bg>定義の本質的な部分だけ引用します</p><p b>．</p></div>
<div><p d>定義</p><ul><li> <li>4<li> <li>(</ul><p d>一部</p><ul><li>)</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>a<li>{<li>\<li>i<li>f<li>n<li>u<li>m<li> <li>\<li>f<li>a<li>m<li>=<li>\<li>m<li>@<li>n<li>e<li> <li>\<li>f<li>a<li>m<li>=<li>\<li>z<li>@<li> <li>\<li>f<li>i<li>%</ul></div>
<div><ul><li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>f<li>a<li>m<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>a<li>a<li>a<li>{<li>\<li>f<li>o<li>n<li>t<li>n<li>a<li>m<li>e<li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>f<li>o<li>n<li>t<li>\<li>f<li>a<li>m<li>}<li>%</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>b<li>b<li>b<li>{<li>\<li>f<li>o<li>n<li>t<li>n<li>a<li>m<li>e<li>\<li>t<li>e<li>x<li>t<li>f<li>o<li>n<li>t<li>\<li>f<li>a<li>m<li>}<li>%</ul></div>
<div><ul><li>\<li>l<li>e<li>a<li>v<li>e<li>v<li>m<li>o<li>d<li>e<li>{<li>L<li>}<li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>a<li>a<li>a<li>\<li>b<li>b<li>b<li> <li>\<li>r<li>e<li>s<li>e<li>t<li>f<li>o<li>n<li>t<li>s<li>i<li>z<li>e<li>%</ul></div>
<div><ul><li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>4<li>6<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>%</ul></div>
<div><ul><li>{<li>\<li>t<li>m<li>p<li>f<li>@<li>n<li>t<li>s<li>i<li>z<li>e<li>\<li>b<li>f<li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>%</ul></div>
<div><ul><li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>4<li>e<li>m<li>\<li>t<li>m<li>p<li>k<li>e<li>r<li>n<li>{<li>A<li>}<li>$<li>}<li>}<li>%</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>%</ul></div>
<div><ul><li>\<li>r<li>a<li>i<li>s<li>e<li>.<li>4<li>2<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>$<li>\<li>f<li>a<li>m<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>%</ul></div>
<div><ul><li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>e<li>m<li>{<li>A<li>}<li>$<li>}<li>%</ul></div>
<div><ul><li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>a<li>T<li>e<li>X<li>{<li>\<li>L<li>a<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>5<li>e<li>m<li>\<li>T<li>e<li>X<li>}</ul></div>
<div><p be>このマクロの考え方を説明します</p><p b>．</p><p f>数式モ</p><p b>ー</p><p p>ドに入ったときに</p><ul><li>\<li>t<li>e<li>x<li>t<li>s<li>t<li>y<li>l<li>e<li> </ul><p b>と</p><ul><li>\<li>s<li>c<li>r<li>i<li>p<li>t<li>s<li>t<li>y<li>l<li>e<li> </ul><p x>のフォント名を検出します</p><p b>．</p><p l>このマクロで</p></div>
<div><p b>は</p><p b>，</p><p h>それぞれ</p><ul><li>\<li> <li>a<li>a<li>a<li> </ul><p b>と</p><ul><li> <li>b<li>b<li>b<li> </ul><p n>に置いています</p><p b>．</p><p v>これが等しいかどうかを</p><ul><li>\<li>i<li>f<li>x<li> </ul><p h>文で調べ</p><p b>，</p><p t>等しいときにはときに</p><p b>，</p><p t>代替のフォントを捜し</p></div>
<div><p d>ます</p><p b>．</p><p f>これが</p><ul><li>\<li>r<li>e<li>s<li>e<li>t<li>f<li>o<li>n<li>t<li>s<li>i<li>z<li>e<li> </ul><p j>の命令です</p><p b>．</p><p p>等しくないときは</p><p b>，</p><p d>定義</p><ul><li> <li>3<li> </ul><p bi>と同じ処理を行うようになっています</p><p b>．</p></div>
<div><ul><li>1<li>0<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>まくろの八衢定義</p><ul><li> <li>4<li> </ul><p bg>のような定義が最初からでてくると</p><p b>，</p><p be>食傷気味になってしまうのですが</p><p b>，</p><p l>少しずつ知識</p></div>
<div><p ce>を広げてゆくうちになんとなく書けるようになってしまうのが</p><p b>，</p><ul><li>T<li>E<li>X<li>/<li>L<li>A<li>T<li>E<li>X<li> </ul><p t>の不思議なところです</p><p b>．</p><p be>そのときどきの実力に応じて使え</p></div>
<div><p l>るというのが</p><p b>，</p><ul><li>T<li>E<li>X<li>/<li>L<li>A<li>T<li>E<li>X<li> </ul><p x>のすばらしさだと思います</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p bw>のロゴなど小さい小さいといわれればそれまでですが</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p j>のプログラ</p></div>
<div><p bo>ム言語としての側面を示すための例題として</p><p b>，</p><p z>みていただければと思います</p><p b>．</p></div>
<div><ul><li>2<li>0<li>.<li>4<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>における定義</p></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>になってから</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> </ul><p n>のロゴの定義は</p><p b>，</p><p z>次のように変更されています</p><ul><li> <li>(<li>l<li>a<li>t<li>e<li>x<li>.<li>l<li>t<li>x<li>)</ul><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>T<li>e<li>X<li>{<li>T<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>6<li>6<li>7<li>e<li>m<li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>5<li>e<li>x<li>\<li>h<li>b<li>o<li>x<li>{<li>E<li>}<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>2<li>5<li>e<li>m<li>X<li>\<li>@<li>}</ul></div>
<div><ul><li>\<li>D<li>e<li>c<li>l<li>a<li>r<li>e<li>R<li>o<li>b<li>u<li>s<li>t<li>C<li>o<li>m<li>m<li>a<li>n<li>d<li>{<li>\<li>L<li>a<li>T<li>e<li>X<li>}<li>{<li>L<li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>3<li>6<li>e<li>m<li>%</ul></div>
<div><ul><li>{<li>\<li>s<li>b<li>o<li>x<li>\<li>z<li>@<li> <li>T<li>%</ul></div>
<div><ul><li>\<li>v<li>b<li>o<li>x<li> <li>t<li>o<li>\<li>h<li>t<li>\<li>z<li>@<li>{<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>c<li>h<li>e<li>c<li>k<li>@<li>m<li>a<li>t<li>h<li>f<li>o<li>n<li>t<li>s</ul></div>
<div><ul><li>\<li>f<li>o<li>n<li>t<li>s<li>i<li>z<li>e<li>\<li>s<li>f<li>@<li>s<li>i<li>z<li>e<li>\<li>z<li>@</ul></div>
<div><ul><li>\<li>m<li>a<li>t<li>h<li>@<li>f<li>o<li>n<li>t<li>s<li>f<li>a<li>l<li>s<li>e<li>\<li>s<li>e<li>l<li>e<li>c<li>t<li>f<li>o<li>n<li>t</ul></div>
<div><ul><li>A<li>}<li>%</ul></div>
<div><ul><li>\<li>v<li>s<li>s<li>}<li>%</ul></div>
<div><ul><li>}<li>%</ul></div>
<div><ul><li>\<li>k<li>e<li>r<li>n<li>-<li>.<li>1<li>5<li>e<li>m<li>%</ul></div>
<div><ul><li>\<li>T<li>e<li>X<li>}</ul></div>
<div><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p d>では</p><p b>，</p><ul><li>N<li>F<li>S<li>S<li> </ul><p bs>という新しい方式でフォントを指定しているため</p><p b>，</p><p f>小さな</p><ul><li> <li>A<li> </ul><p bs>を選択するところが見通しのよいものになります</p></div>
<div><p b>．</p><p bc>上記の定義を簡単に説明します</p><p b>．</p><p d>まず</p><p b>，</p><ul><li>\<li> <li>c<li>h<li>e<li>c<li>k<li>@<li>m<li>a<li>t<li>h<li>f<li>o<li>n<li>t<li>s<li> </ul><p bc>命令で現在のフォントを調べて</p><p b>，</p><p bi>縮小が必要ならフォントの大きさを計</p></div>
<div><p d>算し</p><p b>，</p><ul><li>\<li>s<li>f<li>@<li>s<li>i<li>z<li>e<li> </ul><p l>に設定します</p><p b>．</p><ul><li>\<li>f<li>o<li>n<li>t<li>s<li>i<li>z<li>e<li>\<li>s<li>f<li>@<li>s<li>i<li>z<li>e<li>\<li>z<li>@</ul></div>
<div><p l>という命令は</p><ul><li>,<li> <li>\<li> <li>s<li>f<li>@<li>s<li>i<li>z<li>e<li> <li>p<li>t<li> </ul><p p>の大きさの文字で</p><p b>，</p><ul><li>\<li>z<li>@<li> <li>(<li>0<li>p<li>t<li>)<li> </ul><p z>の行送りを設定するものです</p><p b>．</p><p bi>このフォントの命令を有効にするため</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>s<li>e<li>l<li>e<li>c<li>t<li>f<li>o<li>n<li>t<li> </ul><p t>命令を宣言しています</p><p b>．</p><ul><li>\<li>m<li>a<li>t<li>h<li>@<li>f<li>o<li>n<li>t<li>s<li>f<li>a<li>l<li>s<li>e<li> </ul><p be>のはたらきはしらべてみましたが</p><p b>，</p><p p>よくわかりません</p><p b>．</p><p d>多分</p><p b>，</p><p n>余計な数式フォ</p></div>
<div><p cg>ントを設定しないようにするスイッチであろうと推測しています</p><p b>．</p></div>
<div><p n>この定義により</p><p b>，</p><p x>この章でのべたことがらは</p><p b>，</p><p bm>実用的にはまったく必要がなくなりました</p><p b>．</p><p l>しかしながら</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p j>になっても</p><p b>，</p><p b>こ</p></div>
<div><p x>の本章で述べた解析手法は</p><p b>，</p><p bq>諸兄の参考になるのではないかと考えています</p><p b>．</p></div>
<div><ul><li>1<li>0<li>7</ul></div>
<div><p b>第</p><ul><li>2<li>1</ul><p b>章</p><ul><li> </ul><p t>文字列の長さ文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p t>文字列の長さを測って</p><p b>，</p><p j>短いときは</p><p b>，</p><p cc>適当な長さで均等割にするというマクロを作ってみましょう</p><p b>．</p><p be>表題などの出力に役に立つとおも</p></div>
<div><p f>います</p><p b>．</p><p bc>必要な要素技術を説明してから</p><p b>，</p><p bk>このマクロの作成に取りかかりましょう</p><p b>．</p><p d>また</p><p b>，</p><p r>内部マクロを用いて</p><p b>，</p><p r>長いマクロを分割し</p></div>
<div><p bm>て処理を追跡しやすくする方法も述べます</p><p b>．</p></div>
<div><ul><li>2<li>1<li>.<li>1<li> </ul><p r>文字列の長さの測定</p></div>
<div><ul><li>2<li>1<li>.<li>1<li>.<li>1<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>流測量術日本語</p><ul><li> <li>T<li>E<li>X<li> </ul><p d>では</p><p b>，</p><p t>漢字の幅の単位として</p><p b>，</p><ul><li>z<li>w<li> </ul><p p>が使われています</p><p b>．</p><p f>これは</p><p b>，</p><p bc>現在使っている書体に依存する</p></div>
<div><p h>単位です</p><p b>．</p><p bc>これを実際に測ってみましょう</p><p b>．</p><ul><li>\<li>n<li>e<li>w<li>l<li>e<li>n<li>g<li>t<li>h<li> </ul><p l>命令によって</p><p b>，</p><p p>新しい寸法として</p><p b>，</p><ul><li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n</ul></div>
<div><p j>を作ります</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p><ul><li>\<li>n<li>e<li>w<li>l<li>e<li>n<li>g<li>t<li>h<li> </ul><p f>命令は</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p b>の</p><ul><li>\<li>n<li>e<li>w<li>s<li>k<li>i<li>p<li> </ul><p z>命令をもとにしていますので</p><p b>，</p><p r>ここで作成した寸法</p><ul><li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li> </ul><p b>は</p><p b>，</p><p b>ス</p></div>
<div><p n>キップレジスタ</p><p b>ー</p><ul><li> <li>(</ul><p l>寸法と伸縮値</p><ul><li>)<li> <li> </ul><p t>として取り扱われます</p><p b>．</p><p j>したがって</p><p b>，</p><p h>厳密には</p><ul><li> <li>T<li>E<li>X<li> </ul><p b>の</p><ul><li>\<li>n<li>e<li>w<li>d<li>i<li>m<li>e<li>n<li> </ul><p bc>命令によって作られる寸法レジ</p></div>
<div><p d>スタ</p><p b>ー</p><ul><li> <li>(</ul><p d>寸法</p><ul><li>)<li> </ul><p r>とは扱いが違います</p><p b>．</p><p j>簡単のため</p><p b>，</p><p bk>ここでは同じようなものとしておきます</p><p b>．</p><p x>区別する必要のあるときは</p><p b>，</p><p j>そのときに</p></div>
<div><p t>断ることにしましょう</p><p b>．</p><p n>寸法を測るのは</p><p b>，</p><ul><li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li> </ul><p n>命令を使います</p><p b>．</p></div>
<div><ul><li>\<li>n<li>e<li>w<li>l<li>e<li>n<li>g<li>t<li>h<li>{<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}<li>{<li>r<li>r<li>|<li>r<li>r<li>|<li>r<li>r<li>}</ul></div>
<div><ul><li>1<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li>}<li>{</ul><p b>字</p><ul><li>}<li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li> <li>&</ul></div>
<div><ul><li>2<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li>}<li>{</ul><p d>字字</p><ul><li>}<li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li> <li>&</ul></div>
<div><ul><li>3<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li>}<li>{</ul><p f>字字字</p><ul><li>}<li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li> <li>\<li>\</ul></div>
<div><ul><li>4<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li>}<li>{</ul><p h>字字字字</p><ul><li>}<li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li> <li>&</ul></div>
<div><ul><li>5<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li>}<li>{</ul><p j>字字字字字</p><ul><li>}<li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li> <li>&</ul></div>
<div><ul><li>6<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li>}<li>{</ul><p l>字字字字字字</p><ul><li>}<li> <li>\<li>t<li>h<li>e<li>\<li>T<li>e<li>s<li>t<li>D<li>i<li>m<li>e<li>n<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><p h>この結果</p><p b>，</p><p r>次の表がえられます</p><p b>．</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>4<li>)</ul></div>
<div><ul><li>1<li>0<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>1<li> </ul><p d>文字</p><ul><li>:<li> <li>9<li>.<li>6<li>2<li>2<li>1<li>6<li>p<li>t<li> <li>2<li> </ul><p d>文字</p><ul><li>:<li> <li>1<li>9<li>.<li>2<li>4<li>4<li>3<li>2<li>p<li>t<li> <li>3<li> </ul><p d>文字</p><ul><li>:<li> <li>2<li>8<li>.<li>8<li>6<li>6<li>4<li>9<li>p<li>t</ul></div>
<div><ul><li>4<li> </ul><p d>文字</p><ul><li>:<li> <li>3<li>8<li>.<li>4<li>8<li>8<li>6<li>5<li>p<li>t<li> <li>5<li> </ul><p d>文字</p><ul><li>:<li> <li>4<li>8<li>.<li>1<li>1<li>0<li>8<li>1<li>p<li>t<li> <li>6<li> </ul><p d>文字</p><ul><li>:<li> <li>5<li>7<li>.<li>7<li>3<li>2<li>9<li>7<li>p<li>t</ul></div>
<div><ul><li>2<li>1<li> <li>.<li>1<li>.<li>2<li> <li>T<li>E<li>X<li> </ul><p x>流測量術もう一つの方法は</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p j>流の方法で</p><p b>，</p><ul><li>\<li>s<li>e<li>t<li>b<li>o<li>x<li> </ul><p n>命令を使います</p><p b>．</p><p j>この命令は</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p p>の基本的な命令で</p><p b>，</p><p h>いろいろ</p></div>
<div><p p>な局面で使えます</p><p b>．</p><p h>本章では</p><p b>，</p><p bs>単に文字列の長さを測る機能に絞って説明します</p><p b>．</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>b<li>o<li>x<li>0<li>=<li>\<li>h<li>b<li>o<li>x<li>{</ul><p l>文字列の長さ</p><ul><li>}</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>\<li>w<li>d<li>0<li> <li>(</ul><p b>幅</p><ul><li>)</ul><p b>，</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>h<li>t<li>0<li> <li>(</ul><p d>高さ</p><ul><li>)</ul><p b>，</p><ul><li> <li>\<li>t<li>h<li>e<li>\<li>d<li>p<li>0<li> <li>(</ul><p d>深さ</p><ul><li>)</ul><p b>，</p></div>
<div><ul><li>\<li>d<li>i<li>m<li>e<li>n<li>0<li>=<li>\<li>h<li>t<li>0</ul></div>
<div><ul><li>\<li>t<li>h<li>e<li>\<li>d<li>i<li>m<li>e<li>n<li>0<li> <li>(</ul><p d>高さ</p><p b>，</p><p h>レジスタ</p><p b>ー</p><p d>保存</p><ul><li>)</ul></div>
<div><p p>と書いてください</p><p b>．</p><ul><li>\<li>t<li>h<li>e<li> </ul><p f>命令は</p><p b>，</p><p bs>この場合箱の寸法を出力するために用いています</p><p b>．</p><p t>次の出力が得られます</p><p b>．</p></div>
<div><ul><li>5<li>7<li>.<li>7<li>3<li>2<li>9<li>7<li>p<li>t<li>(</ul><p b>幅</p><ul><li>)</ul><p b>，</p><ul><li> <li>7<li>.<li>7<li>7<li>5<li>8<li>8<li>p<li>t<li>(</ul><p d>高さ</p><ul><li>)</ul><p b>，</p><ul><li> <li>1<li>.<li>3<li>8<li>8<li>5<li>5<li>p<li>t<li>(</ul><p d>深さ</p><ul><li>)</ul><p b>，</p><ul><li>7<li>.<li>7<li>7<li>5<li>8<li>8<li>p<li>t<li>(</ul><p d>高さ</p><p b>，</p><p h>レジスタ</p><p b>ー</p><p d>保存</p><ul><li>)</ul></div>
<div><p h>ここでは</p><p b>，</p><p b>「</p><p l>文字列の長さ</p><p b>」</p><p j>を入れた箱</p><ul><li>\<li>b<li>o<li>x<li>0<li> </ul><p h>が作られ</p><p b>，</p><p j>その寸法が</p><ul><li>\<li>w<li>d<li>0<li> <li>(</ul><p b>幅</p><ul><li>)</ul><p b>，</p><ul><li>\<li>h<li>t<li>0<li> <li>(</ul><p d>高さ</p><ul><li>)</ul><p b>，</p><ul><li>\<li>d<li>p<li>0<li> <li>(</ul><p d>深さ</p><ul><li>)</ul></div>
<div><p n>に格納されます</p><p b>．</p><p d>また</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p d>でユ</p><p b>ー</p><p b>ザ</p><p b>ー</p><p r>用に用意されている</p><ul><li>\<li>d<li>i<li>m<li>e<li>n<li>0<li> </ul><p z>という寸法格納用のレジスタ</p><p b>ー</p><p j>を使用して</p><p b>，</p><p r>保存することもでき</p></div>
<div><p d>ます</p><p b>．</p></div>
<div><ul><li>2<li>1<li> <li>.<li>2<li> </ul><p bc>文字の間隔と均等割表題などで</p><p b>，</p><p t>文字数が少ないときに</p><p b>，</p><p l>間隔をあけて</p><p b>，</p><p bw>他の長い表題とバランスを取りたいということがよく</p></div>
<div><p h>あります</p><p b>．</p><p bc>いわゆる均等割という手法です</p><p b>．</p></div>
<div><p be>手動でおこなうことが最も簡単で</p><p b>，</p><p t>全角の空白を用います</p><p b>．</p><p h>たとえば</p><p b>，</p><ul><li>2<li> </ul><p h>文字だと</p><p b>「</p><p b>表</p><p b>　</p><p b>　</p><p b>題</p><p b>」</p><p h>のように</p></div>
<div><ul><li>2<li> <li> </ul><p n>文字分の空白を</p><p b>，</p><ul><li>3<li> </ul><p h>文字だと</p><p b>，</p><p b>「</p><p b>章</p><p b>　</p><p b>表</p><p b>　</p><p b>題</p><p b>」</p><p b>と</p><ul><li> <li>1<li> </ul><p bc>文字分の空白を入れる方法です</p><p b>．</p><ul><li>T<li>E<li>X<li> </ul><p d>では</p><p b>，</p><p l>全角の空白を</p><p b>，</p><p p>普通の文字のよう</p></div>
<div><p p>にみなしています</p><p b>．</p></div>
<div><p p>もう一つの方法は</p><p b>，</p><ul><li>\<li>h<li>b<li>o<li>x<li> </ul><p v>の機能を用いる方法です</p><p b>．</p><p l>一定の長さの</p><ul><li>\<li>h<li>b<li>o<li>x<li> </ul><p l>を作っておき</p><p b>，</p><p l>各文字の間に</p></div>
<div><ul><li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p p>を入れる方法です</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><p b>「</p><ul><li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>4<li>z<li>w<li>{</ul><p b>表</p><ul><li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>題</p><ul><li>}</ul><p b>」</p><p f>および</p></div>
<div><p b>「</p><ul><li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>5<li>z<li>w<li>{</ul><p b>章</p><ul><li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>表</p><ul><li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p b>題</p><ul><li>}</ul><p b>」</p></div>
<div><p h>と書くと</p><p b>，</p><p b>「</p><p b>表</p><ul><li> </ul><p b>題</p><p b>」</p><p f>および</p><p b>「</p><p b>章</p><ul><li> </ul><p b>表</p><ul><li> </ul><p b>題</p><p b>」</p><p t>のように出力されます</p><p b>．</p></div>
<div><p n>これらの方法は</p><p b>，</p><p t>手動のときは有力です</p><p b>．</p><p f>しかし</p><p b>，</p><p bw>章表題や節表題の場合には目次や索引に使いますから</p><p b>，</p><p x>処理の過程で文字列の照合</p></div>
<div><p t>が重要になってきます</p><p b>．</p><p h>このとき</p><p b>，</p><p be>余分な全角空白や制御綴があると</p><p b>，</p><p bg>正確な照合を妨げる原因になります</p><p b>．</p><p j>したがって</p><p b>，</p><p j>文字列とし</p></div>
<div><p d>ては</p><p b>，</p><p b>「</p><p d>表題</p><p b>」</p><p b>，</p><p b>「</p><p f>章表題</p><p b>」</p><p r>のように取り扱って</p><p b>，</p><p n>出力のときのみ</p><p b>，</p><p b>「</p><p b>表</p><p b>　</p><p b>　</p><p b>題</p><p b>」</p><p b>，</p><p b>「</p><p b>章</p><p b>　</p><p b>表</p><p b>　</p><p b>題</p><p b>」</p><p be>とするような自動的な方法が好ま</p></div>
<div><p l>しいわけです</p><p b>．</p></div>
<div><p by>このような自動的な均等割を行ううまい方法があります</p><p b>．</p><p f>アスキ</p><p b>ー</p><p h>版日本語</p><ul><li> <li>T<li>E<li>X<li> <li> </ul><p d>では</p><p b>，</p><p bc>漢字と漢字の間を規定するグル</p><p b>ー</p><ul><li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p</ul></div>
<div><p b>と</p><p b>，</p><p bc>漢字と英語の間を規定するグル</p><p b>ー</p><ul><li>\<li> <li>x<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li> </ul><p bg>を使って行整形などを行っています</p><p b>．</p><p d>グル</p><p b>ー</p><ul><li> <li>(<li>g<li>l<li>u<li>e<li>)<li> </ul><p d>とは</p><ul><li> <li>T<li>E<li>X<li> </ul><p h>の用語で</p><p b>，</p><p d>文字</p><ul><li> <li>(</ul></div>
<div><p b>箱</p><ul><li>)<li> </ul><p bm>の間に出力する伸縮可能な空白のことです</p><p b>．</p><p h>このグル</p><p b>ー</p><p be>は明示的に与えることもできます</p><p b>．</p><p h>たとえば</p><p b>，</p></div>
<div><ul><li>{<li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li>=<li>1<li>0<li>p<li>t<li> <li>p<li>l<li>u<li>s<li> <li>1<li>5<li>p<li>t<li> <li>m<li>i<li>n<li>u<li>s<li> <li>1<li>5<li>p<li>t</ul></div>
<div class=_mark id=mark52><a  href='#toc52'><p b>第</p><ul><li> <li>2<li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p l>文字列の長さ</p><ul><li> <li>1<li>0<li>9</ul></a></div>
<div><p b>「</p><ul><li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>4<li>z<li>w<li>{</ul><p d>表題</p><ul><li>}</ul><p b>」</p><p f>および</p></div>
<div><p b>「</p><ul><li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>5<li>z<li>w<li>{</ul><p f>章表題</p><ul><li>}</ul><p b>」</p><ul><li>}</ul></div>
<div><p r>のように宣言すると</p><p b>，</p><p b>「</p><p b>表</p><ul><li> </ul><p b>題</p><p b>」</p><p f>および</p><p b>「</p><p b>章</p><ul><li> </ul><p b>表</p><ul><li> </ul><p b>題</p><p b>」</p><p t>のように出力されます</p><p b>．</p><p d>グル</p><p b>ー</p><p b>は</p><p b>，</p><p x>基本の空白値と伸びる範囲</p><ul><li> <li>(<li>p<li>l<li>u<li>s<li> <li>)<li> </ul><p h>縮む範囲</p></div>
<div><ul><li> <li>(<li>m<li>i<li>n<li>u<li>s<li>)<li> </ul><p r>を規定しておきます</p><p b>．</p><p h>ここでは</p><p b>，</p><p l>安全のために</p><p b>，</p><p cc>中括弧でくくって効果が他に及ばないようにしておきました</p><p b>．</p></div>
<div><ul><li>T<li>E<li>X<li> </ul><p d>では</p><p b>，</p><p cs>限りなく伸縮するという機能を実現するためのうまい方法が用意されています</p><p b>．</p><p l>これを用いて</p><p b>，</p><p d>グル</p><p b>ー</p><p r>を規定してみましょ</p></div>
<div><p b>う</p><p b>．</p><ul><li>\<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p t>という命令を作ります</p><p b>．</p><p h>ここでは</p><p b>，</p><ul><li>\<li>h<li>b<li>o<li>x<li> </ul><p j>の中でグル</p><p b>ー</p><p bo>の設定を行っていることに注意してください</p><p b>．</p><p j>したがって</p><p b>，</p><p d>効果</p></div>
<div><p z>が外に及ぶことはありません</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>#<li>2<li>{<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>#<li>1<li>{<li>%</ul></div>
<div><ul><li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li>=<li>0<li>p<li>t<li> <li>p<li>l<li>u<li>s<li> <li>1<li>f<li>i<li>l<li>l<li> <li>m<li>i<li>n<li>u<li>s<li> <li>1<li>f<li>i<li>l<li>l</ul></div>
<div><ul><li>\<li>x<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li>=<li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li> <li>#<li>2<li>}<li>}</ul></div>
<div><p p>と定義したあとで</p><p b>，</p><p b>「</p><ul><li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>5<li>z<li>w<li>}<li>{</ul><p f>均等割</p><ul><li>}</ul><p b>」</p><p n>と入力しますと</p><p b>，</p><p b>「</p><p b>均</p><ul><li> </ul><p b>等</p><ul><li> </ul><p b>割</p><p b>」</p><p n>と出力されます</p><p b>．</p></div>
<div><ul><li>2<li>1<li> <li>.<li>3<li> </ul><p bk>自動均等割文字の長さを測定する方法と</p><p b>，</p><p l>上で作成した</p><ul><li>\<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p t>命令とを組み合わせて</p><p b>，</p><p be>自動均等割を実現してみましょう</p><p b>．</p><p b>文</p></div>
<div><p be>字列の長さで処理を分岐するため</p><p b>，</p><ul><li>\<li> <li>i<li>f<li>d<li>i<li>m<li> <li>·<li>·<li>·<li> <li>\<li>f<li>i<li> </ul><p v>という条件文を使います</p><p b>．</p><p bc>要所に注釈を入れておきました</p><p b>．</p><p j>安全のため</p><p b>，</p><p f>ちょう</p></div>
<div><p ce>どの文字幅よりも少し大きいところで判断するようにしました</p><p b>．</p><p bq>場合分けを丁寧にしてゆけばよいわけですから</p><p b>，</p><p p>次の命令の定義は</p><p b>，</p></div>
<div><p bc>簡単に理解できるとおもいます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>{<li>%</ul><p j>自動均等割</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>%</ul><p r>文字列の長さを測る</p></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li><<li>1<li>.<li>2<li>z<li>w<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>1<li>}<li>%<li>1<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li><<li>2<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>4<li>z<li>w<li>}<li>{<li>#<li>1<li>}<li>%<li>2<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li><<li>3<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>5<li>z<li>w<li>}<li>{<li>#<li>1<li>}<li>%<li>3<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li><<li>4<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>1<li>}<li>%<li>4<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li><<li>5<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>1<li>}<li>%<li>5<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>1<li>}<li>%<li>6<li> </ul><p h>文字以上</p></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p bc>一時的に長さを保存するために</p><p b>，</p><p d>寸法</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li> </ul><p l>を用いました</p><p b>．</p><p f>これは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bo>ですでにこの目的で宣言済みのものですので</p><p b>，</p><p b>改</p></div>
<div><p bc>めて宣言する必要はありません</p><p b>．</p></div>
<div><p bi>実際にこの命令をためしてみましょう</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}<li>{<li>r<li>l<li>|<li>r<li>l<li>|<li>r<li>l<li>}</ul></div>
<div><ul><li>1<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p b>文</p><ul><li>}<li>&<li>2<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p d>文字</p><ul><li>}<li> <li>&</ul></div>
<div><ul><li>3<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p f>文字列</p><ul><li>}<li> <li>\<li>\</ul></div>
<div><ul><li>4<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p h>文字出力</p><ul><li>}<li>&<li>5<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p j>自動均等割</p><ul><li>}<li> <li>&</ul></div>
<div><ul><li>6<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p l>文字列均等割</p><ul><li>}<li> <li>\<li>\</ul></div>
<div><ul><li>1<li>1<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><p n>と入力しますと</p><p b>，</p><p t>次の出力がえられます</p><p b>．</p></div>
<div><ul><li>1<li> </ul><p d>文字</p><ul><li>:<li> </ul><p b>文</p><ul><li> <li>2<li> </ul><p d>文字</p><ul><li>:<li> </ul><p b>文</p><ul><li> </ul><p b>字</p><ul><li> <li>3<li> </ul><p d>文字</p><ul><li>:<li> </ul><p f>文字列</p></div>
<div><ul><li>4<li> </ul><p d>文字</p><ul><li>:<li> </ul><p h>文字出力</p><ul><li> <li>5<li> </ul><p d>文字</p><ul><li>:<li> </ul><p j>自動均等割</p><ul><li> <li>6<li> </ul><p d>文字</p><ul><li>:<li> </ul><p bm>文字列均等割上記の定義からわかるように</p><p b>，</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p d>の第</p><ul><li> <li>1<li> </ul><p h>引数には</p><p b>，</p><p f>書体の</p></div>
<div><p bc>指定を入れることができますが</p><p b>，</p></div>
<div><p bc>この使い方は想定していません</p><p b>．</p><p p>仮に用いる場合は</p><p b>，</p><p bc>充分に注意して用いてください</p><p b>．</p><p z>次の三つの出力を比較すると</p><p b>，</p><p n>その理由がわか</p></div>
<div><p f>ります</p><p b>．</p></div>
<div><p b>「</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p f>文字列</p><ul><li>}</ul><p b>」</p><ul><li> </ul><p b>「</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>\<li>L<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li> </ul><p f>文字列</p><ul><li>}</ul><p b>」</p></div>
<div><p b>「</p><ul><li>{<li>\<li>L<li>a<li>r<li>g<li>e<li>\<li>b<li>f<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p f>文字列</p><ul><li>}<li>}</ul><p b>」</p></div>
<div><p n>と入力しますと</p><p b>，</p><p h>それぞれ</p><p b>，</p><p b>「</p><p b>文</p><ul><li> </ul><p b>字</p><ul><li> </ul><p b>列</p><p b>」</p><ul><li> </ul><p b>「</p><p f>文字列</p><p b>」</p><p b>「</p><p f>文字列</p><p b>」</p><p j>となります</p><p b>．</p></div>
<div><ul><li>2<li>1<li> <li>.<li>4<li> </ul><p be>内部マクロの作成と利用本解説は</p><p b>，</p><p bi>マクロの作成を主眼にしていますから</p><p b>，</p><p f>ここで</p><p b>，</p><p bk>内部マクロを作る練習をしてみましょう</p><p b>．</p></div>
<div><p b>上</p><ul><li> </ul><p h>にあげた</p><ul><li>\<li> <li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p f>の定義</p><ul><li> </ul><p f>の中で</p><p b>，</p><p b>条</p><ul><li> </ul><p j>件文のとこ</p><ul><li> </ul><p d>ろは</p><p b>，</p><p d>ほか</p><ul><li> </ul><p j>にも使える</p><ul><li> </ul><p j>可能性があ</p><ul><li> </ul><p j>りますので</p><ul><li> </ul></p><p b>，</p><p p>ここを取り出して</p><p b>，</p><ul><li>\<li>@</ul></div>
<div><ul><li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p v>という命令にしてみます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>{<li>%</ul><p j>自動均等割</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>%</ul><p r>文字列の長さを測る</p></div>
<div><ul><li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>#<li>2<li>{<li>%</ul><p t>条件判断の内部マクロ</p></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>1<li>.<li>2<li>z<li>w<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>2<li>}<li>%<li>1<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>2<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>4<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>2<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>3<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>5<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>3<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>4<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>4<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>5<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>5<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>2<li>}<li>%<li>6<li> </ul><p h>文字以上</p></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p j>再定義した</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p l>命令を用いて</p><p b>，</p><p t>上の表と同じ入力から</p><p b>，</p><p t>次の結果がえられます</p><p b>．</p><p p>当然のことながら</p><p b>，</p><p r>出力結果は同じです</p><p b>．</p></div>
<div><ul><li>1<li> </ul><p d>文字</p><ul><li>:<li> </ul><p b>文</p><ul><li> <li>2<li> </ul><p d>文字</p><ul><li>:<li> </ul><p b>文</p><ul><li> </ul><p b>字</p><ul><li> <li>3<li> </ul><p d>文字</p><ul><li>:<li> </ul><p f>文字列</p></div>
<div><ul><li>4<li> </ul><p d>文字</p><ul><li>:<li> </ul><p h>文字出力</p><ul><li> <li>5<li> </ul><p d>文字</p><ul><li>:<li> </ul><p j>自動均等割</p><ul><li> <li>6<li> </ul><p d>文字</p><ul><li>:<li> </ul><p v>文字列均等割このような</p><p b>，</p><p l>内部マクロは</p><p b>，</p><p bc>同じ処理がほかで必要な場合に</p><p b>，</p><p h>流用する</p></div>
<div><p r>ことができますので</p><p b>，</p><p z>定義の簡略化に役に立ちます</p><p b>．</p><p l>うまく使えば</p><p b>，</p><p cg>処理のアルゴリズムをたどりやすくするのにも役に立つでしょう</p></div>
<div><p b>．</p><p t>このような練習として</p><p b>，</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p b>を</p><p b>，</p><ul><li>T<li>E<li>X<li> </ul><p p>流に書いてみます</p><p b>．</p><ul><li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p bc>という名前にしておきましょう</p><p b>．</p><p l>条件の判断は</p><p b>，</p></div>
<div><ul><li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p b>と</p><p b>，</p><p bg>まったく同じ手順を踏めばよいので</p><p b>，</p><p t>これを流用しましょう</p><p b>．</p></div>
<div><p bq>文字列の長さを測るところが違うだけですので</p><p b>，</p><p p>比較してください</p><p b>．</p></div>
<div class=_mark id=mark53><a  href='#toc53'><p b>第</p><ul><li> <li>2<li>1<li> </ul><p b>章</p><ul><li>.<li> </ul><p l>文字列の長さ</p><ul><li> <li>1<li>1<li>1</ul></a></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>{<li>%</ul><p j>自動均等割</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>b<li>o<li>x<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a<li>=<li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>1<li>}<li>%</ul><p r>文字列の長さを測る</p></div>
<div><ul><li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>\<li>w<li>d<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a<li>}<li>{<li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p z>注意することを少し述べます</p><p b>．</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a<li> </ul><p j>というのは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p x>で宣言済みの箱の番号です</p><p b>．</p><p x>一時的な箱として使えます</p><p b>．</p><p f>上記で</p><p b>，</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>b<li>o<li>x<li>0<li> </ul><p j>とした番号</p><ul><li> <li>0<li> </ul><p p>に相当しています</p><p b>．</p><p j>したがって</p><p b>，</p><ul><li>\<li>w<li>d<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a<li> </ul><p b>は</p><p b>，</p><p f>上記の</p><ul><li>\<li>w<li>d<li>0<li> </ul><p h>と同様に</p><p b>，</p><p z>生じた箱の幅を表しています</p><p b>．</p></div>
<div><p bi>実際にこの命令をためしてみましょう</p><p b>．</p><p bk>テストの出力形式は同じものを使います</p><p b>．</p><p h>すなわち</p><p b>，</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}<li>{<li>r<li>l<li>|<li>r<li>l<li>|<li>r<li>l<li>}</ul></div>
<div><ul><li>1<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p b>文</p><ul><li>}<li>&<li>2<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p d>文字</p><ul><li>}<li> <li>&</ul></div>
<div><ul><li>3<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p f>文字列</p><ul><li>}<li> <li>\<li>\</ul></div>
<div><ul><li>4<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p h>文字出力</p><ul><li>}<li>&<li>5<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p j>自動均等割</p><ul><li>}<li> <li>&</ul></div>
<div><ul><li>6<li> </ul><p d>文字</p><ul><li>:<li> <li>&<li> <li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p l>文字列均等割</p><ul><li>}<li> <li>\<li>\</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>t<li>a<li>b<li>u<li>l<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>c<li>e<li>n<li>t<li>e<li>r<li>}</ul></div>
<div><p n>と入力しますと</p><p b>，</p><p t>次の出力がえられます</p><p b>．</p></div>
<div><ul><li>1<li> </ul><p d>文字</p><ul><li>:<li> </ul><p b>文</p><ul><li> <li>2<li> </ul><p d>文字</p><ul><li>:<li> </ul><p b>文</p><ul><li> </ul><p b>字</p><ul><li> <li>3<li> </ul><p d>文字</p><ul><li>:<li> </ul><p f>文字列</p></div>
<div><ul><li>4<li> </ul><p d>文字</p><ul><li>:<li> </ul><p h>文字出力</p><ul><li> <li>5<li> </ul><p d>文字</p><ul><li>:<li> </ul><p j>自動均等割</p><ul><li> <li>6<li> </ul><p d>文字</p><ul><li>:<li> </ul><p l>文字列均等割</p></div>
<div></div>
<div><ul><li>1<li>1<li>3</ul></div>
<div><p b>第</p><ul><li>2<li>2</ul><p b>章</p><ul><li> </ul><p z>見出しの自動均等割文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p d>拙著</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>1<li>4<li> </ul><p f>章には</p><p b>，</p><p r>箇条書の環境として</p><p b>，</p><ul><li>(<li>j<li>)<li>t<li>a<li>x<li>o<li>n<li>o<li>m<li>y<li> </ul><p b>や</p><ul><li> <li>(<li>j<li>)<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p h>を作成し</p><p b>，</p><p bc>その使用法が述べられています</p><p b>．</p><p l>これらの環境</p></div>
<div><p b>は</p><p b>，</p><p n>付録のフロッピ</p><p b>ー</p><p r>ディスクに含まれる</p><ul><li> <li>m<li>a<li>t<li>h<li>c<li>h<li>e<li>m<li>.<li>s<li>t<li>y<li> </ul><p ca>をオプションとして宣言すれば使えるようになっています</p><p b>．</p><p h>ここでは</p><p b>，</p><p d>これ</p></div>
<div><p p>をさらに改良して</p><p b>，</p><p by>前章で述べた自動均等割を見出しに応用してみましょう</p><p b>．</p></div>
<div><ul><li>2<li>2<li>.<li>1<li> </ul><p r>箇条書環境への応用</p></div>
<div><ul><li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p f>環境と</p><ul><li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p x>環境をオプションスタイル</p><ul><li> <li>j<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>.<li>s<li>t<li>y<li> </ul><p r>に仕立ててあります</p><p b>．</p><p bg>これを最初に引用しておきましょう</p></div>
<div><p b>．</p></div>
<div><ul><li>%<li> <li>j<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>.<li>s<li>t<li>y</ul></div>
<div><ul><li>%<li> <li>C<li>o<li>p<li>y<li>r<li>i<li>g<li>h<li>t<li> <li>(<li>C<li>)<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> </ul><p bq>リスト環境のラベルを均等割に出力するマクロ</p></div>
<div><ul><li>%<li> <li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>}<li>[<li>L<li>A<li>B<li>E<li>L<li>]<li> <li>.<li>.<li>.<li> <li>\<li>e<li>n<li>d<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>}</ul></div>
<div><ul><li>%<li> <li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li>}<li> <li>.<li>.<li>.<li> <li>\<li>e<li>n<li>d<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>t<li>y<li>p<li>e<li>o<li>u<li>t<li>{<li>O<li>p<li>t<li>i<li>o<li>n<li> <li>S<li>t<li>y<li>l<li>e<li> </ul><p b>‘</p><ul><li>j<li>d<li>e<li>s<li>c<li>r<li>i<li>b</ul><p b>’</p><ul><li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>#<li>2<li>{<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>#<li>1<li>{<li>%</ul></div>
<div><ul><li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li>=<li>0<li>p<li>t<li> <li>p<li>l<li>u<li>s<li> <li>1<li>f<li>i<li>l<li>l<li> <li>m<li>i<li>n<li>u<li>s<li> <li>1<li>f<li>i<li>l<li>l</ul></div>
<div><ul><li>\<li>x<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li>=<li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li> <li>#<li>2<li>}<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>1</ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>4<li> </ul><p d>続き</p><ul><li>)</ul></div>
<div><ul><li>1<li>1<li>4<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>{<li>%</ul><p j>自動均等割</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>%</ul><p r>文字列の長さを測る</p></div>
<div><ul><li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>#<li>2<li>{<li>%</ul><p t>条件判断の内部マクロ</p></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>1<li>.<li>2<li>z<li>w<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>2<li>}<li>%<li>1<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>2<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>4<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>2<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>3<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>5<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>3<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>4<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>4<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>5<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>5<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>2<li>}<li>%<li>6<li> </ul><p h>文字以上</p></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>{<li>%</ul><p j>自動均等割</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>b<li>o<li>x<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a<li>=<li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>1<li>}<li>%</ul><p r>文字列の長さを測る</p></div>
<div><ul><li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>\<li>w<li>d<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a<li>}<li>{<li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> <li>&<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> <li>c<li>o<li>m<li>m<li>o<li>n</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>l<li>a<li>b<li>e<li>l<li>#<li>1<li>{<li>%</ul></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li>=<li>1<li>z<li>w</ul></div>
<div><ul><li>\<li>h<li>s<li>p<li>a<li>c<li>e<li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p</ul></div>
<div><ul><li>\<li>h<li>s<li>p<li>a<li>c<li>e<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t<li> <li>\<li>m<li>b<li>o<li>x<li>{<li>\<li>b<li>f<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>1<li>}<li>}<li>\<li>h<li>f<li>i<li>l<li>}</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>d<li>i<li>m<li>e<li>n<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t<li>=<li>1<li>z<li>w</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>{<li>\<li>@<li>i<li>f<li>n<li>e<li>x<li>t<li>c<li>h<li>a<li>r<li>[<li>{<li>\<li>@<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>}<li>{<li>\<li>@<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>[</ul><p l>文字列の長さ</p><ul><li>]<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>[<li>#<li>1<li>]<li>{<li>\<li>l<li>i<li>s<li>t<li>{<li>}<li>{<li>%</ul></div>
<div><ul><li>\<li>s<li>e<li>t<li>b<li>o<li>x<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a<li>=<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>b<li>f<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>1<li>}<li>\<li>h<li>f<li>i<li>l<li>}<li>%</ul><p r>文字列の長さを測る</p></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li>=<li>\<li>w<li>d<li>\<li>@<li>t<li>e<li>m<li>p<li>b<li>o<li>x<li>a</ul></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li>=<li>1<li>z<li>w</ul></div>
<div><ul><li>\<li>p<li>a<li>r<li>s<li>e<li>p<li>=<li>\<li>z<li>@<li> <li>\<li>i<li>t<li>e<li>m<li>s<li>e<li>p<li>=<li>.<li>5<li>z<li>h<li> <li>\<li>l<li>i<li>s<li>t<li>p<li>a<li>r<li>i<li>n<li>d<li>e<li>n<li>t<li>=<li>1<li>z<li>w</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>i<li>n<li>d<li>e<li>n<li>t<li>=<li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>i<li>t<li>e<li>m<li>i<li>n<li>d<li>e<li>n<li>t<li>-<li>\<li>l<li>e<li>f<li>t<li>m<li>a<li>r<li>g<li>i<li>n</ul></div>
<div class=_mark id=mark54><a  href='#toc54'><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>5</ul></a></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>m<li>a<li>k<li>e<li>l<li>a<li>b<li>e<li>l<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>l<li>a<li>b<li>e<li>l<li>}<li>}</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>e<li>n<li>d<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>=<li>\<li>e<li>n<li>d<li>l<li>i<li>s<li>t</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>%<li> <li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n</ul></div>
<div><ul><li>%<li> <li>b<li>y<li> <li>S<li>h<li>i<li>n<li>s<li>a<li>k<li>u<li> <li>F<li>u<li>j<li>i<li>t<li>a<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7</ul></div>
<div><ul><li>%</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li>{<li>\<li>l<li>i<li>s<li>t<li>{<li>}<li>{<li>%</ul></div>
<div><ul><li>\<li>p<li>a<li>r<li>s<li>e<li>p<li>=<li>\<li>z<li>@<li> <li>\<li>i<li>t<li>e<li>m<li>s<li>e<li>p<li>=<li>.<li>5<li>z<li>h<li> <li>\<li>l<li>i<li>s<li>t<li>p<li>a<li>r<li>i<li>n<li>d<li>e<li>n<li>t<li>=<li>1<li>z<li>w</ul></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li>=<li>\<li>z<li>@<li> <li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li>=<li>1<li>z<li>w<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>i<li>n<li>d<li>e<li>n<li>t<li>=<li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>i<li>t<li>e<li>m<li>i<li>n<li>d<li>e<li>n<li>t<li>-<li>\<li>l<li>e<li>f<li>t<li>m<li>a<li>r<li>g<li>i<li>n</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>m<li>a<li>k<li>e<li>l<li>a<li>b<li>e<li>l<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>l<li>a<li>b<li>e<li>l<li>}<li>}</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>e<li>n<li>d<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li>=<li>\<li>e<li>n<li>d<li>l<li>i<li>s<li>t</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>i<li>n<li>p<li>u<li>t</ul></div>
<div><ul><li>(</ul><p d>例文</p><ul><li>)</ul></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>{<li>j<li>b<li>o<li>o<li>k<li>}</ul></div>
<div><ul><li>\<li>u<li>s<li>e<li>p<li>a<li>c<li>k<li>a<li>g<li>e<li>{<li>j<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>}</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>(</ul><p d>省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>2<li>2<li>.<li>2<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p t>環境の使い方使い方は</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p><ul><li> <li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p n>環境と同じです</p><p b>．</p><p n>項目のラベルは</p><ul><li>\<li>i<li>t<li>e<li>m<li> </ul><p t>命令のオプション引数</p></div>
<div><p n>として与えます</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>[</ul><p b>文</p><ul><li>]</ul></div>
<div><ul><li>1<li> </ul><p h>文字では</p><p b>，</p><p x>そのまま左寄せになります</p><p b>．</p></div>
<div><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p f>先頭は</p><ul><li> <li>1<li> </ul><p t>文字分字下げされます</p><p b>．</p></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>[</ul><p d>文字</p><ul><li>]</ul></div>
<div><ul><li>2<li> </ul><p h>文字では</p><p b>，</p><p l>ラベルは全角</p><ul><li> <li>2<li> </ul><p bg>文字分の空白をあけて出力されます</p><p b>．</p></div>
<div><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><ul><li>(</ul><p h>途中省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li>}</ul></div>
<div><p r>次に出力を示します</p><p b>．</p><p n>ラベルの出力に</p><p b>，</p><p bs>均等割の効果がでていることを確かめてください</p><p b>．</p></div>
<div><p b>文</p><ul><li> <li>1<li> </ul><p h>文字では</p><p b>，</p><p x>そのまま左寄せになります</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p><p f>先頭は</p><ul><li> <li>1<li> </ul><p t>文字分字下げされます</p></div>
<div><p b>．</p></div>
<div><ul><li>1<li>1<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p n>まくろの八衢文</p><ul><li> </ul><p b>字</p><ul><li> <li>2<li> </ul><p h>文字では</p><p b>，</p><p l>ラベルは全角</p><ul><li> <li>2<li> </ul><p bg>文字分の空白をあけて出力されます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p f>文字分</p></div>
<div><p l>の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p f>文字列</p><ul><li> <li>3<li> </ul><p h>文字では</p><p b>，</p><ul><li>5<li> </ul><p t>文字分の領域に均等割</p><ul><li> <li>(</ul><p v>文字間に全角の空白挿入</p><ul><li>)<li> </ul><p l>が行われます</p><p b>．</p><p h>その後に</p><p b>，</p></div>
<div><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p h>文字出力</p><ul><li> <li>4<li> </ul><p h>文字では</p><p b>，</p><ul><li>6<li> </ul><p bg>文字分の領域に均等割が行われます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p j>自動均等割</p><ul><li> <li>5<li> </ul><p h>文字では</p><p b>，</p><ul><li>6<li> </ul><p bg>文字分の領域に均等割が行われます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p l>文字列均等割</p><ul><li> <li>6<li> </ul><p h>文字では</p><p b>，</p><p x>そのまま左寄せになります</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p p>最も長いタイトル</p><ul><li> <li>6<li> </ul><p l>文字以上では</p><p b>，</p><p x>そのまま左寄せになります</p><p b>．</p><p r>ラベル出力に続いて</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><ul><li>2<li>2<li>.<li>3<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p l>環境の使い方</p></div>
<div><ul><li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p f>環境は</p><p b>，</p><p ca>オプション引数に文字列を指定できるようになっています</p><p b>．</p><p bw>引数指定した文字列の長さのラベルの領域がとられま</p></div>
<div><p b>す</p><p b>．</p><p z>オプション指定しない場合は</p><p b>，</p><ul><li>6<li> </ul><p bg>文字分のラベルの領域がとられます</p><p b>．</p><p n>項目のラベルは</p><ul><li>\<li>i<li>t<li>e<li>m<li> </ul><p bg>命令のオプション引数として与えま</p></div>
<div><p b>す</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>}<li>[</ul><p l>文字列均等割</p><ul><li>]</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>[</ul><p b>文</p><ul><li>]</ul></div>
<div><ul><li>1<li> </ul><p h>文字では</p><p b>，</p><p x>そのまま左寄せになります</p><p b>．</p></div>
<div><ul><li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p r>環境の引数指定した</p><p b>「</p><p l>文字列均等割</p><p b>」</p><p bg>の長さのラベルの領域がとられます</p><p b>．</p></div>
<div><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p f>先頭は</p><ul><li> <li>1<li> </ul><p t>文字分字下げされます</p><p b>．</p></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>[</ul><p d>文字</p><ul><li>]</ul></div>
<div><ul><li>2<li> </ul><p h>文字では</p><p b>，</p><p l>ラベルは全角</p><ul><li> <li>2<li> </ul><p bg>文字分の空白をあけて出力されます</p><p b>．</p></div>
<div><p b>「</p><p l>文字列均等割</p><p b>」</p><p bg>の長さのラベルの領域がとられます</p><p b>．</p></div>
<div><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><ul><li>(</ul><p h>途中省略</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>}</ul></div>
<div><p r>次に出力を示します</p><p b>．</p><p n>ラベルの出力に</p><p b>，</p><p bs>均等割の効果がでていることを確かめてください</p><p b>．</p><p d>また</p><p b>，</p><p bg>指定した文字列の長さのラベル領域</p></div>
<div><p bk>が取られていることに注意してください</p><p b>．</p></div>
<div><p b>文</p><ul><li> <li>1<li> </ul><p h>文字では</p><p b>，</p><p x>そのまま左寄せになります</p><p b>．</p><ul><li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p r>環境の引数指定した</p><p b>「</p><p l>文字列均等割</p><p b>」</p></div>
<div><p bg>の長さのラベルの領域がとられます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p><p f>先頭は</p></div>
<div><ul><li>1<li> </ul><p t>文字分字下げされます</p><p b>．</p></div>
<div><p b>文</p><ul><li> </ul><p b>字</p><ul><li> <li>2<li> <li> </ul><p h>文字では</p><p b>，</p><p l>ラベルは全角</p><ul><li> <li>2<li> </ul><p bg>文字分の空白をあけて出力されます</p><p b>．</p><p b>「</p><p l>文字列均等割</p><p b>」</p><p bg>の長さのラベルの領域がとられます</p><p b>．</p><p b>そ</p></div>
<div><p f>の後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div class=_mark id=mark55><a  href='#toc55'><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>7</ul></a></div>
<div><p f>文字列</p><ul><li> <li>3<li> <li> </ul><p h>文字では</p><p b>，</p><ul><li>5<li> </ul><p t>文字分の領域に均等割</p><ul><li> <li>(</ul><p v>文字間に全角の空白挿入</p><ul><li>)<li> </ul><p l>が行われます</p><p b>．</p><p b>「</p><p l>文字列均等割</p><p b>」</p><p v>の長さのラベルの領域が</p></div>
<div><p j>とられます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p h>文字出力</p><ul><li> <li>4<li> <li> </ul><p h>文字では</p><p b>，</p><ul><li>6<li> <li> </ul><p bg>文字分の領域に均等割が行われます</p><p b>．</p><p b>「</p><p l>文字列均等割</p><p b>」</p><p bg>の長さのラベルの領域がとられます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1</ul></div>
<div><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p j>自動均等割</p><ul><li> <li>5<li> </ul><p h>文字では</p><p b>，</p><ul><li>6<li> </ul><p bg>文字分の領域に均等割が行われます</p><p b>．</p><p b>「</p><p l>文字列均等割</p><p b>」</p><p bg>の長さのラベルの領域がとられます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1</ul></div>
<div><ul><li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p l>文字列均等割</p><ul><li> <li>6<li> <li> </ul><p h>文字では</p><p b>，</p><p x>そのまま左寄せになります</p><p b>．</p><p b>「</p><p l>文字列均等割</p><p b>」</p><p bg>の長さのラベルの領域がとられます</p><p b>．</p><p h>その後に</p><p b>，</p><ul><li>1<li> </ul><p f>文字分</p></div>
<div><p l>の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><p p>最も長いタイトル</p><ul><li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p be>環境の引数よりも長いラベルでは</p><p b>，</p><p r>ラベル出力に続いて</p><p b>，</p><ul><li>1<li> </ul><p r>文字分の空白をおき</p><p b>，</p><p p>本文を出力します</p><p b>．</p></div>
<div><ul><li>2<li>2<li>.<li>4<li> </ul><p l>マクロの説明</p></div>
<div><ul><li>2<li>2<li>.<li>4<li>.<li>1<li> </ul><p x>ラベル出力のマクロの解説</p></div>
<div><ul><li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p f>環境も</p><ul><li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p f>環境も</p><p b>，</p><p h>内部では</p><ul><li> <li>l<li>i<li>s<li>t<li> </ul><p bc>環境を使って定義してあります</p><p b>．</p><ul><li>l<li>i<li>s<li>t<li> </ul><p l>環境のパラメ</p><p b>ー</p></div>
<div><p b>タ</p><p b>ー</p><p j>については</p><p b>，</p><p d>拙著</p><ul><li> <li>1<li>4<li>.<li>1<li> </ul><p z>節に詳しく説明してあります</p><p b>．</p><p f>とくに</p><p b>，</p><p b>図</p><ul><li> <li>1<li>4<li>.<li>1<li> </ul><p v>を参考にしながら読むと</p><p b>，</p><p t>理解が容易になります</p><p b>．</p><p d>まず</p></div>
<div><p b>，</p><p bw>両方の環境で共通に使っている命令を説明しましょう</p><p b>．</p><p h>ラベルを</p><ul><li> <li>1<li> </ul><p be>文字分字下げして出力するために</p><p b>，</p><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t<li> </ul><p h>という寸</p></div>
<div><p p>法を新しく作成し</p><p b>，</p><p f>これを</p><ul><li> <li>1<li>z<li>w<li> </ul><p p>に設定しています</p><p b>．</p><p n>ラベルの出力は</p><p b>，</p><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>l<li>a<li>b<li>e<li>l<li> </ul><p n>が担っています</p><p b>．</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>l<li>a<li>b<li>e<li>l<li>#<li>1<li>{<li>%</ul></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li>=<li>1<li>z<li>w</ul></div>
<div><ul><li>\<li>h<li>s<li>p<li>a<li>c<li>e<li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p</ul></div>
<div><ul><li>\<li>h<li>s<li>p<li>a<li>c<li>e<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t<li> <li>\<li>m<li>b<li>o<li>x<li>{<li>\<li>b<li>f<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>1<li>}<li>}<li>\<li>h<li>f<li>i<li>l<li>}</ul></div>
<div><ul><li>l<li>i<li>s<li>t<li> <li> </ul><p n>環境の原形では</p><p b>，</p><p h>版面から</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li> </ul><p bg>だけ突きび出した形になっています</p><p b>．</p><p f>そこで</p><p b>，</p><ul><li>\<li>h<li>s<li>p<li>a<li>c<li>e<li> </ul><p l>命令を用いて</p><p b>，</p><p d>まず</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li> <li>(<li>=</ul></div>
<div><ul><li>1<li>z<li>w<li>)<li> </ul><p p>だけ右へ移動して</p><p b>，</p><p bc>この突き出した分を補正します</p><p b>．</p><p f>さらに</p><p b>，</p><p h>字下げ分</p></div>
<div><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t<li> <li>(<li>=<li>1<li>z<li>w<li>)<li> </ul><p x>だけ右へ移動したところで</p><p b>，</p><ul><li>\<li>m<li>b<li>o<li>x<li> </ul><p bc>内に入れたラベルを出力します</p><p b>．</p><p d>この</p><ul><li>\<li>m<li>b<li>o<li>x</ul></div>
<div><p r>の中に均等割の命令</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p n>を使っています</p><p b>．</p></div>
<div><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>l<li>a<li>b<li>e<li>l<li> </ul><p f>命令や</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p><ul><li>\<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li>l<li>a<li>b<li>e<li>l<li> </ul><p bi>がこのような補正を行っていることは</p><p b>，</p><p be>ずっと不思議におもっていました</p><p b>．</p></div>
<div><p x>通常気付かないこのなので</p><p b>，</p><p f>ここで</p><ul><li> <li>l<li>i<li>s<li>t<li> </ul><p z>環境の原形を実際に出力して</p><p b>，</p><p r>確かめてみましょう</p><p b>．</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>l<li>i<li>s<li>t<li>}<li>{<li>}<li>{<li>}</ul></div>
<div><ul><li>\<li>i<li>t<li>e<li>m<li>[</ul><p h>突き出し</p><ul><li>]<li> <li>l<li>i<li>s<li>t<li> </ul><p l>環境の原形は</p><p b>，</p><ul><li>\<li>v<li>e<li>r<li>b<li>/<li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li>/</ul><p l>だけ突き出し</p><p b>．</p></div>
<div><p n>この行がその例</p><p b>．</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>l<li>i<li>s<li>t<li>}</ul></div>
<div><p n>と入力しますと</p><p b>，</p><p v>次のように出力されます</p><p b>．</p><p t>きわめてわずかですが</p><p b>，</p><p bk>突き出していることを確かめてください</p><p b>．</p></div>
<div><p h>突き出し</p><ul><li> <li>l<li>i<li>s<li>t<li> </ul><p l>環境の原形は</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li> </ul><p l>だけ突き出し</p><p b>．</p><p n>この行がその例</p><p b>．</p></div>
<div><ul><li>1<li>1<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>2<li>2<li>.<li>4<li>.<li>2<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p r>環境のマクロの解説</p></div>
<div><ul><li>T<li>E<li>X<li> <li> </ul><p r>流で環境を作るには</p><p b>，</p><ul><li>\<li>E<li>N<li>V<li> </ul><p b>と</p><ul><li>\<li>e<li>n<li>d<li>E<li>N<li>V<li> </ul><p be>の組みを作成することによります</p><p b>．</p><p f>拙著第</p><ul><li> <li>1<li>4<li>.<li>2<li> </ul><p be>節で詳しく説明してありますので</p><p b>，</p><p d>ご覧</p></div>
<div><p h>ください</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p bm>流の環境作成についても説明を加えました</p><p b>．</p><p d>また</p><p b>，</p><p by>いろいろな箇条書環境の作成についてもふれてあります</p><p b>．</p></div>
<div><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p l>の定義の中は</p><p b>，</p><ul><li>l<li>i<li>s<li>t<li> </ul><p l>環境のパラメ</p><p b>ー</p><p b>タ</p><p b>ー</p><p bi>を設定することによって行っています</p><p b>．</p><ul><li>\<li>p<li>a<li>r<li>s<li>e<li>p</ul></div>
<div><p b>と</p><ul><li>\<li>i<li>t<li>e<li>m<li>s<li>e<li>p<li> </ul><p b>は</p><p b>，</p><p bs>段落の間の垂直方向の空白を決めているものです</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p><ul><li> <li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p j>環境よりは</p><p b>，</p></div>
<div><p t>小さくとってあります</p><p b>．</p><p z>この設定を小さくすることは</p><p b>，</p><p bq>レイアウトの英文臭さをなくすコツのようです</p><p b>．</p></div>
<div><ul><li>\<li>l<li>i<li>s<li>t<li>p<li>a<li>r<li>i<li>n<li>d<li>e<li>n<li>t<li> </ul><p b>は</p><ul><li> <li>1<li> </ul><p bk>文字分を字下げするように設定しました</p><p b>．</p></div>
<div><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h<li> </ul><p p>はこのように始め</p><ul><li> <li>0<li> </ul><p l>に設定した後</p><p b>，</p><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li> </ul><p n>命令をもちいて</p><p b>，</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>s<li>e<li>p<li> <li>(<li>=<li> <li>1<li>z<li>w<li>)<li> </ul><p b>や</p></div>
<div><ul><li>\<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>i<li>n<li>d<li>e<li>n<li>t<li> </ul><p h>の値を加</p><ul><li> </ul><p j>えています</p><p b>．</p><ul><li> </ul></p><ul><li>\<li>i<li>t<li>e<li>m<li>i<li>n<li>d<li>e<li>n<li>t<li> </ul><p f>につい</p><ul><li> </ul><p l>ても同様です</p><ul><li> </ul></p><p b>．</p><p j>マクロの定</p><ul><li> </ul><p l>義の最後のと</p><ul><li> </ul><p f>ころで</p><p b>，</p><p n>前項で説明した</p></div>
<div><ul><li>J<li>d<li>e<li>c<li>r<li>i<li>b<li>e<li>l<li>a<li>b<li>e<li>l<li> </ul><p f>命令を</p><ul><li>\<li>m<li>a<li>k<li>e<li>l<li>a<li>b<li>e<li>l<li> </ul><p t>命令に代入したのちに</p><p b>，</p><p z>ラベル出力を実行しています</p><p b>．</p><p h>このとき</p><p b>，</p><ul><li>\<li>m<li>a<li>k<li>e<li>l<li>a<li>b<li>e<li>l<li> </ul><p b>は</p><p b>，</p><ul><li>\<li>i<li>t<li>e<li>m<li> </ul><p h>がオプシ</p></div>
<div><p bq>ョン引数つきで宣言されたときに実行されます</p><p b>．</p><p f>最後に</p><p b>，</p><ul><li>\<li>e<li>n<li>d<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p b>に</p><ul><li>\<li>e<li>n<li>d<li>l<li>i<li>s<li>t<li> </ul><p j>を代入して</p><p b>，</p><p bc>環境の終わりを示す制御綴を作</p></div>
<div><p l>成しています</p><p b>．</p></div>
<div><ul><li>2<li>2<li>.<li>4<li>.<li>3<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p r>環境のマクロの解説</p></div>
<div><ul><li>\<li> <li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> <li> </ul><p l>環境の定義は</p><p b>，</p><p bm>新しいテクニックをいくつか含んでいます</p><p b>．</p><p f>一つは</p><p b>，</p><p bo>オプション引数をとる命令の定義の仕方です</p><p b>．</p><ul><li> <li>\<li>@</ul></div>
<div><ul><li>i<li>f<li>n<li>e<li>x<li>t<li>c<li>h<li>a<li>r<li>[<li>{<li>A<li>}<li>{<li>B<li>}</ul><p p>を使っていいます</p><p b>．</p><p j>次の文字が</p><ul><li> <li>[</ul><p f>ならば</p><p b>，</p><ul><li>A<li> </ul><p l>の処理を行い</p><p b>，</p></div>
<div><p n>そうでなければ</p><p b>，</p><ul><li>B<li> </ul><p z>の処理を行うという意味です</p><p b>．</p><p j>したがって</p><p b>，</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>{<li>%</ul></div>
<div><ul><li>\<li>@<li>i<li>f<li>n<li>e<li>x<li>t<li>c<li>h<li>a<li>r<li>[<li>{<li>\<li>@<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>}<li>{<li>\<li>@<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li>[</ul><p l>文字列の長さ</p><ul><li>]<li>}<li>}</ul></div>
<div><p v>と定義することによって</p><p b>，</p><ul><li>[</ul><p l>があるときは</p><p b>，</p><p x>オプション引数を取得して</p><p b>，</p><ul><li>\<li>@<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p p>を実行しすること</p><p b>，</p></div>
<div><ul><li>[<li> </ul><p j>ないときは</p><p b>，</p><p l>標準の文字列</p><ul><li> <li>[</ul><p l>文字列の長さ</p><ul><li>]<li> </ul><p j>を取得して</p><p b>，</p><ul><li>\<li>@<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p bc>を実行しすることがわかります</p><p b>．</p><p j>この方法が</p><p b>，</p><p l>オプション引</p></div>
<div><p bo>数をもつ場合のマクロの典型的な作成法です</p><p b>．</p><p l>充分練習して</p><p b>，</p><p z>習得しておく必要があります</p><p b>．</p><ul><li>\<li>s<li>e<li>t<li>b<li>o<li>x<li> </ul><p bc>命令で文字列の長さを測るとこ</p></div>
<div><p d>ろは</p><p b>，</p><p p>前の章の応用です</p><p b>．</p><p j>この長さを</p><ul><li>\<li>l<li>a<li>b<li>e<li>l<li>w<li>i<li>d<li>t<li>h</ul></div>
<div><p bc>に初期設定するところを除くと</p><p b>，</p><p n>あとはほとんど</p><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p bk>環境の定義と同じことに気付くでしょう</p><p b>．</p></div>
<div><p r>このあたりのことは</p><p b>，</p><p h>拙著の図</p><ul><li> <li>1<li>4<li>.<li>1<li> </ul><p v>を参考にしながら読むと</p><p b>，</p><p z>容易に理解できると思います</p><p b>．</p></div>
<div><ul><li>2<li>2<li>.<li>5<li> </ul><p ca>節見出しの自動均等割節見出しや項見出しのレイアウトは</p><p b>，</p><p h>内部命令</p><ul><li>\<li>@<li>s<li>e<li>c<li>t<li> </ul><p bu>などによって決められていることはすでに述べまし</p></div>
<div><p b>た</p><p b>．</p><p x>これらの内部命令のなかで</p><p b>，</p><p z>自動均等割の命令を用いると</p><p b>，</p><p bi>見出しを均等割にすることができます</p><p b>．</p></div>
<div><p r>これまでの知識から</p><p b>，</p><p bk>きわめて簡単に定義することができます</p><p b>．</p><p f>以前に</p><p b>，</p><p bu>章立ての見出しを大文字に直すテクニックを紹介し</p><p b>，</p><p f>その中</p></div>
<div><p b>で</p><ul><li>\<li> <li>u<li>p<li>p<li>e<li>r<li>c<li>a<li>s<li>e<li> </ul><p n>を使用しました</p><p b>．</p><p j>この部分を</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>8<li>}<li> </ul><p v>などと変更するだけです</p><p b>．</p><p h>念のため</p><p b>，</p><p r>この部分を変更した</p><ul><li>\<li>@<li>s<li>e<li>c<li>t<li> </ul><p d>など</p></div>
<div><p t>の定義を示しましょう</p><p b>．</p><p r>引用は大きいですが</p><p b>，</p><p p>変更したところは</p><p b>，</p><p d>星印</p><ul><li> <li>(<li>*<li>)<li> </ul><p v>を付けたところだけです</p><p b>．</p></div>
<div><ul><li>\<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>c<li>l<li>a<li>s<li>s<li>[<li>a<li>4<li>j<li>]<li>{<li>j<li>a<li>r<li>t<li>i<li>c<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%</ul><p j>自動均等割</p></div>
<div class=_mark id=mark56><a  href='#toc56'><p b>第</p><ul><li> <li>2<li>2<li> </ul><p b>章</p><ul><li>.<li> </ul><p r>見出しの自動均等割</p><ul><li> <li>1<li>1<li>9</ul></a></div>
<div><ul><li>%<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>b<li>y<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>#<li>2<li>{<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>#<li>1<li>{<li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li>=<li>0<li>p<li>t<li> <li>p<li>l<li>u<li>s<li> <li>1<li>f<li>i<li>l<li>l<li> <li>m<li>i<li>n<li>u<li>s<li> <li>1<li>f<li>i<li>l<li>l</ul></div>
<div><ul><li>\<li>x<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li>=<li>\<li>k<li>a<li>n<li>j<li>i<li>s<li>k<li>i<li>p<li> <li>#<li>2<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>{<li>%</ul><p j>自動均等割</p></div>
<div><ul><li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>%</ul><p r>文字列の長さを測る</p></div>
<div><ul><li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>#<li>2<li>{<li>%</ul><p t>条件判断の内部マクロ</p></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>1<li>.<li>2<li>z<li>w<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>2<li>}<li>%<li>1<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>2<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>4<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>2<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>3<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>5<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>3<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>4<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>4<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>i<li>f<li>d<li>i<li>m<li>#<li>1<li><<li>5<li>.<li>4<li>z<li>w<li> <li>\<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>6<li>z<li>w<li>}<li>{<li>#<li>2<li>}<li>%<li>5<li> </ul><p d>文字</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>h<li>b<li>o<li>x<li>{<li>#<li>2<li>}<li>%<li>6<li> </ul><p h>文字以上</p></div>
<div><ul><li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>%</ul><p x>章立ての見出しを均等割に</p></div>
<div><ul><li>%<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>b<li>y<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>e<li>c<li>t<li>#<li>1<li>#<li>2<li>#<li>3<li>#<li>4<li>#<li>5<li>#<li>6<li>[<li>#<li>7<li>]<li>#<li>8<li>{<li>%</ul><p l>番号出力あり</p><p b>，</p><p l>見出し均等割</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> <li>#<li>2<li>><li>\<li>c<li>@<li>s<li>e<li>c<li>n<li>u<li>m<li>d<li>e<li>p<li>t<li>h<li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>}<li>\<li>e<li>l<li>s<li>e<li>%</ul><p x>番号出力するか否かの条件</p></div>
<div><ul><li>\<li>r<li>e<li>f<li>s<li>t<li>e<li>p<li>c<li>o<li>u<li>n<li>t<li>e<li>r<li>{<li>#<li>1<li>}<li>%</ul><p h>カウンタ</p><p b>ー</p><p d>値を</p><ul><li> <li>1<li> </ul><p f>ふやす</p></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>.<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>1<li>e<li>m<li> <li>}<li>%</ul><p l>番号出力形式</p></div>
<div><ul><li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li> <li>#<li>5<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p t>空白をスキップに設定</p><ul><li> <li>(</ul><p p>正負の判断のため</p><ul><li>)</ul></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li> <li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li>><li>\<li>z<li>@<li> <li>%</ul><p r>スキップが正のとき</p><p b>，</p><p l>見出しで改行</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li> <li>#<li>6<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p v>書体の指定がここに入る</p></div>
<div><ul><li>\<li>@<li>h<li>a<li>n<li>g<li>f<li>r<li>o<li>m<li>{<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>3<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>}<li>%</ul><p h>番号出力</p></div>
<div><ul><li>{<li>\<li>i<li>n<li>t<li>e<li>r<li>l<li>i<li>n<li>e<li>p<li>e<li>n<li>a<li>l<li>t<li>y<li> <li>\<li>@<li>M<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>8<li>}<li>\<li>p<li>a<li>r<li>}<li>%</ul><p p>タイトルを均等割</p><p b>＊</p></div>
<div><ul><li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>%</ul></div>
<div><ul><li>%<li>(</ul><p d>注意</p><ul><li>)<li> </ul><p n>オプション引数</p><ul><li>#<li>7<li> </ul><p l>がないときは</p><ul><li>#<li>8<li> </ul><p b>を</p><ul><li>#<li>7<li> </ul><p f>に複写</p></div>
<div><ul><li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>#<li>1<li>m<li>a<li>r<li>k<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>{<li>#<li>7<li>}<li>%</ul><p n>柱への出力内容</p></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>#<li>1<li>}<li>{<li>%<li>t<li>o<li>c<li> </ul><p p>ファイルへの出力</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> <li>#<li>2<li>><li>\<li>c<li>@<li>s<li>e<li>c<li>n<li>u<li>m<li>d<li>e<li>p<li>t<li>h</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>#<li>7<li>}</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>%</ul><p r>スキップが負のとき</p><p b>，</p><p f>見出し</p><ul><li> <li>(</ul><p f>均等割</p><ul><li>)<li> </ul><p p>のあとの改行なし</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>h<li>d<li>{<li>#<li>6<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>3<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>8<li>}<li>%</ul><p p>タイトルを均等割</p><p b>＊</p></div>
<div><ul><li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>#<li>1<li>m<li>a<li>r<li>k<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>{<li>#<li>7<li>}</ul></div>
<div><ul><li>\<li>a<li>d<li>d<li>c<li>o<li>n<li>t<li>e<li>n<li>t<li>s<li>l<li>i<li>n<li>e<li>{<li>t<li>o<li>c<li>}<li>{<li>#<li>1<li>}<li>{<li>%<li>t<li>o<li>c<li> </ul><p p>ファイルへの出力</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li> <li>#<li>2<li>><li>\<li>c<li>@<li>s<li>e<li>c<li>n<li>u<li>m<li>d<li>e<li>p<li>t<li>h</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>\<li>p<li>r<li>o<li>t<li>e<li>c<li>t<li>\<li>n<li>u<li>m<li>b<li>e<li>r<li>l<li>i<li>n<li>e<li>{<li>\<li>c<li>s<li>n<li>a<li>m<li>e<li> <li>t<li>h<li>e<li>#<li>1<li>\<li>e<li>n<li>d<li>c<li>s<li>n<li>a<li>m<li>e<li>}<li>\<li>f<li>i</ul></div>
<div><ul><li>#<li>7<li>}<li>}<li>%</ul></div>
<div><ul><li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>@<li>x<li>s<li>e<li>c<li>t<li>{<li>#<li>5<li>}<li>}<li>%</ul><p z>見出しのあとの段落処理など</p></div>
<div><ul><li>1<li>2<li>0<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>%<li>%<li>%<li>%</ul><p d>スタ</p><p b>ー</p><p l>のついたとき</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>s<li>e<li>c<li>t<li>#<li>1<li>#<li>2<li>#<li>3<li>#<li>4<li>#<li>5<li>{<li>%</ul><p l>番号出力なし</p><p b>，</p><p l>見出し均等割</p></div>
<div><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li> <li>#<li>3<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul><p v>空白をスキップにに設定</p><ul><li> <li>(</ul><p p>正負の判断のため</p><ul><li>)</ul></div>
<div><ul><li>\<li>i<li>f<li>d<li>i<li>m<li> <li>\<li>@<li>t<li>e<li>m<li>p<li>s<li>k<li>i<li>p<li>a<li>><li>\<li>z<li>@<li>%</ul><p r>スキップが正のとき</p><p b>，</p><p l>見出しで改行</p></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>g<li>r<li>o<li>u<li>p<li> <li>#<li>4</ul></div>
<div><ul><li>\<li>@<li>h<li>a<li>n<li>g<li>f<li>r<li>o<li>m<li>{<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>1<li>}<li>{<li>\<li>i<li>n<li>t<li>e<li>r<li>l<li>i<li>n<li>e<li>p<li>e<li>n<li>a<li>l<li>t<li>y<li> <li>\<li>@<li>M<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>5<li>}<li>\<li>p<li>a<li>r<li>}</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>g<li>r<li>o<li>u<li>p<li>%<li> <li>%</ul><p p>タイトルを均等割</p><p b>＊</p></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li>%</ul><p r>スキップが負のとき</p><p b>，</p><p v>見出しのあとの改行なし</p></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>s<li>v<li>s<li>e<li>c<li>h<li>d<li>{<li>#<li>4<li>\<li>h<li>s<li>k<li>i<li>p<li> <li>#<li>1<li>\<li>r<li>e<li>l<li>a<li>x<li> <li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>5<li>}<li>}<li>\<li>f<li>i<li>%</ul><p p>タイトルを均等割</p><p b>＊</p></div>
<div><ul><li>\<li>@<li>x<li>s<li>e<li>c<li>t<li>{<li>#<li>3<li>}<li>}<li>%</ul><p z>見出しのあとの段落処理など</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>%<li>(</ul><p d>例文</p><ul><li>)</ul></div>
<div><ul><li>\<li>b<li>e<li>g<li>i<li>n<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p f>均等割</p><ul><li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>s<li>u<li>b<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p f>項表題</p><ul><li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>{</ul><p h>節の表題</p><ul><li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>s<li>e<li>c<li>t<li>i<li>o<li>n<li>*<li>{</ul><p l>番号出力なし</p><ul><li>}<li> <li>(</ul><p d>本文</p><ul><li>)</ul></div>
<div><ul><li>\<li>e<li>n<li>d<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}</ul></div>
<div><p p>このようにすると</p><p b>，</p><p h>たとえば</p><p b>，</p><p v>次のように出力されます</p><p b>．</p></div>
<div><ul><li>1<li>.<li> </ul><p f>均等割</p></div>
<div><ul><li>1<li>.<li>1<li>.<li> </ul><p f>項表題</p></div>
<div><ul><li>2<li> <li>.<li> </ul><p bq>節の表題番号出力なし書籍などのスタイルでは</p><p b>，</p><p r>節や項の見出しが柱</p><ul><li> <li>(</ul><p f>ヘッダ</p><p b>ー</p><ul><li>)<li> </ul><p bq>や目次などにも受け継がれて表示されますので</p></div>
<div><p b>，</p><p bu>対応する出力マクロも均等割にする必要があります</p><p b>．</p><p h>ここでは</p><p b>，</p><p v>これ以上は省略しますが</p><p b>，</p><p be>辛抱強く直してゆくだけですので</p><p b>，</p><p d>ため</p></div>
<div><p p>してみてください</p><p b>．</p><p d>なお</p><p b>，</p><p n>拙著のフロッピ</p><p b>ー</p><p z>ディスクの中に含まれている</p></div>
<div><ul><li>m<li>y<li>2<li>b<li>o<li>o<li>k<li>.<li>s<li>t<li>y<li> </ul><p b>は</p><p b>，</p><p bw>このような見出しの均等割を徹底的に行ってあります</p><p b>．</p><p n>このスタイルは</p><p b>，</p><p bm>実際に拙著の版下を作ったときのものです</p></div>
<div><p d>ので</p><p b>，</p><p r>参考にしてください</p><p b>．</p></div>
<div><ul><li>1<li>2<li>1</ul></div>
<div><p b>第</p><ul><li>2<li>3</ul><p b>章</p><ul><li> </ul><p x>文字列の折り返し文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p bi>難読の漢字に振りがなを付けるときに</p><p b>，</p><p be>ルビにすることはよく行われます</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li> <li>2</ul><p b>ε</p><p v>でルビを実現する方法は</p><p b>，</p><p r>すでにいろいろな参</p></div>
<div><p z>考書で説明されていますので</p><p b>，</p><p r>ここでは触れません</p><p b>．</p><p d>一方</p><p b>，</p><p n>読みを示すのに</p><p b>，</p><p by>漢字の後の括弧の中に振りがなを入れる方法もあります</p></div>
<div><p b>．</p><p t>横書きの文書の場合に</p><p b>，</p><p h>たとえば</p><p b>，</p><p d>竿秤</p><ul><li> <li>(</ul><p j>さおばかり</p><ul><li>)<li> <li> </ul><p be>のように入れることもありますが</p><p b>，</p><p d>竿秤</p><ul><li> <li>(</ul><p j>さおばかり</p><ul><li> <li>)<li> </ul><p h>のように</p><p b>，</p><ul><li>2<li> </ul><p d>行に</p></div>
<div><p bk>折り返して入れることもよく行われます</p><p b>．</p><p co>このような文字列の折り返しを自動的に行うマクロを作成してみましょう</p><p b>．</p></div>
<div><ul><li>2<li>3<li> <li>.<li>1<li> </ul><p z>文字列の抽出まず文字列から</p><p b>，</p><p bq>任意の部分を取り出すマクロを定義しましょう</p><p b>．</p><p bq>読みがなのマクロを作る目的からは過剰品質で</p></div>
<div><p d>すが</p><p b>，</p><p bi>応用範囲の広いものを作っておきます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>%<li> <li>e<li>x<li>t<li>r<li>a<li>c<li>t<li> <li>#<li>2<li>-<li>t<li>h<li> <li>t<li>o<li> <li>#<li>3<li>-<li>t<li>h<li> <li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>s<li> <li>f<li>r<li>o<li>m<li> <li>a<li> <li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li> <li>s<li>t<li>r<li>i<li>n<li>g<li> <li>#<li>1<li>,</ul></div>
<div><ul><li>%<li> <li>t<li>h<li>e<li>n<li> <li>s<li>t<li>o<li>r<li>e<li> <li>t<li>h<li>e<li> <li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>s<li> <li>t<li>o<li> <li>\<li>m<li>o<li>j<li>i</ul></div>
<div><ul><li>%<li> <li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>b<li>y<li> <li>S<li>.<li> <li>F<li>u<li>j<li>i<li>t<li>a</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>S<li>h<li>o<li>r<li>t<li>e<li>n<li>C<li>h<li>a<li>r<li>#<li>1<li>#<li>2<li>#<li>3<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>\<li>z<li>@<li> <li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>=<li>#<li>3<li>%</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>\<li>@<li>n<li>e<li>\<li>l<li>e<li>t<li>\<li>m<li>o<li>j<li>i<li>=<li>\<li>e<li>m<li>p<li>t<li>y<li>%</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>\<li>@<li>n<li>e<li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li><<li>#<li>2<li>\<li>e<li>l<li>s<li>e<li> <li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li><<li>\<li>T<li>e<li>s<li>t<li>C<li>o<li>u<li>n<li>t<li>%</ul></div>
<div><ul><li>\<li>x<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>{<li>\<li>m<li>o<li>j<li>i<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>\<li>f<li>i<li>\<li>f<li>i<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p f>これは</p><p b>，</p><p l>以前に作った</p><ul><li>\<li>s<li>h<li>o<li>r<li>t<li>e<li>n<li>c<li>h<li>a<li>r<li> </ul><p r>を修正したものです</p><p b>．</p><p b>第</p><ul><li> <li>1<li> </ul><p l>引数に文字列</p><p b>，</p><p b>第</p><ul><li> <li>2<li> </ul><p x>引数に部分文字列の開始点</p><p b>，</p><p b>第</p><ul><li> <li>3<li> </ul><p l>引数に部分文</p></div>
<div><p be>字列の終了点をそれぞれ与えます</p><p b>．</p><p d>最初</p><ul><li>\<li> <li>m<li>o<li>j<li>i<li> </ul><p d>を空</p><ul><li> <li>(<li>\<li>e<li>m<li>p<li>t<li>y<li>)<li> </ul><p j>にしておき</p><p b>，</p><p bm>順次取り出した文字を付け加えてゆきます</p><p b>．</p><p h>このとき</p><p b>，</p><ul><li>\</ul></div>
<div><ul><li>x<li>d<li>e<li>f<li> </ul><p p>を使っていますが</p><p b>，</p><p f>これは</p><p b>，</p><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>e<li>d<li>e<li>f<li> </ul><p l>の短縮形です</p><p b>．</p><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li> </ul><p b>は</p><p b>，</p><p n>定義を括弧の外</p><ul><li> <li>(</ul><p f>大域的</p><ul><li>)<li> </ul><p z>に及ぼすためのものというの</p></div>
<div><p t>はすでに説明しました</p><p b>．</p><p d>一方</p></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li> </ul><p b>は</p><ul><li>\<li>e<li>x<li>p<li>a<li>n<li>d<li>a<li>f<li>t<li>e<li>r<li>\<li>d<li>e<li>f<li> </ul><p l>の短縮形です</p><p b>．</p><ul><li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p bg>を使った構文はおなじみのものです</p><p b>．</p></div>
<div><p z>使い方を示しておきましょう</p></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>5<li>)</ul></div>
<div><ul><li>1<li>2<li>2<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>S<li>h<li>o<li>r<li>t<li>e<li>n<li>C<li>h<li>a<li>r<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}<li>{<li>2<li>}<li>{<li>5<li>}<li> </ul><p b>「</p><p j>部分文字列</p><ul><li> <li>=<li> <li>\<li>m<li>o<li>j<li>i</ul><p b>」</p></div>
<div><ul><li>\<li>S<li>h<li>o<li>r<li>t<li>e<li>n<li>C<li>h<li>a<li>r<li>{<li>d<li>o<li>c<li>u<li>m<li>e<li>n<li>t<li>}<li>{<li>1<li>}<li>{<li>6<li>}<li> </ul><p b>「</p><p j>部分文字列</p><ul><li> <li>=<li> <li>\<li>m<li>o<li>j<li>i</ul><p b>」</p></div>
<div><ul><li>\<li>S<li>h<li>o<li>r<li>t<li>e<li>n<li>C<li>h<li>a<li>r<li>{</ul><p v>スタイルファイルの作成</p><ul><li>}<li>{<li>5<li>}<li>{<li>8<li>}<li> </ul><p b>「</p><p j>部分文字列</p><ul><li> <li>=<li> <li>\<li>m<li>o<li>j<li>i</ul><p b>」</p></div>
<div><p l>と入力すると</p><p b>，</p><ul><li> </ul><p b>「</p><p j>部分文字列</p><ul><li> <li>=<li> <li>o<li>c<li>u<li>m</ul><p b>」</p><ul><li> </ul><p b>「</p><p j>部分文字列</p><ul><li> <li>=<li> <li>d<li>o<li>c<li>u<li>m<li>e</ul><p b>」</p><ul><li> </ul><p b>「</p><p j>部分文字列</p><ul><li> <li>=<li> </ul><p h>ファイル</p><p b>」</p><p t>のように出力されます</p><p b>．</p></div>
<div><ul><li>2<li>3<li> <li>.<li>2<li> </ul><p t>文字列の折り返し次に</p><p b>，</p><p bi>文字列を折り返すマクロを作成します</p><p b>．</p><p j>この場合は</p><p b>，</p><p l>折り返す点を</p><p b>，</p><p bc>引数として与えることにします</p><p b>．</p></div>
<div><p f>内部で</p><ul><li>\<li>S<li>h<li>o<li>r<li>t<li>e<li>n<li>C<li>h<li>a<li>r<li> </ul><p b>を</p><ul><li> <li>2<li> </ul><p h>度用いて</p><p b>，</p><p n>最初の文字列を</p><ul><li>\<li>F<li>m<li>o<li>j<li>i</ul><p b>，</p><p l>後の文字列を</p><ul><li>\<li>R<li>m<li>o<li>j<li>i<li> </ul><p n>に格納したのち</p><p b>，</p></div>
<div><ul><li>\<li> <li>s<li>e<li>t<li>b<li>o<li>x<li>0<li> </ul><p v>の中に縦に詰め込みます</p><p b>．</p><p n>文字の大きさを</p><ul><li>\<li> <li>t<li>i<li>n<li>y<li> </ul><p v>で組むようにしましょう</p><p b>．</p><p f>この際</p><p b>，</p><p bc>縦方向の空白を除去するために</p><p b>，</p><p b>「</p><ul><li>\</ul></div>
<div><ul><li>n<li>o<li>i<li>n<li>t<li>e<li>r<li>l<li>i<li>n<li>e<li>s<li>k<li>i<li>p<li> </ul><p p>を入れておきます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>O<li>r<li>i<li>k<li>a<li>e<li>s<li>h<li>i<li>#<li>1<li>#<li>2<li>#<li>3<li>{<li>%</ul></div>
<div><ul><li>\<li>S<li>h<li>o<li>r<li>t<li>e<li>n<li>C<li>h<li>a<li>r<li>{<li>#<li>1<li>}<li>{<li>1<li>}<li>{<li>#<li>2<li>}<li>\<li>l<li>e<li>t<li>\<li>F<li>m<li>o<li>j<li>i<li>=<li>\<li>m<li>o<li>j<li>i</ul></div>
<div><ul><li>\<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>=<li>#<li>2<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>\<li>@<li>n<li>e</ul></div>
<div><ul><li>\<li>S<li>h<li>o<li>r<li>t<li>e<li>n<li>C<li>h<li>a<li>r<li>{<li>#<li>1<li>}<li>{<li>\<li>T<li>E<li>S<li>T<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>#<li>3<li>}<li>\<li>l<li>e<li>t<li>\<li>R<li>m<li>o<li>j<li>i<li>=<li>\<li>m<li>o<li>j<li>i</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>s<li>e<li>t<li>b<li>o<li>x<li>0<li>=<li>\<li>v<li>b<li>o<li>x<li>{<li>\<li>t<li>i<li>n<li>y<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>F<li>m<li>o<li>j<li>i<li>}<li>\<li>n<li>o<li>i<li>n<li>t<li>e<li>r<li>l<li>i<li>n<li>e<li>s<li>k<li>i<li>p<li>\<li>h<li>b<li>o<li>x<li>{<li>\<li>R<li>m<li>o<li>j<li>i<li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p v>実際に使ってみましょう</p><p b>．</p></div>
<div><ul><li>\<li>O<li>r<li>i<li>k<li>a<li>e<li>s<li>h<li>i<li>{</ul><p h>ふりがな</p><ul><li>}<li>{<li>2<li>}<li>{<li>4<li>}<li> </ul><p b>「</p><ul><li>\<li>b<li>o<li>x<li>0</ul><p b>」</p></div>
<div><ul><li>\<li>O<li>r<li>i<li>k<li>a<li>e<li>s<li>h<li>i<li>{</ul><p j>さおばかり</p><ul><li>}<li>{<li>3<li>}<li>{<li>5<li>}<li> </ul><p b>「</p><ul><li>\<li>b<li>o<li>x<li>0</ul><p b>」</p></div>
<div><ul><li>\<li>O<li>r<li>i<li>k<li>a<li>e<li>s<li>h<li>i<li>{</ul><p v>スタイルファイルの作成</p><ul><li>}<li>{<li>6<li>}<li>{<li>1<li>1<li>}<li> </ul><p b>「</p><ul><li>\<li>b<li>o<li>x<li>0</ul><p b>」</p></div>
<div><p n>と入力しますと</p><p b>，</p><ul><li> </ul><p b>「</p><p h>ふりがな</p><p b>」</p><ul><li> </ul><p b>「</p><p j>さおばかり</p><ul><li> </ul><p b>」</p><ul><li> </ul><p b>「</p><p v>スタイルファイルの作成</p><ul><li> </ul><p b>」</p><p t>のように出力されます</p><p b>．</p></div>
<div><ul><li>2<li>3<li>.<li>3<li> </ul><p p>文字数の半分さて</p><p b>，</p><p bo>文字列に含まれる文字の数の総数を求めます</p><p b>．</p><p f>これは</p><p b>，</p><p n>すでに作成した</p><ul><li>\<li>c<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li> </ul><p r>を修正したものです</p><p b>．</p></div>
<div><p l>求めた総数は</p><p b>，</p><ul><li>\<li>M<li>a<li>x<li>C<li>o<li>u<li>n<li>t<li> </ul><p r>に保存しておきます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>M<li>a<li>x<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>#<li>1<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>\<li>z<li>@</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>\<li>@<li>n<li>e<li>}<li>%</ul></div>
<div><ul><li>\<li>M<li>a<li>x<li>C<li>o<li>u<li>n<li>t<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p bg>文字列の文字数が求められることは</p><p b>，</p></div>
<div class=_mark id=mark57><a  href='#toc57'><p b>第</p><ul><li> <li>2<li>3<li> </ul><p b>章</p><ul><li>.<li> </ul><p p>文字列の折り返し</p><ul><li> <li>1<li>2<li>3</ul></a></div>
<div><ul><li>\<li>C<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{</ul><p v>スタイルファイルの作成</p><ul><li>}<li> </ul><p b>「</p><p h>文字総数</p><ul><li> <li>=<li> <li>\<li>t<li>h<li>e<li>\<li>M<li>a<li>x<li>C<li>o<li>u<li>n<li>t</ul><p b>」</p></div>
<div><p l>と入力すると</p><p b>，</p><ul><li> </ul><p b>「</p><p h>文字総数</p><ul><li> <li>=<li> <li>1<li>1<li> </ul><p b>」</p><p be>と出力されることからわかります</p><p b>．</p><p f>今度は</p><p b>，</p><p j>この総数を</p><ul><li> <li>1<li>/<li>2<li> </ul><p f>にして</p><p b>，</p><p t>折り返し点を求めます</p><p b>．</p><p b>奇</p></div>
<div><p j>数のときは</p><p b>，</p><p be>上段の文字数を大きくしたいので</p><p b>，</p><ul><li>1<li> </ul><p l>を加えてから</p><p b>，</p><ul><li>1<li>/<li>2<li> </ul><p h>にします</p><p b>．</p></div>
<div><p t>奇数かどうかの判断は</p><p b>，</p><ul><li>\<li>i<li>f<li>o<li>d<li>d<li>·<li>·<li>·<li>\<li>f<li>i<li> </ul><p r>の条件文を用います</p><p b>．</p><p h>割り算は</p><p b>，</p><ul><li>\<li>d<li>i<li>v<li>i<li>d<li>e<li> </ul><p n>命令を用います</p><p b>．</p><p l>求めた半分を</p><ul><li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t<li> </ul><p h>カウンタ</p></div>
<div><p b>ー</p><p l>に保存します</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>n<li>e<li>w<li>c<li>o<li>u<li>n<li>t<li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>H<li>a<li>l<li>f<li>L<li>e<li>n<li>g<li>t<li>h<li>#<li>1<li>{<li>\<li>C<li>h<li>a<li>r<li>a<li>c<li>t<li>e<li>r<li>N<li>o<li>{<li>#<li>1<li>}<li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t<li>=<li>\<li>M<li>a<li>x<li>C<li>o<li>u<li>n<li>t</ul></div>
<div><ul><li>\<li>i<li>f<li>o<li>d<li>d<li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t<li> <li>b<li>y<li>1<li>\<li>f<li>i</ul></div>
<div><ul><li>\<li>d<li>i<li>v<li>i<li>d<li>e<li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t<li> <li>b<li>y<li>2<li>\<li>r<li>e<li>l<li>a<li>x<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p p>文字列の文字数の</p><ul><li> <li>1<li>/<li>2<li> </ul><p r>が求められることは</p><p b>，</p></div>
<div><ul><li>\<li>H<li>a<li>l<li>f<li>L<li>e<li>n<li>g<li>t<li>h<li>{</ul><p v>スタイルファイルの作成</p><ul><li>}</ul><p b>「</p><p h>文字総数</p><ul><li>/<li>2<li> <li>=<li> <li>\<li>t<li>h<li>e<li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t</ul><p b>」</p></div>
<div><p l>と入力すると</p><p b>，</p><p b>「</p><p h>文字総数</p><ul><li>/<li>2<li> <li>=<li> <li>6</ul><p b>」</p><p be>と出力されることからわかります</p><p b>．</p></div>
<div><ul><li>2<li>3<li>.<li>4<li> </ul><p r>読みのマクロこれで</p><p b>，</p><p r>準備が終わりました</p><p b>．</p><p h>いよいよ</p><p b>，</p><p l>読みのマクロ</p><ul><li>\<li>Y<li>o<li>m<li>i<li> </ul><p n>を作りましょう</p><p b>．</p><p v>上に述べてきた説明から</p><p b>，</p><p f>内部に</p><ul><li>\</ul></div>
<div><ul><li>H<li>a<li>l<li>f<li>L<li>e<li>n<li>g<li>t<li>h<li> </ul><p d>命令</p><p b>，</p><ul><li>\<li>O<li>r<li>i<li>k<li>a<li>e<li>s<li>h<li>i<li> </ul><p bg>命令を使えばよいことがわかります</p><p b>．</p><p r>折り返し点の位置は</p><p b>，</p></div>
<div><ul><li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t<li> </ul><p n>で与えられます</p><p b>．</p><ul><li>\<li>O<li>r<li>i<li>k<li>a<li>e<li>s<li>h<li>i<li> </ul><p f>で得た</p><ul><li>\<li>b<li>o<li>x<li>0<li> </ul><p bc>の内容を括弧の中に入れますが</p><p b>，</p><p h>このとき</p><p b>，</p><ul><li>\<li>l<li>o<li>w<li>e<li>r</ul></div>
<div><p l>命令を用いて</p><p b>，</p><p r>少し下方に移動させ</p><p b>，</p><p p>見かけを整えます</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>Y<li>o<li>m<li>i<li>#<li>1<li>#<li>2<li>{<li>\<li>l<li>e<li>a<li>v<li>e<li>v<li>m<li>o<li>d<li>e<li>\<li>H<li>a<li>l<li>f<li>L<li>e<li>n<li>g<li>t<li>h<li>{<li>#<li>2<li>}<li>%</ul></div>
<div><ul><li>\<li>O<li>r<li>i<li>k<li>a<li>e<li>s<li>h<li>i<li>{<li>#<li>2<li>}<li>{<li>\<li>H<li>a<li>l<li>f<li>C<li>o<li>u<li>n<li>t<li>}<li>{<li>\<li>M<li>a<li>x<li>C<li>o<li>u<li>n<li>t<li>}<li>%</ul></div>
<div><ul><li>#<li>1<li>\<li>k<li>e<li>r<li>n<li>.<li>2<li>z<li>w<li>(<li>\<li>l<li>o<li>w<li>e<li>r<li>.<li>2<li>z<li>h<li>\<li>b<li>o<li>x<li>0<li>)<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>たとえば</p><p b>，</p></div>
<div><ul><li>\<li>Y<li>o<li>m<li>i<li>{</ul><p d>竿秤</p><ul><li>}<li>{</ul><p j>さおばかり</p><ul><li>}</ul></div>
<div><ul><li>\<li>Y<li>o<li>m<li>i<li>{</ul><p d>螺旋</p><ul><li>}<li>{</ul><p f>らせん</p><ul><li>}</ul></div>
<div><p l>と入力すると</p><p b>，</p><p d>竿秤</p><ul><li> <li>(</ul><p j>さおばかり</p><ul><li> <li>)<li> </ul><p d>螺旋</p><ul><li> <li>(</ul><p f>らせん</p><ul><li> <li>)<li> </ul><p v>という出力が得られます</p><p b>．</p></div>
<div><p h>もちろん</p><p b>，</p><p bq>読みを括弧内に入れる方法には例外があります</p><p b>．</p><p t>たとえば拗音や撥音が</p><ul><li> <li>2<li> <li> </ul><p bm>行目の冒頭にくることをさけたいことなど</p><p b>，</p><p b>考</p></div>
<div><p v>慮すべきことがあります</p><p b>．</p><p t>これに対処したマクロ</p><ul><li>\<li>y<li>o<li>m<li>i<li> </ul><p b>を</p><p b>，</p><p t>拙著の付録のフロッピ</p><p b>ー</p><p r>ディスクに含まれる</p><ul><li> <li>n<li>i<li>p<li>p<li>o<li>n<li>.<li>s<li>t<li>y<li> </ul><p n>というオプショ</p></div>
<div><p bc>ンスタイルに入れておきました</p><p b>．</p><p r>これに関する説明が</p><p b>，</p></div>
<div><p d>拙著</p><ul><li>-<li>-<li> </ul><p b>第</p><ul><li> <li>1<li>7<li> </ul><p bc>章末尾の囲み記事にでています</p><p b>．</p><p f>参考に</p><p b>，</p><p l>ご覧ください</p><p b>．</p></div>
<div></div>
<div><ul><li>1<li>2<li>5</ul></div>
<div><p b>第</p><ul><li>2<li>4</ul><p b>章</p><ul><li> </ul><p h>練習その</p><ul><li>2</ul></div>
<div><p h>文書履歴</p><ul><li> <li>[<li>2<li>0<li>0<li>4<li>/<li>0<li>7<li>/<li>3<li>0<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>2<li>.<li>0<li>0<li>]<li>-<li>[<li>1<li>9<li>9<li>5<li>/<li>0<li>5<li>/<li>2<li>7<li> <li>V<li>e<li>r<li>s<li>i<li>o<li>n<li> <li>1<li>.<li>0<li>0<li>]<li> <li>1</ul></div>
<div><p bo>これまで出てきたテクニックのおさらいです</p><p b>．</p><p cc>文字列の長さを測る方法と文字列の文字数を勘定する方法は</p><p b>，</p><p v>応用範囲のひろいもので</p></div>
<div><p f>すから</p><p b>，</p><p v>よく練習をしてください</p><p b>．</p><p bm>例によって解答を直後に書いてありますが</p><p b>，</p><p bo>解答を見ずに一度自分で解いてみてください</p><p b>．</p></div>
<div><ul><li>2<li>4<li> <li>.<li>1<li> </ul><p v>文字列の長さの測定問題</p><ul><li> <li>2<li>4<li>.<li>1<li> </ul><p bm>引数として与えた文字列の長さを測定して</p><p b>，</p><ul><li>3<li> </ul><p t>字分の長さを足した枠</p><ul><li> <li>(<li>\<li>f<li>b<li>o<li>x<li> </ul><p f>で作成</p><ul><li>)<li> </ul><p h>の中に中</p></div>
<div><p p>央揃えをしなさい</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>流と</p><ul><li> <li>T<li>E<li>X<li> </ul><p bc>流の両方を試してみてください</p><p b>．</p></div>
<div><p f>ヒント</p><ul><li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>で宣言済みの寸法</p><ul><li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li> </ul><p l>を使いなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p><ul><li> </ul><p h>ここでは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>流のみを示します</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>W<li>a<li>k<li>u<li>#<li>1<li>{<li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li> <li>b<li>y<li>3<li>z<li>w</ul></div>
<div><ul><li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>{<li>\<li>h<li>f<li>i<li>l<li>l<li> <li>#<li>1<li>\<li>h<li>f<li>i<li>l<li>l<li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>W<li>a<li>k<li>u<li>{</ul><p f>文字列</p><ul><li>}<li>\<li>q<li>q<li>u<li>a<li>d<li>\<li>W<li>a<li>k<li>u<li>{</ul><p l>文字列の長さ</p><ul><li>}</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p><ul><li> </ul><p f>文字列</p><ul><li> </ul><p p>文字列の長さ問題</p><ul><li> <li>2<li>4<li>.<li>2<li> </ul><p bm>引数として与えた文字列の長さを測定して</p><p b>，</p><ul><li>3<li> </ul><p n>字分の長さを足</p></div>
<div><p f>した枠</p><ul><li> <li>(<li>\<li>f<li>b<li>o<li>x<li> </ul><p f>で作成</p><ul><li>)<li> </ul><p v>の中に左寄せをしなさい</p><p b>．</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p d>流と</p><ul><li> <li>T<li>E<li>X<li> </ul><p bc>流の両方を試してみてください</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p><ul><li> </ul><p h>ここでは</p><p b>，</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p p>流のみを示します</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>L<li>W<li>a<li>k<li>u<li>#<li>1<li>{<li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}</ul></div>
<div><ul><li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li> <li>b<li>y<li>3<li>z<li>w</ul></div>
<div><ul><li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>{<li>#<li>1<li>\<li>h<li>f<li>i<li>l<li>l<li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><ul><li>\<li>W<li>a<li>k<li>u<li>{</ul><p f>文字列</p><ul><li>}<li>\<li>q<li>q<li>u<li>a<li>d<li>\<li>W<li>a<li>k<li>u<li>{</ul><p l>文字列の長さ</p><ul><li>}</ul></div>
<div><ul><li>1<li>c<li> </ul><p d>藤田</p><ul><li> </ul><p d>眞作</p><p b>「</p><ul><li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p><p b>」</p><ul><li>(<li>1<li>6<li>)</ul></div>
<div><ul><li>1<li>2<li>6<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p t>まくろの八衢とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p><ul><li> </ul><p f>文字列</p><ul><li> </ul><p p>文字列の長さ問題</p><ul><li> <li>2<li>4<li>.<li>3<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p b>の</p><ul><li>\<li>p<li>a<li>r<li>b<li>o<li>x<li> </ul><p b>は</p></div>
<div><p b>，</p><p bs>第一引数として寸法を与えるようになっています</p><p b>．</p><p bc>この第一引数を文字列にかえて</p><p b>，</p><p r>その長さを幅にもつ</p><ul><li>\<li>P<li>a<li>r<li>b<li>o<li>x<li> </ul><p p>命令を作りなさい</p></div>
<div><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>P<li>a<li>r<li>b<li>o<li>x<li>#<li>1<li>#<li>2<li>{<li>\<li>s<li>e<li>t<li>t<li>o<li>w<li>i<li>d<li>t<li>h<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>1<li>}<li>%</ul></div>
<div><ul><li>\<li>p<li>a<li>r<li>b<li>o<li>x<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>d<li>i<li>m<li>a<li>}<li>{<li>#<li>2<li>}<li>}</ul></div>
<div><ul><li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>P<li>a<li>r<li>b<li>o<li>x<li>{</ul><p r>文字列の長さを指定</p><ul><li>}<li>{</ul><p bw>文字列の長さを指定することによって箱の幅を決める</p><p b>．</p><ul><li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p></div>
<div><p bw>文字列の長さを指定することによって箱の幅を決める</p><p b>．</p></div>
<div><ul><li>2<li>4<li>.<li>2<li> </ul><p p>文字数の勘定問題</p><ul><li> <li>2<li>4<li>.<li>4<li> <li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p n>命令を応用して</p><p b>，</p><p bq>引数として与えた文字列の前後および文字間に</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p l>を入れなさい</p><p b>．</p><p f>ただし</p><p b>，</p><p b>英</p></div>
<div><p z>単語などは含まないとします</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>i<li>n<li>s<li>e<li>r<li>t<li>c<li>l<li>u<li>b<li>#<li>1<li>{<li>\<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>}</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li> <li>$<li>\<li>c<li>l<li>u<li>b<li>s<li>u<li>i<li>t<li>$<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>}</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li> <li>$<li>\<li>c<li>l<li>u<li>b<li>s<li>u<li>i<li>t<li>$<li>}</ul></div>
<div><ul><li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>}</ul></div>
<div><ul><li>\<li>i<li>n<li>s<li>e<li>r<li>t<li>c<li>l<li>u<li>b<li>{</ul><p f>文字列</p><ul><li>}<li> <li>\<li>q<li>q<li>u<li>a<li>d<li> <li>\<li>q<li>q<li>u<li>a<li>d<li> <li>\<li>i<li>n<li>s<li>e<li>r<li>t<li>c<li>l<li>u<li>b<li>{</ul><p j>記号を挿入</p><ul><li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p></div>
<div><p b>♣</p><ul><li> </ul><p b>文</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>字</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>列</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>記</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>号</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>を</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>挿</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>入</p><ul><li> </ul><p b>♣</p></div>
<div><p d>問題</p><ul><li> <li>2<li>4<li> <li>.<li>5<li> <li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p n>命令を応用して</p><p b>，</p><p bg>引数として与えた文字列の文字間に</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p l>を入れなさい</p><p b>．</p><p f>ただし</p><p b>，</p><p bc>英単語などは含まないとします</p></div>
<div><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div class=_mark id=mark58><a  href='#toc58'><p b>第</p><ul><li> <li>2<li>4<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>練習その</p><ul><li> <li>2<li> <li>1<li>2<li>7</ul></a></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>I<li>n<li>s<li>e<li>r<li>t<li>c<li>l<li>u<li>b<li>#<li>1<li>{<li>\<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>}</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>\<li>e<li>m<li>p<li>t<li>y<li> <li>\<li>e<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>e<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li> <li>$<li>\<li>c<li>l<li>u<li>b<li>s<li>u<li>i<li>t<li>$<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>\<li>f<li>i<li>}</ul></div>
<div><ul><li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>}</ul></div>
<div><ul><li>\<li>I<li>n<li>s<li>e<li>r<li>t<li>c<li>l<li>u<li>b<li>{</ul><p f>文字列</p><ul><li>}<li> <li>\<li>q<li>q<li>u<li>a<li>d<li> <li>\<li>q<li>q<li>u<li>a<li>d<li> <li>\<li>I<li>n<li>s<li>e<li>r<li>t<li>c<li>l<li>u<li>b<li>{</ul><p j>記号を挿入</p><ul><li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p></div>
<div><p b>文</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>字</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>列</p><ul><li> </ul><p b>記</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>号</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>を</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p b>挿</p><ul><li> </ul><p b>♣</p><ul><li> </ul><p f>入問題</p><ul><li> <li>2<li>4<li> <li>.<li> <li>6<li> <li> <li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p n>命令を応用して</p><p b>，</p><p bq>引数として与えた文字列の前後および文字間に</p><ul><li>\</ul></div>
<div><ul><li>h<li>f<li>i<li>l<li>l<li> </ul><p p>による空白を入れ</p><p b>，</p><p b>幅</p><ul><li> <li>5<li>c<li>m<li> </ul><p r>の枠内に入れなさい</p><p b>．</p><p f>ただし</p><p b>，</p><p bc>英単語などは含まないとします</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>I<li>N<li>S<li>E<li>R<li>T<li>s<li>p<li>a<li>c<li>e<li>#<li>1<li>{<li>\<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>h<li>f<li>i<li>l<li>l<li>=<li>\<li>r<li>e<li>l<li>a<li>x<li>%</ul></div>
<div><ul><li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>\<li>e<li>m<li>p<li>t<li>y<li> <li>\<li>x<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>h<li>f<li>i<li>l<li>l<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>\<li>e<li>l<li>s<li>e</ul></div>
<div><ul><li>\<li>x<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>\<li>h<li>f<li>i<li>l<li>l<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>\<li>f<li>i<li>}<li>%</ul></div>
<div><ul><li>\<li>x<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li> <li>\<li>h<li>f<li>i<li>l<li>l<li>}<li>}<li>%</ul></div>
<div><ul><li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>5<li>c<li>m<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>}<li>}</ul></div>
<div><ul><li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>I<li>N<li>S<li>E<li>R<li>T<li>s<li>p<li>a<li>c<li>e<li>{</ul><p f>文字列</p><ul><li>}<li>}<li> <li>\<li>q<li>q<li>u<li>a<li>d<li> <li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>I<li>N<li>S<li>E<li>R<li>T<li>s<li>p<li>a<li>c<li>e<li>{</ul><p j>記号を挿入</p><ul><li>}<li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p></div>
<div><p f>文字列</p><ul><li> </ul><p n>記号を挿入問題</p><ul><li> <li>2<li>4<li>.<li>7<li> <li>\<li>@<li>t<li>f<li>o<li>r<li> </ul><p bm>命令を応用した前問までの結果を踏まえて</p><p b>，</p><p bu>引数として与えた文字列の自動均等割を実現しなさ</p></div>
<div><p b>い</p><p b>．</p><p f>ただし</p><p b>，</p><p bc>英単語などは含まないとします</p><p b>．</p></div>
<div><p f>ヒント</p><ul><li> </ul><p b>　</p><p x>文字列の文字数を勘定して</p><p b>，</p><ul><li>\<li>h<li>b<li>o<li>x<li> </ul><p l>の長さをきめ</p><p b>，</p><p p>文字と文字の間に</p><ul><li>\<li>h<li>f<li>i<li>l<li>l<li> </ul><p v>を入れるようにしなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>#<li>1<li>{<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li>\<li>z<li>@<li>\<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>}<li>%</ul></div>
<div><ul><li>{<li>\<li>l<li>e<li>t<li>\<li>h<li>f<li>i<li>l<li>l<li>=<li>\<li>r<li>e<li>l<li>a<li>x<li>\<li>@<li>t<li>f<li>o<li>r<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>:<li>=<li>#<li>1<li>\<li>d<li>o<li>{<li>%</ul></div>
<div><ul><li>\<li>i<li>f<li>x<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>\<li>e<li>m<li>p<li>t<li>y<li> <li>\<li>x<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>\<li>e<li>l<li>s<li>e<li>%</ul></div>
<div><ul><li>\<li>x<li>d<li>e<li>f<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>\<li>h<li>f<li>i<li>l<li>l<li> <li>\<li>m<li>e<li>m<li>b<li>e<li>r<li>}<li>\<li>f<li>i<li>%</ul></div>
<div><ul><li>\<li>g<li>l<li>o<li>b<li>a<li>l<li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> <li>b<li>y<li>1<li>}<li>}<li>%</ul></div>
<div><ul><li>1<li>2<li>8<li> </ul><p h>藤田眞作</p><ul><li>:<li> <li>L<li>A<li>T<li>E<li>X<li> <li>2</ul><p b>ε</p><p l>まくろの八衢</p></div>
<div><ul><li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li><<li>2<li>%</ul></div>
<div><ul><li>\<li>e<li>l<li>s<li>e<li> <li>\<li>i<li>f<li>n<li>u<li>m<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li><<li>6<li> <li>\<li>a<li>d<li>v<li>a<li>n<li>c<li>e<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> <li>b<li>y<li>2<li> <li>\<li>f<li>i<li>\<li>f<li>i<li>%</ul></div>
<div><ul><li>\<li>h<li>b<li>o<li>x<li> <li>t<li>o<li>\<li>@<li>t<li>e<li>m<li>p<li>c<li>n<li>t<li>a<li> <li>z<li>w<li>{<li>\<li>m<li>o<li>j<li>i<li>r<li>e<li>t<li>u<li>}<li>}</ul></div>
<div><p b>例</p><ul><li>:<li> <li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p d>文字</p><ul><li>}<li>}<li> <li>\<li>q<li>u<li>a<li>d<li> <li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p f>文字列</p><ul><li>}<li>}<li> <li>\<li>q<li>u<li>a<li>d</ul></div>
<div><ul><li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p h>自動均等</p><ul><li>}<li>}<li> <li>\<li>q<li>u<li>a<li>d<li> <li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p j>自動均等割</p><ul><li>}<li>}<li> <li>\<li>q<li>u<li>a<li>d</ul></div>
<div><ul><li>\<li>f<li>b<li>o<li>x<li>{<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>{</ul><p l>文字列均等割</p><ul><li>}<li>}<li> <li>\<li>q<li>u<li>a<li>d</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p></div>
<div><p b>例</p><ul><li> </ul></p><ul><li>:<li> </ul><p b>文</p><ul><li> </ul><p b>字</p><ul><li> <li> </ul><p f>文字列</p><ul><li> </ul><p b>自</p><ul><li> </ul><p f>動均等</p><ul><li> </ul><p b>自</p><ul><li> </ul><p h>動均等割</p><ul><li> <li> </ul><p j>文字列均等</p><ul><li> </ul><p f>割問題</p><ul><li> <li>2<li>4<li> <li>.<li>8<li> </ul><p d>前問</p><ul><li> </ul><p j>で作成した</p><ul><li> </ul></p><ul><li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p d>を用</p><ul><li> </ul><p d>いて</p><p b>，</p><ul><li>\<li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>b<li>e<li> </ul><p b>や</p><ul><li>\</ul></div>
<div><ul><li>J<li>d<li>e<li>s<li>c<li>r<li>i<li>p<li>t<li>i<li>o<li>n<li> </ul><p x>の別の定義を作成しなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p><ul><li> <li>(</ul><p d>省略</p><ul><li>)<li> </ul><p v>読者自ら試してください</p><p b>．</p><ul><li>\<li>j<li>i<li>d<li>o<li>u<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p bk>命令などのかわりに用いるだけですから</p><p b>，</p><p v>容易にできると思います</p><p b>．</p></div>
<div><p d>問題</p><ul><li> <li>2<li>4<li>.<li>9<li> </ul><p n>前問で作成した</p><ul><li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p h>を用いて</p><p b>，</p><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p bc>命令の引数を均等割にしなさい</p><p b>．</p><p f>名前を</p></div>
<div><ul><li>\<li>C<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p j>としなさい</p><p b>．</p><p f>ただし</p><p b>，</p><ul><li>\<li>C<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p bm>命令はオプション引数をとらないとします</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>C<li>a<li>p<li>t<li>i<li>o<li>n<li>#<li>1<li>{<li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>[<li>]<li>{<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>1<li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>c<li>a<li>p<li>t<li>y<li>p<li>e<li>{<li>t<li>a<li>b<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>C<li>a<li>p<li>t<li>i<li>o<li>n<li>{</ul><p f>文字列</p><ul><li>}</ul></div>
<div><ul><li>\<li>C<li>a<li>p<li>t<li>i<li>o<li>n<li>{</ul><p j>自動均等割</p><ul><li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p></div>
<div><p b>表</p><ul><li> <li>2<li>4<li> <li>.<li>1<li>:<li> </ul><p h>文字列表</p><ul><li> <li>2<li>4<li>.<li>2<li>:<li> </ul><p n>自動均等割問題</p><ul><li> <li>2<li>4<li>.<li>1<li>0<li> </ul><p j>前問と同様</p><ul><li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li> </ul><p h>を用いて</p><p b>，</p><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p bc>命令の引数を均等割にしなさい</p><p b>．</p><p b>た</p></div>
<div><p d>だし</p><p b>，</p><p f>今回は</p><p b>，</p><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p bk>命令はオプション引数をとるとしなさい</p><p b>．</p></div>
<div><p f>ヒント</p><ul><li> <li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p n>命令の内部命令</p><ul><li>\<li>@<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p bc>を再定義する方法をとりなさい</p><p b>．</p></div>
<div><p b>解</p><ul><li> </ul><p b>答</p><ul><li> </ul><p h>内部命令</p><ul><li>\<li>@<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p b>は</p><ul><li> <li>l<li>a<li>t<li>e<li>x<li>.<li>t<li>e<li>x<li> </ul><p x>の中を調べてみてください</p><p b>．</p><p j>この命令は</p><p b>，</p><p r>引数を三つ取ります</p><p b>．</p></div>
<div><p n>三番目の引数が</p><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li> </ul><p bg>命令の引数を受け継いでいますので</p><p b>，</p><p t>これを均等割にします</p><p b>．</p></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>l<li>e<li>t<li>t<li>e<li>r</ul></div>
<div><ul><li>\<li>l<li>e<li>t<li>\<li>o<li>l<li>d<li>@<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>=<li>\<li>@<li>c<li>a<li>p<li>t<li>i<li>o<li>n</ul></div>
<div class=_mark id=mark59><a  href='#toc59'><p b>第</p><ul><li> <li>2<li>4<li> </ul><p b>章</p><ul><li>.<li> </ul><p h>練習その</p><ul><li> <li>2<li> <li>1<li>2<li>9</ul></a></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>#<li>1<li>[<li>#<li>2<li>]<li>#<li>3<li>{<li>\<li>o<li>l<li>d<li>@<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>{<li>#<li>1<li>}<li>[<li>#<li>2<li>]<li>{<li>\<li>J<li>I<li>D<li>O<li>U<li>k<li>i<li>n<li>t<li>o<li>u<li>{<li>#<li>3<li>}<li>}<li>}</ul></div>
<div><ul><li>\<li>d<li>e<li>f<li>\<li>@<li>c<li>a<li>p<li>t<li>y<li>p<li>e<li>{<li>t<li>a<li>b<li>l<li>e<li>}</ul></div>
<div><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>{</ul><p f>文字列</p><ul><li>}</ul></div>
<div><ul><li>\<li>c<li>a<li>p<li>t<li>i<li>o<li>n<li>[</ul><p j>自動均等割</p><ul><li>]<li>{</ul><p j>自動均等割</p><ul><li>}</ul></div>
<div><ul><li>\<li>m<li>a<li>k<li>e<li>a<li>t<li>o<li>t<li>h<li>e<li>r</ul></div>
<div><p h>とすれば</p><p b>，</p><p v>つぎの出力が得られます</p><p b>．</p></div>
<div><p b>表</p><ul><li> <li>2<li>4<li>.<li>3<li>:<li> </ul><p h>文字列表</p><ul><li> <li>2<li>4<li>.<li>4<li>:<li> </ul><p j>自動均等割</p></div><hr><div><ul><li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li>c<li>o<li>y<li>o<li>v<li>e<li> <li>w<li>i<li>t<li>h<li> <li>g<li>o<li>8<li>0<li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> <li> </ul></div>
</div>
</html>
